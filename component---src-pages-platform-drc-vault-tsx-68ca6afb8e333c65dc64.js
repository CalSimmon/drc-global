(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"0Y+q":function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"contractURI","type":"string"},{"internalType":"string","name":"tokenURIPrefix","type":"string"},{"internalType":"address","name":"signer","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"address","name":"_operator","type":"address"},{"indexed":false,"internalType":"bool","name":"_approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"}],"name":"CreateERC1155_v1","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address[]","name":"recipients","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"bps","type":"uint256[]"}],"name":"SecondarySaleFees","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"}],"name":"SignerAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"}],"name":"SignerRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_operator","type":"address"},{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"_ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"_values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_operator","type":"address"},{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"_value","type":"string"},{"indexed":true,"internalType":"uint256","name":"_id","type":"uint256"}],"name":"URI","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"addSigner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256[]","name":"_ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"contractURI","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creators","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"fees","outputs":[{"internalType":"address payable","name":"recipient","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"getFeeBps","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"getFeeRecipients","outputs":[{"internalType":"address payable[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isSigner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"},{"components":[{"internalType":"address payable","name":"recipient","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"internalType":"struct ERC1155Base.Fee[]","name":"fees","type":"tuple[]"},{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"string","name":"uri","type":"string"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"removeSigner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"renounceSigner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256[]","name":"_ids","type":"uint256[]"},{"internalType":"uint256[]","name":"_values","type":"uint256[]"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"uint256","name":"_value","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_operator","type":"address"},{"internalType":"bool","name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"contractURI","type":"string"}],"name":"setContractURI","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"tokenURIPrefix","type":"string"}],"name":"setTokenURIPrefix","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"tokenURIPrefix","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"}]')},Q0lq:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n("eIJk"),s=n("B7F5"),i=n("F3Up"),c=n("HaE+"),o=n("zLVn"),u=n("o0o1"),l=n.n(u),d=n("NBHz"),b=n("fm8O"),p=n("2StP"),j=n("ncn8"),m=n("2hMM"),O=n("HyWp"),x=n.n(O),f=n("577O"),g=new x.a({max:5e4,maxAge:3e5}),y=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.web3,a=t.userAccount,r=t.contractAddress,s=t.force,i="drcVaultHolding_"+a,!(c=g.get(i))||s){e.next=5;break}return e.abrupt("return",c);case 5:return e.prev=5,o=new n.eth.Contract(f.abi,r),e.next=9,o.methods.balanceOf(a).call();case 9:return(u=e.sent)&&g.set(i,u),e.abrupt("return",Number(u));case 14:return e.prev=14,e.t0=e.catch(5),console.error("Failed to get user DRC vault holding",a,e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),h=n("KQm4"),v=(n("ToJy"),n("twir")),w=n("hqjR");function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var A,k=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u,d,b,p,j,m,O;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.web3,a=t.userAccount,r=t.contractAddress,e.prev=1,s=new n.eth.Contract(f.abi,r),e.next=5,s.getPastEvents("Deposit",{filter:{user:a},fromBlock:1});case 5:return i=e.sent,e.next=8,s.getPastEvents("Withdraw",{filter:{user:a},fromBlock:1});case 8:c=e.sent,o=[].concat(Object(h.a)(i),Object(h.a)(c)).sort((function(e,t){return t.blockNumber-e.blockNumber})),u=[],d=C(o);case 12:if((b=d()).done){e.next=22;break}return p=b.value,j=p.blockNumber,e.next=17,Object(w.a)(n,j);case 17:m=e.sent,O=p.returnValues.amount?Number(p.returnValues.amount):void 0,u.push({id:""+p.transactionHash+p.logIndex,eventName:p.event,transactionHash:p.transactionHash,timestamp:m,timeFormated:Object(v.a)(m),drcAmount:O});case 20:e.next=12;break;case 22:return e.abrupt("return",u);case 25:return e.prev=25,e.t0=e.catch(1),console.error("Failed to get past DRC vault transactions",a,e.t0),e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(t){return e.apply(this,arguments)}}(),D=n("meUc"),S=n.n(D),R={chainId:1,contractAddress:d.b.mainnet,userAccount:"0x0",web3:new S.a,appState:{activeAction:"deposit",setActiveDrAction:function(){}},disconnectWallet:function(){},drcBalance:{loading:!0},drcPrice:{loading:!0},userVaultHolding:{loading:!0},totalVaultHolding:{loading:!0},userTransactions:{loading:!0},updateVaultData:(A=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return A.apply(this,arguments)})},I=a.createContext(R),M=n("qKvR"),W=["children"],B=function(e){var t,n=e.children,r=Object(o.a)(e,W),s=a.useState("deposit"),i=s[0],u=s[1],O=a.useState(R.drcBalance),x=O[0],f=O[1],g=a.useState(R.userVaultHolding),h=g[0],v=g[1],w=a.useState(R.totalVaultHolding),C=w[0],T=w[1],A=a.useState(R.userTransactions),D=A[0],S=A[1],B=r.web3,V=r.userAccount,E=r.chainId,P=3===E?"ropsten":"mainnet",N=d.b[P],H=Object(b.a)({id:"digital-reserve-currency"}),L={loading:H.loading,data:null===(t=H.data)||void 0===t?void 0:t.usd},_=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(j.a)({web3:B,userAccount:V,chainId:E}).then((function(e){f({loading:!1,data:null!==e?e:x.data||0})})),y({web3:B,userAccount:V,contractAddress:N,force:!0}).then((function(e){v({loading:!1,data:null!==e?e:h.data})})),Object(m.a)({web3:B,contractAddress:N,force:!0}).then((function(e){T({loading:!1,data:null!==e?e:C.data})})),k({web3:B,userAccount:V,contractAddress:N}).then((function(e){S({loading:!1,data:e||D.data})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.useEffect((function(){return _(),Object(p.a)(B,_),document.addEventListener("visibilitychange",(function(){document.hidden?B.eth.clearSubscriptions((function(){})):(_(),Object(p.a)(B,_))})),function(){B.eth.clearSubscriptions((function(){}))}}),[V,E]);var U=Object.assign({contractAddress:N,appState:{activeAction:i,setActiveDrAction:u},drcBalance:x,drcPrice:L,userVaultHolding:h,totalVaultHolding:C,userTransactions:D,updateVaultData:_},r);return Object(M.jsx)(I.Provider,{value:U},n)},V=n("xv2C"),E=n("GaFH"),P=n("JMPC"),N=n("EvNZ"),H=n("3VFB"),L=n("WIPX"),_=n("oy2d"),U=n("n5YA"),F=n("GXuf"),z=n("CRmZ"),Y=n("q4O+"),G=n("etk6"),q=n("1Oda"),K=n("tXwF"),X=n("JsoQ"),J=n("0Y+q"),$={gen00:3,gen01:16},Q=new x.a({max:5e4,maxAge:3e5}),Z=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.web3,a=t.userAccount,r=t.nftGen,s="userNftBalance_"+r+"_"+a,!(i=Q.get(s))){e.next=5;break}return e.abrupt("return",i);case 5:return c=n||X.a,o=new c.eth.Contract(J,"0xe57b446d45432A1827210240ef18a21059Bfe945"),e.prev=7,e.t0=Number,e.next=11,o.methods.balanceOf(a,$[r]).call();case 11:return e.t1=e.sent,(u=(0,e.t0)(e.t1))&&Q.set(s,u),e.abrupt("return",u);case 17:return e.prev=17,e.t2=e.catch(7),console.error("Failed to get user NFT holding",r,a,e.t2),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}(),ee=new x.a({max:5e4,maxAge:3e5}),te=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.web3,a=t.contractAddress,r=t.force,s="drcVaultHolders",!(i=ee.get(s))||r){e.next=5;break}return e.abrupt("return",i);case 5:return c=n||X.a,e.prev=6,o=new c.eth.Contract(f.abi,a),e.next=10,o.methods.holders().call();case 10:return(u=e.sent)&&ee.set(s,u),e.abrupt("return",u);case 15:return e.prev=15,e.t0=e.catch(6),console.error("Failed to get DRC vault holders",e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}();function ne(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var re,se,ie=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.web3,a=t.contractAddress,r=n||X.a,e.prev=2,e.delegateYield(l.a.mark((function e(){var t,n,s,i,o,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te({web3:r,contractAddress:a});case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return t=e.t0,e.next=8,Object(m.a)({web3:r,contractAddress:a});case 8:for(n=e.sent,s=[],i=function(){var e=u.value,t=function(){var t=Object(c.a)(l.a.mark((function t(){var s,i,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({web3:r,contractAddress:a,userAccount:e});case 2:return s=t.sent,t.next=5,Z({web3:r,userAccount:e,nftGen:"gen00"});case 5:return i=t.sent,t.next=8,Z({web3:r,userAccount:e,nftGen:"gen01"});case 8:if(c=t.sent,!s||!n){t.next=11;break}return t.abrupt("return",{address:e,holding:s,percentage:s/n,gen00:Boolean(i),gen01:Boolean(c)});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();s.push(t())},o=ne(t);!(u=o()).done;)i();return e.next=14,Promise.all(s);case 14:return d=e.sent,e.abrupt("return",{v:{total:n,holders:d.filter(Boolean).sort((function(e,t){return t.holding-e.holding}))}});case 16:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:if("object"!=typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=13;break;case 9:return e.prev=9,e.t1=e.catch(2),console.error("Failed get DRC vault info",e.t1),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),ce=n("RtJw"),oe=n("Ns4d"),ue=n("cGF3"),le=n("nVed"),de=n("bY7u"),be=n("NPyL"),pe=n("MxF9"),je={tableContainer:((re={})[pe.a.Mobile]={overflow:"auto",marginLeft:Object(N.a)(-2),marginRight:Object(N.a)(-2),paddingLeft:Object(N.a)(2)},re),table:function(e){var t,n;return{width:"100%",minWidth:Object(N.a)(58),thead:{th:(t={fontSize:18,fontWeight:be.a.Weight.Bold,textAlign:"left",paddingLeft:Object(N.a)(1.5),paddingRight:Object(N.a)(1.5),paddingBottom:Object(N.a)(2),borderBottom:"1px solid "+e.border,":first-of-type":{paddingLeft:0},":last-of-type":{paddingRight:0}},t[pe.a.Mobile]={paddingLeft:Object(N.a)(1),paddingRight:Object(N.a)(1)},t)},tbody:{tr:{":first-of-type":{td:{paddingTop:Object(N.a)(3)}}},td:(n={padding:Object(N.a)(1.5),paddingBottom:Object(N.a)(1),":first-of-type":{paddingLeft:0},":last-of-type":{paddingRight:0}},n[pe.a.Mobile]={paddingLeft:Object(N.a)(1),paddingRight:Object(N.a)(1)},n)}}},indexCell:{display:"flex",alignItems:"center"},gen00:function(e){return{display:"inline-block",width:0,height:0,border:"4.5px solid transparent",borderBottom:"6px solid "+e.text,position:"relative",top:"-5px","::after":{content:"''",position:"absolute",left:"-4.5px",top:"6px",width:0,height:0,border:"4.5px solid transparent",borderTop:"6px solid "+e.text}}},gen01:function(e){return{display:"inline-block",width:9,height:9,backgroundColor:e.text,borderRadius:"50%"}},yourDrc:{fontWeight:be.a.Weight.Bold},progressBar:function(e){return{height:3,backgroundColor:e.secondaryBackground,borderRadius:3,overflow:"hidden",marginTop:3,"> div":{height:"100%",backgroundColor:e.foreground}}},toggleButton:{display:"flex",justifyContent:"center",marginTop:Object(N.a)(2.5)},button:((se={width:"100%"})[pe.a.DesktopTablet]={maxWidth:Object(N.a)(30)},se),legendContainer:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:Object(N.a)(2.5)}},me=function(e){var t=e.holders,n=a.useState(!1),r=n[0],s=n[1],i=a.useContext(V.a),c=Object(b.a)({id:"digital-reserve-currency"}).data,o=null==c?void 0:c.usd,u=i.isConnected?i.chainId:1,l=i.isConnected?i.userAccount:void 0;if(0===t.length||!o)return null;var d=r?t:t.slice(0,20);return Object(M.jsx)(a.Fragment,null,Object(M.jsx)("div",{css:je.tableContainer},Object(M.jsx)("table",{css:je.table},Object(M.jsx)("thead",null,Object(M.jsx)("tr",null,Object(M.jsx)("th",null,"Rank"),Object(M.jsx)("th",null,"Address"),Object(M.jsx)("th",null,"Quantity"),Object(M.jsx)("th",null,"Percentage"),Object(M.jsx)("th",null,"Value"))),Object(M.jsx)("tbody",null,d.map((function(e,t){var n=e.holding,a=e.address,r=e.percentage,s=e.gen00,i=e.gen01;return Object(M.jsx)("tr",{key:a,css:Object(le.b)(l,a)&&je.yourDrc},Object(M.jsx)("td",null,Object(M.jsx)("div",{css:je.indexCell},t+1,s&&Object(M.jsx)(Y.a,{css:je.gen00,margin:{left:7}}),i&&Object(M.jsx)(Y.a,{css:je.gen01,margin:{left:6}}))),Object(M.jsx)("td",null,Object(M.jsx)("a",{href:Object(_.a)(a,u),target:"_blank",rel:"noreferrer"},Object(le.b)(l,a)?"Your DRC":Object(le.a)(a))),Object(M.jsx)("td",null,Object(K.b)({value:n})),Object(M.jsx)("td",null,Object(M.jsx)("div",null,Object(K.b)({value:100*r,round:2}),"%"),Object(M.jsx)("div",{css:je.progressBar},Object(M.jsx)("div",{style:{width:100*r+"%"}}))),Object(M.jsx)("td",null,Object(K.a)({value:n*o,currency:G.a.USD,round:2})))}))))),t.length>20&&Object(M.jsx)("div",{css:je.toggleButton},Object(M.jsx)(de.a,{type:"primary",css:je.button,onClick:function(){return s(!r)}},r?"SHOW LESS":"SHOW ALL")),Object(M.jsx)("div",{css:je.legendContainer},Object(M.jsx)(Y.a,{type:"secondary",textSize:14,margin:{right:Object(N.a)(3)}},Object(M.jsx)(Y.a,{margin:{right:Object(N.a)(1)},css:je.gen00}),"GEN00 NFT"),Object(M.jsx)(Y.a,{type:"secondary",textSize:14},Object(M.jsx)(Y.a,{margin:{right:Object(N.a)(1)},css:je.gen01}),"GEN01 NFT")))},Oe=function(){var e=a.useContext(V.a),t=a.useContext(q.a).isMobile,n=a.useState(),r=n[0],s=n[1],i=Object(b.a)({id:"digital-reserve-currency"}).data,o=e.loading?void 0:e.web3,u=e.loading?1:e.chainId,p=3===u?"ropsten":"mainnet",j=d.b[p],m=function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie({web3:o,contractAddress:j});case 2:(t=e.sent)&&s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.useEffect((function(){m();var e=setInterval((function(){return m()}),3e5);return function(){clearInterval(e)}}),[u]),r?Object(M.jsx)(a.Fragment,null,Object(M.jsx)(z.a,{textAlign:"center",margin:{bottom:Object(N.a)(3.5)}},"DRC Holders in DRC Vault"),Object(M.jsx)(L.a,{margin:{desktop:{bottom:Object(N.a)(4)},mobile:{bottom:Object(N.a)(3)}}},Object(M.jsx)(oe.a,null,Object(M.jsx)(ce.a,{spanLg:4,spanMd:4,spanSm:12,isNoMarginBottom:!t,isNarrowMargin:t},Object(M.jsx)(ue.a,{label:"Total Holders",value:""+r.holders.length})),Object(M.jsx)(ce.a,{spanLg:4,spanMd:4,spanSm:12,isNoMarginBottom:!t,isNarrowMargin:t},Object(M.jsx)(ue.a,{label:"Total DRC Locked",value:Object(K.b)({value:r.total,round:0})||"-"})),Object(M.jsx)(ce.a,{spanLg:4,spanMd:4,spanSm:12,isNoMarginBottom:!t,isNarrowMargin:t},Object(M.jsx)(ue.a,{label:"Total Value Locked",value:""+(r.total&&null!=i&&i.usd?Object(K.a)({value:r.total*i.usd,currency:G.a.USD,round:2}):"$-")})))),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(4)}},Object(M.jsx)(me,{holders:r.holders}))):null},xe=n("S/Nt"),fe=n("CsR2"),ge=n("kFxD"),ye=n("t/gn"),he=n("q5xY"),ve=n.n(he),we=n("02vp"),Ce=n.n(we),Te=n("lhtC"),Ae=n("4XXU"),ke=n("CvG4"),De=n("9MhI"),Se=[ke.a.Black,ke.a.BorderGrey],Re=[ke.a.White,ke.a.DarkModeBorderGrey],Ie=function(e){var t=e.percentage,n=[{name:"Your DRC",percentage:t},{name:"Other holders",percentage:100-t}],r=a.useContext(q.a).isDarkMode?Re:Se;return Object(M.jsx)("div",null,Object(M.jsx)("div",{css:De.a.percentageChartContainer},Object(M.jsx)(Ae.f,{width:"100%",height:150},Object(M.jsx)(Ae.e,null,Object(M.jsx)(Ae.d,{outerRadius:75,innerRadius:45,startAngle:90,endAngle:450,data:n,dataKey:"percentage",nameKey:"name",labelLine:!1,strokeWidth:0},n.map((function(e,t){return Object(M.jsx)(Ae.a,{key:"cell-"+t,fill:r[t%r.length]})}))))),Object(M.jsx)("div",{css:De.a.percentage},t,"%")),Object(M.jsx)("div",{css:De.a.legendContainer},Object(M.jsx)("div",{css:Object(M.css)([De.a.legendItem,De.a.largeLegendItem],"")},Object(M.jsx)("div",{css:Object(M.css)([De.a.indicator,{backgroundColor:r[0]}],"")}),Object(M.jsx)("div",null,"Your DRC"))))},Me={content:{padding:Object(N.a)(3)+" "+Object(N.a)(2.5)+" "+Object(N.a)(4)},headingContainer:{textAlign:"center",marginBottom:Object(N.a)(2.5)},imageContainer:{width:Object(N.a)(6),height:Object(N.a)(6),marginLeft:"auto",marginRight:"auto",marginBottom:Object(N.a)(2.5),img:{width:"100%"}}},We=function(){var e=a.useContext(I),t=e.drcPrice.data,n=e.userVaultHolding.data,r=e.totalVaultHolding.data,s=a.useContext(q.a).isDarkMode?Ce.a:ve.a,i=void 0!==n&&t?n*t:void 0,c=n&&r?Math.round(n/r*1e3)/10:0;return Object(M.jsx)("div",null,Object(M.jsx)("div",{css:Me.content},Object(M.jsx)("div",{css:Me.headingContainer},Object(M.jsx)("div",{css:Me.imageContainer},Object(M.jsx)(Te.a,{src:s,alt:"Logo"})),Object(M.jsx)(Y.a,{component:"div",weight:be.a.Weight.Bold,margin:{bottom:Object(N.a)(.5)}},"Your DRC share in DRC Vault"),Object(M.jsx)(Y.a,{component:"div",textSize:24,weight:be.a.Weight.Bold,margin:{bottom:Object(N.a)(.5)}},Object(K.b)({value:n})||"-"," ","DRC"),Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:14},Object(K.a)({value:i,round:2,currency:G.a.USD})||"$-"," ","USD")),Object(M.jsx)(Ie,{percentage:c})))},Be=n("7fOE"),Ve={content:{padding:Object(N.a)(3)+" "+Object(N.a)(2.5)+" "+Object(N.a)(3.5)},headingContainer:{display:"flex",justifyContent:"space-between",marginBottom:Object(N.a)(3)},heading:{maxWidth:Object(N.a)(13),fontWeight:be.a.Weight.Bold,lineHeight:"20px"},headingContent:{textAlign:"right"},percentage:{fontSize:50,fontWeight:be.a.Weight.Bold,textAlign:"center",marginBottom:Object(N.a)(2)},center:{textAlign:"center"},button:{width:"100%"},inlineContainer:{display:"flex",justifyContent:"space-between",lineHeight:"16px"},txHistoryButton:{display:"flex",justifyContent:"center",alignItems:"center",height:Object(N.a)(4),cursor:"pointer","> img":{marginRight:Object(N.a)(1)}}},Ee=n("gCfz"),Pe=n("5myJ"),Ne=n("kfNg"),He=n("uxxf"),Le=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.web3,a=t.userAccount,r=t.contractAddress,0!==(s=t.amount)){e.next=3;break}return e.abrupt("return",0);case 3:return i=new n.eth.Contract(f.abi,r),e.prev=4,e.next=7,Object(He.a)(n);case 7:return c=e.sent,e.next=10,i.methods.deposit(a,s).estimateGas({from:a,gasPrice:c});case 10:if(o=e.sent,!c){e.next=22;break}return u=Number(n.utils.fromWei(c,"gwei"))*Math.round(1.1*o)/Math.pow(10,9),e.next=15,Object(Ne.a)();case 15:if(e.t0=e.sent,e.t0){e.next=18;break}e.t0=0;case 18:return d=e.t0,e.abrupt("return",u*d);case 22:return e.abrupt("return",null);case 23:e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(4),e.abrupt("return",null);case 28:case"end":return e.stop()}}),e,null,[[4,25]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.web3,a=t.userAccount,r=t.contractAddress,s=t.amount,i=t.onTxHash,e.prev=1,c=new n.eth.Contract(f.abi,r),e.next=5,Object(He.a)(n);case 5:return o=e.sent,u=void 0,e.prev=7,e.next=10,c.methods.deposit(a,s).estimateGas({from:a,gasPrice:o});case 10:u=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log("Can't estimate gas",e.t0);case 16:return e.next=18,c.methods.deposit(a,s).send({from:a,gasPrice:o,gas:u?Math.round(1.1*u):void 0}).on("transactionHash",i);case 18:return e.abrupt("return",{success:!0});case 21:return e.prev=21,e.t1=e.catch(1),console.error("Deposit failed",e.t1),e.abrupt("return",{success:!1});case 25:case"end":return e.stop()}}),e,null,[[1,21],[7,13]])})));return function(t){return e.apply(this,arguments)}}();var Ue,Fe,ze={name:"70qvj9",styles:"display:flex;align-items:center;"},Ye=function(e){var t=e.amount,n=e.approveAmount,r=e.onSuccess,s=a.useState("none"),i=s[0],o=s[1],u=a.useState(),d=u[0],b=u[1],p=a.useState("none"),j=p[0],m=p[1],O=a.useState(),x=O[0],f=O[1],g=a.useState(0),y=g[0],h=g[1],v=a.useState(0),w=v[0],C=v[1],T=a.useContext(I),A=T.chainId,k=T.contractAddress,D=T.web3,S=T.userAccount,R=T.drcBalance.data,W=void 0===R?0:R,B=T.updateVaultData;a.useEffect((function(){t>0?t>y?Object(Ee.b)({web3:D,userAccount:S,contractAddress:k,amount:n,chainId:A}).then((function(e){return C(e||0)})):Le({web3:D,userAccount:S,contractAddress:k,amount:t}).then((function(e){return C(e||0)})):C(0)}),[t,y,S]);var V=function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ee.c)({web3:D,userAccount:S,contractAddress:k,chainId:A});case 2:t=e.sent,h(t||0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.useEffect((function(){V()}),[S,A]);var E=function(){var e=Object(c.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("pending"!==i&&t>0&&t>y)){e.next=15;break}return m("none"),f(void 0),o("pending"),e.next=6,Object(Ee.a)({web3:D,userAccount:S,contractAddress:k,amount:n,onTxHash:b,chainId:A});case 6:if(a=e.sent,!a.success){e.next=14;break}return e.next=11,V();case 11:o("success"),e.next=15;break;case 14:o("failed");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("pending"!==j&&t>0&&y>=t)){e.next=9;break}return o("none"),b(void 0),m("pending"),e.next=6,_e({web3:D,userAccount:S,contractAddress:k,amount:t,onTxHash:f});case 6:n=e.sent,n.success?(m("success"),B(),r()):m("failed");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Object(K.b)({value:t}),L={none:"Approve "+H+" DRC",pending:"Please wait a moment, or check on Etherscan if this hangs for too long",success:"You can now deposit DRC",failed:"Please try approve again"},U={none:"Deposit "+H+" DRC",pending:"Please wait a moment, or check on Etherscan if this hangs for too long",success:"DRC successfully deposited",failed:"Please try depositing again"};return 0===W||t>W?Object(M.jsx)(de.a,{css:Ve.button,type:"primary"},"INSUFFICIENT DRC"):Object(M.jsx)(a.Fragment,null,Object(M.jsx)("div",{css:ze},t>y&&Object(M.jsx)(de.a,{css:Object(M.css)({width:"calc(50% - 10px)",marginRight:Object(N.a)(2)},""),type:"primary",isDisabled:"pending"===i||t<=y||0===t,onClick:E,isLoading:"pending"===i},"APPROVE"),Object(M.jsx)(de.a,{css:Object(M.css)({width:t<=y?"100%":"calc(50% - 10px)"},""),type:"primary",isDisabled:"pending"===j||t>y||0===t,onClick:P,isLoading:"pending"===j},"pending"===j?"PENDING DEPOSIT":"DEPOSIT")),w>0&&Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:12,textAlign:"center",margin:{top:Object(N.a)(1.5)}},"Estimated transaction gas fee:"," ",Object(K.a)({value:w,currency:G.a.USD})),Object(M.jsx)(Pe.a,{status:i,name:"Approval",message:L[i],url:d?Object(_.b)(d,A):void 0}),Object(M.jsx)(Pe.a,{status:j,name:"Deposit",message:U[j],url:x?Object(_.b)(x,A):void 0}))},Ge=n("zU1g"),qe=n.n(Ge),Ke=n("wx14"),Xe=n("XXDF"),Je=n("REuD"),$e={root:{position:"relative"},content:((Ue={maxWidth:Object(N.a)(76),padding:Object(N.a)(3)+" "+Object(N.a)(2)+" "+Object(N.a)(8)})[pe.a.DesktopTablet]={padding:Object(N.a)(3)+" "+Object(N.a)(3)+" "+Object(N.a)(8)},Ue)},Qe=n("cuY2"),Ze=n.n(Qe),et=n("XGlK"),tt=n.n(et),nt=n("+csE"),at=n.n(nt),rt=n("CiRx"),st=n.n(rt),it=n("tCBY"),ct=n.n(it),ot=n("focz"),ut={cardHeader:{display:"flex",padding:Object(N.a)(2),cursor:"pointer"},arrow:{flexShrink:0,marginRight:Object(N.a)(1)},arrowDown:{"> img":{transform:"rotate(180deg)"}},heading:{flex:1},chevron:{alignSelf:"center",width:Object(N.a)(3),height:Object(N.a)(3),transition:"all 0.2s ease"},content:((Fe={padding:Object(N.a)(2)+" "+Object(N.a)(2)+" "+Object(N.a)(3)})[pe.a.DesktopTablet]={paddingLeft:Object(N.a)(5.5)},Fe)},lt=function(e){var t=e.isDefaultOpen,n=e.eventName,r=e.transactionHash,s=e.timeFormated,i=e.drcAmount,c=a.useContext(q.a).isDarkMode,o=a.useContext(I).chainId,u=a.useState(t||!1),l=u[0],d=u[1],b=c?at.a:tt.a,p=c?st.a:ct.a,j="Deposit"===n;return Object(M.jsx)(ot.a,{isNoPadding:!0},Object(M.jsx)("div",{css:ut.cardHeader,onClick:function(){return d(!l)}},Object(M.jsx)("div",{css:Object(M.css)([ut.arrow,j&&ut.arrowDown],"")},Object(M.jsx)(Te.a,{src:p,alt:"Arrow"})),Object(M.jsx)("div",{css:ut.heading},Object(M.jsx)(Y.a,{component:"div",textSize:20,weight:be.a.Weight.Bold,margin:{bottom:Object(N.a)(1)}},n),Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:12},s)),Object(M.jsx)("div",{css:Object(M.css)([ut.chevron,{transform:"rotateX("+(l?0:180)+"deg)"}],"")},Object(M.jsx)(Te.a,{src:b,alt:"Chevron icon"}))),Object(M.jsx)(Ze.a,{duration:200,height:l?"auto":0},Object(M.jsx)(F.a,null),Object(M.jsx)("div",{css:ut.content},Object(M.jsx)(Y.a,{component:"div",weight:be.a.Weight.Bold,margin:{bottom:Object(N.a)(1)}},"Amount"),Object(M.jsx)(Y.a,{component:"div",type:"secondary",margin:{bottom:Object(N.a)(2)}},!!i&&Object(K.b)({value:i})+" DRC"),Object(M.jsx)(Y.a,{component:"div",weight:be.a.Weight.Bold,margin:{bottom:Object(N.a)(1)}},"Transaction Hash"),Object(M.jsx)(U.a,{url:Object(_.b)(r,o),underline:!0},r.slice(0,25),"..."))))},dt=function(e){var t=e.isOpen,n=e.onClose,r=a.useContext(I).userTransactions,s=r.data,i=r.loading,c=a.useContext(q.a).isMobile;return Object(M.jsx)(Xe.a,{isOpen:t,onHide:n,isFullWidthOnMobile:!0,enableBodyLock:!0},Object(M.jsx)("div",{css:$e.root},Object(M.jsx)(Je.a,{heading:"Your transaction history",onClose:n}),Object(M.jsx)("div",{css:$e.content},c&&Object(M.jsx)(z.a,{margin:{bottom:Object(N.a)(3)}},"Your transaction history"),i&&Object(M.jsx)(H.a,null),null==s?void 0:s.map((function(e,t){return Object(M.jsx)(L.a,{key:e.id,margin:{bottom:Object(N.a)(2)}},Object(M.jsx)(lt,Object(Ke.a)({},e,{isDefaultOpen:0===t})))})))))},bt=function(){var e=a.useState(!1),t=e[0],n=e[1],r=a.useContext(I).userTransactions.data;return Object(M.jsx)(a.Fragment,null,r&&r.length>0&&Object(M.jsx)("div",{css:Ve.txHistoryButton,onClick:function(){return n(!0)}},Object(M.jsx)(Te.a,{src:qe.a,alt:"List"}),"View transaction history"),Object(M.jsx)(dt,{isOpen:t,onClose:function(){return n(!1)}}))},pt=function(){var e=a.useState(0),t=e[0],n=e[1],r=a.useContext(I),s=r.drcBalance.data,i=void 0===s?0:s,c=r.drcPrice.data,o=void 0===c?0:c;return Object(M.jsx)("div",null,Object(M.jsx)("div",{css:Ve.content},Object(M.jsx)("div",{css:Ve.headingContainer},Object(M.jsx)("div",{css:Ve.heading},"Your wallet balance"),Object(M.jsx)("div",{css:Ve.headingContent},Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(.5)}},Object(M.jsx)("div",{css:Ve.heading},Object(K.b)({value:i})," DRC")),Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:14},Object(K.a)({value:i*o,currency:G.a.USD})," ","USD"))),Object(M.jsx)(z.a,{margin:{bottom:Object(N.a)(2.5)}},"Amount to Deposit"),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(2.5)}},Object(M.jsx)(Be.a,{value:t,onValueSet:n,max:i})),Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:14,textAlign:"center",margin:{bottom:Object(N.a)(.5)}},"Equivalent USD Value"),Object(M.jsx)(Y.a,{component:"div",textAlign:"center",weight:be.a.Weight.Bold,margin:{bottom:Object(N.a)(3)}},Object(K.a)({value:t*o,currency:G.a.USD})),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(2.5)}},Object(M.jsx)(Ye,{amount:t,approveAmount:i,onSuccess:function(){n(0)}})),Object(M.jsx)(bt,null)))},jt={deaktopHeadings:{display:"flex",marginBottom:Object(N.a)(2.5),"> *":{flex:1}},desktopContainer:function(e){return{display:"flex",border:"1px solid "+e.border,borderTop:"5px solid "+e.foreground,borderRadius:2,"> *":{width:"50%",flexShrink:1,flexGrow:1,height:"100%"},"> div:first-of-type":{borderRight:"1px solid "+e.border}}},mobileContainer:function(e){return{borderTop:"5px solid "+e.foreground}}},mt=function(){var e=a.useContext(q.a).isMobile,t=Object(M.jsx)(ye.a,null,Object(M.jsx)("strong",null,"Deposit fees:")," 0%");return Object(M.jsx)("div",null,!e&&Object(M.jsx)(a.Fragment,null,Object(M.jsx)("div",{css:jt.deaktopHeadings},Object(M.jsx)(z.a,{textAlign:"center"},"DRC in Wallet"),Object(M.jsx)(z.a,{textAlign:"center"},"DRC in DRC Vault")),Object(M.jsx)("div",{css:jt.desktopContainer},Object(M.jsx)(pt,null),Object(M.jsx)(We,null)),t),e&&Object(M.jsx)(a.Fragment,null,Object(M.jsx)(z.a,{textAlign:"center",margin:{bottom:Object(N.a)(2.5)}},"DRC in Wallet"),Object(M.jsx)("div",{css:jt.mobileContainer},Object(M.jsx)(pt,null)),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(3)}},t),Object(M.jsx)(z.a,{textAlign:"center",margin:{bottom:Object(N.a)(2.5)}},"DRC in DRC Vault"),Object(M.jsx)("div",{css:jt.mobileContainer},Object(M.jsx)(We,null))))},Ot=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.web3,a=t.userAccount,r=t.contractAddress,0!==(s=t.amount)){e.next=3;break}return e.abrupt("return",0);case 3:return i=new n.eth.Contract(f.abi,r),e.prev=4,e.next=7,Object(He.a)(n);case 7:return c=e.sent,e.next=10,i.methods.withdraw(s).estimateGas({from:a,gasPrice:c});case 10:if(o=e.sent,!c){e.next=22;break}return u=Number(n.utils.fromWei(c,"gwei"))*Math.round(1.1*o)/Math.pow(10,9),e.next=15,Object(Ne.a)();case 15:if(e.t0=e.sent,e.t0){e.next=18;break}e.t0=0;case 18:return d=e.t0,e.abrupt("return",u*d);case 22:return e.abrupt("return",null);case 23:e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(4),e.abrupt("return",null);case 28:case"end":return e.stop()}}),e,null,[[4,25]])})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.web3,a=t.userAccount,r=t.contractAddress,s=t.amount,i=t.onTxHash,e.prev=1,c=new n.eth.Contract(f.abi,r),e.next=5,Object(He.a)(n);case 5:return o=e.sent,u=void 0,e.prev=7,e.next=10,c.methods.withdraw(s).estimateGas({from:a,gasPrice:o});case 10:u=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log("Can't estimate gas",e.t0);case 16:return e.next=18,c.methods.withdraw(s).send({from:a,gasPrice:o,gas:u?Math.round(1.1*u):void 0}).on("transactionHash",i);case 18:return e.abrupt("return",{success:!0});case 21:return e.prev=21,e.t1=e.catch(1),console.error("Withdraw failed",e.t1),e.abrupt("return",{success:!1});case 25:case"end":return e.stop()}}),e,null,[[1,21],[7,13]])})));return function(t){return e.apply(this,arguments)}}();var ft,gt,yt,ht,vt,wt={name:"70qvj9",styles:"display:flex;align-items:center;"},Ct=function(e){var t=e.amount,n=e.onSuccess,r=a.useState("none"),s=r[0],i=r[1],o=a.useState(),u=o[0],d=o[1],b=a.useState(0),p=b[0],j=b[1],m=a.useContext(I),O=m.chainId,x=m.contractAddress,f=m.web3,g=m.userAccount,y=m.userVaultHolding.data,h=m.updateVaultData;a.useEffect((function(){t>0&&Ot({web3:f,userAccount:g,contractAddress:x,amount:t}).then((function(e){return j(e||0)}))}),[t]);var v=function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=6;break}return i("pending"),e.next=4,xt({web3:f,userAccount:g,contractAddress:x,amount:t,onTxHash:d});case 4:e.sent.success?(h(),n(),i("success"),setTimeout((function(){Object(fe.a)(xe.a)}),2e3)):i("failed");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w={none:"Withdraw "+Object(K.b)({value:t})+" DRC",pending:"Please wait a moment, or check on Etherscan if this hangs for too long",success:"DRC successfully withdrawn",failed:"Please try withdrawing again"};return y?Object(M.jsx)(a.Fragment,null,Object(M.jsx)("div",{css:wt},Object(M.jsx)(de.a,{css:Ve.button,type:"primary",isDisabled:"pending"===s||t>y,onClick:v,isLoading:"pending"===s},"pending"===s?"PENDING WITHDRAWAL":"WITHDRAW")),p>0&&Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:12,textAlign:"center",margin:{top:Object(N.a)(1.5)}},"Estimated transaction gas fee:"," ",Object(K.a)({value:p,currency:G.a.USD})),Object(M.jsx)(Pe.a,{status:s,name:"Withdrawal",message:w[s],url:u?Object(_.b)(u,O):void 0})):Object(M.jsx)(de.a,{css:Ve.button,type:"primary"},"NO DRC TO WITHDRAW")},Tt=function(){var e=a.useState(0),t=e[0],n=e[1],r=a.useContext(I),s=r.userVaultHolding.data,i=r.drcPrice.data,c=void 0!==s&&i?s*i:void 0;return Object(M.jsx)("div",null,Object(M.jsx)("div",{css:Ve.content},Object(M.jsx)("div",{css:Ve.headingContainer},Object(M.jsx)("div",{css:Ve.heading},"Your DRC Vault balance"),Object(M.jsx)("div",{css:Ve.headingContent},Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(.5)}},Object(M.jsx)("div",{css:Ve.heading},Object(K.b)({value:s})," ","DRC")),Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:14},Object(K.a)({value:c,currency:G.a.USD})||"$-"," ","USD"))),Object(M.jsx)(z.a,{margin:{bottom:Object(N.a)(2.5)}},"Amount to Withdraw"),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(3)}},Object(M.jsx)(Be.a,{value:t,onValueSet:n,max:s||0})),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(3)}},Object(M.jsx)(Ct,{amount:t,onSuccess:function(){n(0)}})),Object(M.jsx)(Y.a,{component:"div",textSize:14,weight:be.a.Weight.Bold,css:Ve.inlineContainer,margin:{bottom:Object(N.a)(2)}},Object(M.jsx)("span",null,"Amount to receive"),Object(M.jsx)("span",null,Object(K.b)({value:t})," ","DRC")),Object(M.jsx)(F.a,{margin:{bottom:Object(N.a)(2)}}),Object(M.jsx)(bt,null)))},At=function(){var e=a.useContext(q.a).isMobile,t=Object(M.jsx)(ye.a,null,Object(M.jsx)("strong",null,"Withdrawal fees:")," 0%");return Object(M.jsx)("div",null,!e&&Object(M.jsx)(a.Fragment,null,Object(M.jsx)("div",{css:jt.deaktopHeadings},Object(M.jsx)(z.a,{textAlign:"center"},"DRC in DRC Vault"),Object(M.jsx)(z.a,{textAlign:"center"},"Withdraw DRC to Wallet")),Object(M.jsx)("div",{css:jt.desktopContainer},Object(M.jsx)(We,null),Object(M.jsx)(Tt,null)),t),e&&Object(M.jsx)(a.Fragment,null,Object(M.jsx)(z.a,{textAlign:"center",margin:{bottom:Object(N.a)(2.5)}},"Withdraw DRC to Wallet"),Object(M.jsx)("div",{css:jt.mobileContainer},Object(M.jsx)(Tt,null)),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(3)}},t),Object(M.jsx)(z.a,{textAlign:"center",margin:{bottom:Object(N.a)(2.5)}},"DRC in DRC Vault"),Object(M.jsx)("div",{css:jt.mobileContainer},Object(M.jsx)(We,null))))},kt=[{label:"Deposit",value:"deposit"},{label:"Withdraw",value:"withdraw"}],Dt=function(){var e=a.useContext(I).appState,t=e.activeAction,n=e.setActiveDrAction;return Object(M.jsx)(a.Fragment,null,Object(M.jsx)(P.a,{id:xe.d},Object(M.jsx)(z.a,{textAlign:"center",margin:{desktop:{bottom:Object(N.a)(4)},mobile:{bottom:Object(N.a)(4)}}},"Manage your DRC Vault"),Object(M.jsx)(L.a,{margin:{desktop:{bottom:Object(N.a)(4)},mobile:{bottom:Object(N.a)(4)}}},Object(M.jsx)(ge.a,{itemPickerName:"drcVaultUserActionType",activeItemValue:t,items:kt,isUniWidth:!0,onItemClick:function(e){n(e),Object(fe.a)(xe.d)}}))),Object(M.jsx)(P.a,{fullWidthOnMobile:!0},"deposit"===t&&Object(M.jsx)(mt,null),"withdraw"===t&&Object(M.jsx)(At,null)))},St=n("GG38"),Rt=n("ByDX"),It=n("dByW"),Mt=n("ibns"),Wt=n("1SGJ"),Bt={root:{position:"relative"},back:((ft={position:"absolute",top:Object(N.a)(-.5),left:0,zIndex:1})[pe.a.Mobile]={left:Object(N.a)(2)},ft),disconnect:((gt={position:"absolute",top:-3,right:0,fontSize:14,cursor:"pointer",zIndex:1})[pe.a.Mobile]={right:Object(N.a)(2)},gt),topContainer:{padding:Object(N.a)(4.5)+" "+Object(N.a)(2)+" "+Object(N.a)(3)},badge:{position:"absolute",top:Object(N.a)(1.5),right:Object(N.a)(1.5)},buyDrcButton:{position:"absolute",top:Object(N.a)(1.5),left:Object(N.a)(1.5)},walletHeading:{fontSize:20,fontWeight:be.a.Weight.Bold,marginBottom:Object(N.a)(1.5)},drcBalance:((yt={fontSize:24,fontWeight:be.a.Weight.Bold,marginBottom:Object(N.a)(2)})[pe.a.DesktopTablet]={fontSize:28},yt),userAccountLink:function(e){return{display:"flex",justifyContent:"center",alignItems:"center",color:e.text}},bottomContainer:((ht={padding:Object(N.a)(3)+" "+Object(N.a)(2)+" 0"})[pe.a.DesktopTablet]={padding:Object(N.a)(3)+" "+Object(N.a)(2)+" "+Object(N.a)(3)},ht),userVaultWorth:((vt={fontSize:34,fontWeight:be.a.Weight.Bold,marginBottom:Object(N.a)(1)})[pe.a.DesktopTablet]={fontSize:40},vt),text:function(e){return{color:e.text}}},Vt=function(){var e=a.useContext(I),t=e.chainId,n=e.userAccount,r=e.drcBalance,s=e.drcPrice.data,i=e.userVaultHolding.data,c=e.disconnectWallet,o=a.useContext(q.a).isMobile,u=void 0!==i&&s?i*s:void 0;return Object(M.jsx)("div",{id:xe.a,css:Bt.root},Object(M.jsx)("div",{css:Bt.back},Object(M.jsx)(St.a,{url:"/platform/",label:"DR Vaults"})),Object(M.jsx)("div",{css:Bt.disconnect,onClick:c},"Disconnect wallet"),Object(M.jsx)(Rt.a,{isNoPadding:!0,isNoBorderBottom:o},Object(M.jsx)("a",{css:Bt.buyDrcButton,href:"https://app.uniswap.org/#/swap?outputCurrency="+Object(Wt.c)("drc",t)+"&use=V2",target:"_blank",rel:"noreferrer"},Object(M.jsx)(It.a,null,"Buy DRC")),(1===t||3===t)&&Object(M.jsx)("div",{css:Bt.badge},Object(M.jsx)(It.a,null,Mt.a[t])),Object(M.jsx)("div",{css:Bt.topContainer},Object(M.jsx)("div",{css:Bt.walletHeading},"Your Connected Wallet"),Object(M.jsx)("div",{css:Bt.drcBalance},Object(K.b)({value:r.data})||"loading"," DRC"),Object(M.jsx)(U.a,{url:Object(_.a)(n,t),isCenter:!0},n.slice(0,10),"...",n.slice(-8))),Object(M.jsx)(F.a,null),Object(M.jsx)("div",{css:Bt.bottomContainer},Object(M.jsx)(z.a,{component:"h2",textAlign:"center",margin:{bottom:Object(N.a)(1.5)}},"Your DRC Vault Holdings"),Object(M.jsx)("div",{css:Bt.userVaultWorth},Object(K.b)({value:i})||"-"," ","DRC"),Object(M.jsx)("div",{css:Bt.text},Object(K.a)({value:u,round:2,currency:G.a.USD})||"$-"," ","USD"))))};var Et={name:"542wex",styles:"word-break:break-word;"},Pt=function(){var e=a.useContext(I),t=e.chainId,n=e.contractAddress;return Object(M.jsx)("div",null,Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(4)}},Object(M.jsx)(Vt,null)),Object(M.jsx)(L.a,{margin:{desktop:{bottom:Object(N.a)(5)},mobile:{bottom:Object(N.a)(4)}}},Object(M.jsx)(Dt,null)),Object(M.jsx)(P.a,null,Object(M.jsx)(L.a,{margin:{desktop:{bottom:Object(N.a)(8)},mobile:{bottom:Object(N.a)(4)}}},Object(M.jsx)(Oe,null)),Object(M.jsx)(F.a,{margin:{desktop:{bottom:Object(N.a)(8)},mobile:{bottom:Object(N.a)(4)}}}),Object(M.jsx)(z.a,{textAlign:"center",margin:{bottom:Object(N.a)(2)}},"DRC Vault Smart Contract Address"),Object(M.jsx)(U.a,{url:Object(_.a)(n,t),isCenter:!0},Object(M.jsx)("span",{css:Et},n)),Object(M.jsx)(Y.a,{component:"div",textSize:12,textAlign:"center",margin:{top:Object(N.a)(2)}},Object(M.jsx)("strong",null,"IMPORTANT"),": DO NOT DIRECTLY SEND DRC TO THIS SMART CONTRACT ADDRESS.",Object(M.jsx)("br",null),"YOU MUST APPROVE DEPOSITS AND INTERACT WITHIN THE DRC VAULT APP.")))},Nt=n("2YUW"),Ht=n("JIZ5"),Lt=(n("E9XD"),function(e){return e.reduce((function(e,t){return e[t[0]]||(e[t[0]]=t[1]),e}),{})}),_t=function(e){if(e&&e.prices&&e.market_caps&&e.total_volumes){var t=Lt(e.prices),n=Lt(e.market_caps),a=Lt(e.total_volumes);return Object.keys(t).map((function(e){return{date:parseInt(e),price:t[e],marketCap:n[e],totalVolume:a[e]}}))}};function Ut(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ft(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var zt=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u,d,b,p,j,m,O;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.web3,a=t.contractAddress,e.prev=1,r=new n.eth.Contract(f.abi,a),e.next=5,r.getPastEvents("Deposit",{fromBlock:1});case 5:return s=e.sent,e.next=8,r.getPastEvents("Withdraw",{fromBlock:1});case 8:i=e.sent,c=[].concat(Object(h.a)(s),Object(h.a)(i)).sort((function(e,t){return e.blockNumber-t.blockNumber})),o=[],u=0,d=Ut(c);case 13:if((b=d()).done){e.next=24;break}return p=b.value,j=p.blockNumber,e.next=18,Object(w.a)(n,j);case 18:m=e.sent,O=Number(p.returnValues.amount),u="Deposit"===p.event?u+O:u-O,o.push({timestamp:m,holding:u});case 22:e.next=13;break;case 24:return e.abrupt("return",o);case 27:return e.prev=27,e.t0=e.catch(1),console.error("Failed to get past DRC vault transactions",e.t0),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,null,[[1,27]])})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,r,s,i,c,o,u,d,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.web3,a=t.contractAddress,r=n||X.a,e.next=4,zt({web3:r,contractAddress:a});case 4:if((s=e.sent)&&0!==s.length){e.next=7;break}return e.abrupt("return",null);case 7:return i=s[0].timestamp,c=(Date.now()/1e3-i)/86400,e.next=11,Object(Ht.a)(Object(Nt.a)({id:"digital-reserve-currency",days:c}));case 11:if(o=e.sent,u=_t(o.data)){e.next=15;break}return e.abrupt("return",null);case 15:return d=s.reverse(),b=u.map((function(e){var t=d.find((function(t){return t.timestamp<=e.date/1e3}));return{date:e.date,tvl:((null==t?void 0:t.holding)||0)*e.price,price:e.price}})),e.abrupt("return",b);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=n("ubkq"),qt=n.n(Gt),Kt=n("wLTh"),Xt=n("Lqz9");var Jt,$t,Qt,Zt={name:"1qxtz39",styles:"font-size:12px;"},en=function(e){var t=e.dataKey,n=e.data,a=Object(Kt.b)(),r=n[0].date,s=n[n.length-1].date,i=Math.max.apply(Math,Object(h.a)(n.map((function(e){return e[t]}))))-Math.min.apply(Math,Object(h.a)(n.map((function(e){return e[t]})))),c=function(e){return Object(K.a)({value:e,currency:G.a.USD})},o="price"===t?"PRICE":"TVL";return Object(M.jsx)("div",{css:Zt},Object(M.jsx)(Ae.f,{width:"100%",height:180},Object(M.jsx)(Ae.c,{data:n},Object(M.jsx)(Ae.h,{dataKey:"date",type:"number",scale:"time",domain:["dataMin","dataMax"],tickFormatter:function(e){return qt()(new Date(e),function(e,t){var n=(t-e)/864e5;return n<2?"H:MM":n<366?"dd mmm":n<731?"yyyy mmm":"yyyy"}(r,s))},tickLine:!1,tickMargin:5,tick:{fill:a.foreground},axisLine:{stroke:a.border},minTickGap:40}),Object(M.jsx)(Ae.i,{yAxisId:"left",dataKey:t,orientation:"left",domain:[function(e){return e-i/10},function(e){return e+i/10}],tickFormatter:c,hide:!0}),Object(M.jsx)(Ae.g,{cursor:!1,contentStyle:Object(Xt.a)(a),labelFormatter:function(e){return qt()(new Date(e),"yyyy mmm dd H:MM")},formatter:function(e,t){return"Performance since genesis"===t&&"number"==typeof e?[Object(K.b)({value:100*e,round:1})+"%",t]:[c(e),t]},itemStyle:{paddingBottom:0}}),Object(M.jsx)(Ae.b,{yAxisId:"left",dataKey:t,type:"monotone",name:o,dot:!1,strokeWidth:3,stroke:a.foreground}),Object(M.jsx)(Ae.i,{yAxisId:"right",dataKey:"percentage",orientation:"right",hide:!0}),Object(M.jsx)(Ae.b,{yAxisId:"right",dataKey:"percentage",type:"monotone",name:"Performance since genesis",dot:!1,activeDot:!1,strokeWidth:0,stroke:a.foreground,hide:"tvl"===t}))))},tn={headerContainer:((Jt={marginBottom:Object(N.a)(2)})[pe.a.DesktopTablet]={display:"flex",justifyContent:"space-between"},Jt),itemPickerContainer:{width:Object(N.a)(12)},infoIcon:{display:"inline-block",textAlign:"center",width:Object(N.a)(3)}},nn=[{label:"PRICE",value:"price"},{label:"TVL",value:"tvl"}],an=function(e){var t=e.contractAddress,n=a.useState("price"),r=n[0],s=n[1],i=a.useState(),c=i[0],o=i[1],u=a.useState(!1),l=u[0],d=u[1],b=a.useContext(V.a),p=b.loading?void 0:b.web3;return a.useEffect((function(){p&&(d(!0),Yt({web3:p,contractAddress:t}).then((function(e){d(!1),e&&e.length&&o(e)})))}),[p]),l?Object(M.jsx)(L.a,{margin:{desktop:{bottom:Object(N.a)(8)},mobile:{bottom:Object(N.a)(7)}}},Object(M.jsx)(H.a,null)):c?Object(M.jsx)(L.a,{margin:{desktop:{bottom:Object(N.a)(8)},mobile:{bottom:Object(N.a)(7)}}},Object(M.jsx)("div",{css:tn.headerContainer},Object(M.jsx)("div",null,Object(M.jsx)(z.a,{margin:{bottom:Object(N.a)(1)}},"DRC Vault performance"),Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:14,margin:{mobile:{bottom:Object(N.a)(2)}}},"price"===r?"Price performance since genesis deposit":"Total Value Locked since genesis deposit")),Object(M.jsx)("div",{css:tn.itemPickerContainer},Object(M.jsx)(ge.a,{itemPickerName:"drPerformanceChart",items:nn,activeItemValue:r,onItemClick:function(e){return s(e)},isUniWidth:!0,size:"small"}))),Object(M.jsx)(en,{data:c,dataKey:r})):null},rn={position:"absolute",top:Object(N.a)(-.5),left:0,zIndex:1},sn={root:{position:"relative"},badge:{position:"absolute",top:Object(N.a)(1.5),right:Object(N.a)(1.5)},text:function(e){return{color:e.text}},button:(($t={width:"100%"})[pe.a.DesktopTablet]={maxWidth:Object(N.a)(30),marginLeft:"auto",marginRight:"auto"},$t),back:rn,extraInfo:function(e){return{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",color:e.text,marginTop:Object(N.a)(3)}}},cn=function(e){var t=e.children,n=a.useContext(V.a);if(n.loading)return null;var r=n.chainId;return Object(M.jsx)("div",{css:sn.root},Object(M.jsx)("div",{css:sn.back},Object(M.jsx)(St.a,{url:"/platform/",label:"DR Vaults"})),Object(M.jsx)(Rt.a,null,Object(M.jsx)(z.a,{component:"h2",textAlign:"center",margin:{bottom:Object(N.a)(2)}},"Access Your DRC Vault Dashboard"),Object(M.jsx)("div",{css:sn.badge},(1===r||3===r)&&Object(M.jsx)(It.a,null,Mt.a[r])),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(3)}},Object(M.jsx)("div",{css:sn.text},"Deposit and Withdraw DRC")),t))},on=function(){var e=a.useContext(V.a);if(!e.isConnected||e.loading)return null;var t=e.chainId,n=e.userAccount,r=e.setViewingVault,s=e.isAllowedUser;return Object(M.jsx)(cn,null,s?Object(M.jsx)(a.Fragment,null,Object(M.jsx)(de.a,{css:sn.button,type:"primary",onClick:function(){return r(!0)}},"ACCESS YOUR DRC VAULT"),Object(M.jsx)(L.a,{margin:{top:Object(N.a)(3)}},Object(M.jsx)(U.a,{url:Object(_.a)(n,t),isCenter:!0},n.slice(0,10),"...",n.slice(-8)))):Object(M.jsx)(a.Fragment,null,Object(M.jsx)(de.a,{css:sn.button,type:"primary"},"PRIVATE BETA ACCESS ONLY"),Object(M.jsx)(L.a,{margin:{top:Object(N.a)(3)}},Object(M.jsx)(U.a,{url:"https://drc.foundation/fund/#nft",isCenter:!0},"Only GEN00 NFT holders currently have access"))))},un=n("b6Qr"),ln=n("negg"),dn=n.n(ln),bn=n("y7qs"),pn=n.n(bn),jn=n("7P9K"),mn=n.n(jn),On=n("cEjm"),xn=n.n(On),fn=n("RT7a"),gn=n.n(fn),yn=n("cGiV"),hn=n("OAGk"),vn={container:{display:"flex",justifyContent:"center",flexWrap:"wrap"},item:((Qt={flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",width:Object(N.a)(14),marginLeft:Object(N.a)(1),marginRight:Object(N.a)(1),marginBottom:Object(N.a)(4),cursor:"pointer","::nth-last-of-type(2)":{marginBottom:0},":last-of-type":{marginBottom:0},"> img":{width:Object(N.a)(8),height:Object(N.a)(8),marginBottom:Object(N.a)(1.5)}})[pe.a.MobilePortXs]={width:Object(N.a)(12)},Qt)};var wn={name:"1081t4c",styles:"text-decoration:underline;"},Cn=function(e){var t=e.isOpen,n=e.onClose,r=a.useState(!1),s=r[0],i=r[1],c=a.useContext(V.a);if(a.useEffect((function(){var e;return s&&(e=setTimeout((function(){i(!1)}),2e3)),function(){clearTimeout(e)}}),[s]),c.isConnected||c.loading)return null;return Object(M.jsx)(a.Fragment,null,Object(M.jsx)(yn.a,{isOpen:t,onClose:n},Object(M.jsx)(z.a,{textAlign:"center",css:Object(M.css)({color:ke.a.Black},""),margin:{bottom:un.isMobile?Object(N.a)(2):Object(N.a)(4)}},"Connect Wallet"),un.isMobile&&Object(M.jsx)(Y.a,{component:"div",type:"secondary",textAlign:"center",margin:{bottom:Object(N.a)(4)}},"Please utilise your wallet’s built-in browser"),Object(M.jsx)("div",{css:vn.container},Object(M.jsx)("a",{css:vn.item,href:un.isMobile?"https://metamask.app.link/dapp/drcglobal.org/platform/drc-vault/":"https://metamask.io/download.html",target:"_blank",rel:"noreferrer"},Object(M.jsx)(Te.a,{src:dn.a,alt:"MetaMask"}),Object(M.jsx)(Y.a,{weight:be.a.Weight.Bold},"MetaMask")),!un.isMobile&&Object(M.jsx)("div",{css:vn.item,onClick:function(){return c.connectWalletConnect(n)}},Object(M.jsx)(Te.a,{src:pn.a,alt:"WalletConnect"}),Object(M.jsx)(Y.a,{weight:be.a.Weight.Bold},"WalletConnect")),un.isMobile&&Object(M.jsx)("a",{css:vn.item,href:"https://go.cb-w.com/HDzQo0cHWgb",target:"_blank",rel:"noreferrer"},Object(M.jsx)(Te.a,{src:mn.a,alt:"Coinbase"}),Object(M.jsx)(Y.a,{weight:be.a.Weight.Bold},"Coinbase Wallet")),un.isMobile&&Object(M.jsx)("a",{css:vn.item,href:"https://link.trustwallet.com/open_url?coin_id=60&url=https://drcglobal.org/platform/drc-vault/",target:"_blank",rel:"noreferrer"},Object(M.jsx)(Te.a,{src:xn.a,alt:"Trust Wallet"}),Object(M.jsx)(Y.a,{weight:be.a.Weight.Bold},"Trust Wallet")),un.isMobile&&Object(M.jsx)("div",{css:vn.item,onClick:function(){Object(hn.a)("https://drcglobal.org/platform/drc-vault/"),i(!0)}},Object(M.jsx)(Te.a,{src:gn.a,alt:"Copy"}),Object(M.jsx)(Y.a,{weight:be.a.Weight.Bold},"Copy URL"))),un.isMobile&&un.isIOS&&Object(M.jsx)(L.a,{margin:{top:Object(N.a)(4)}},Object(M.jsx)("a",{href:"https://link.trustwallet.com/browser_enable",target:"_blank",rel:"noreferrer"},Object(M.jsx)(Y.a,{component:"div",type:"secondary",textSize:14,textAlign:"center",css:wn},"Tap to activate Trust Wallet’s App Browser")))),Object(M.jsx)(Pe.a,{status:s?"success":"none",name:"Copy",titleOverwrite:"URL Copied!",message:"Open your wallet’s built-in browser and paste",timeOut:2e3}))},Tn={noInjectedProvider:"CONNECT WALLET",multipleWallet:"MULTIPLE WALLETS DETECTED",noAccount:"CONNECT WALLET",chainNotSupported:"NETWORK NOT SUPPORTED"},An=function(){var e=a.useContext(V.a),t=a.useState(!1),n=t[0],r=t[1];if(e.isConnected||e.loading)return null;var s=e.connectionErrorType;return Object(M.jsx)(cn,null,Object(M.jsx)(de.a,{css:sn.button,type:"primary",onClick:function(){"noAccount"===s&&e.connectWallet(),"noInjectedProvider"===s&&r(!0)}},Tn[s]),"multipleWallet"===s&&Object(M.jsx)("div",{css:sn.extraInfo},"Multiple wallet instance is detected in your browser"),"chainNotSupported"===s&&Object(M.jsx)("div",{css:sn.extraInfo},"The network set in your wallet is not supported"),Object(M.jsx)(Cn,{isOpen:n,onClose:function(){return r(!1)}}))};var kn={name:"542wex",styles:"word-break:break-word;"},Dn=function(){var e=a.useContext(V.a),t=3===(e.loading?1:e.chainId)?"ropsten":"mainnet",n=d.b[t];return Object(M.jsx)("div",null,Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(4)}},!e.isConnected&&Object(M.jsx)(An,null),e.isConnected&&Object(M.jsx)(on,null)),Object(M.jsx)(L.a,{margin:{bottom:Object(N.a)(6)}},Object(M.jsx)(Oe,null)),Object(M.jsx)(L.a,{margin:{desktop:{bottom:Object(N.a)(8)},mobile:{bottom:Object(N.a)(6)}}},Object(M.jsx)(an,{contractAddress:n})),Object(M.jsx)(z.a,{textAlign:"center",margin:{bottom:Object(N.a)(3)}},"What is the DRC Vault?"),Object(M.jsx)(Y.a,{component:"div",type:"secondary",margin:{bottom:Object(N.a)(2)}},"DRC Vault is a secure non-custodial and 100% decentralized application created specifically for DRC holders. DRC tokens held in the DRC Vault remain completely under the user’s control and ownership, with nobody else able to access the funds."),Object(M.jsx)(Y.a,{component:"div",type:"secondary",margin:{desktop:{bottom:Object(N.a)(8)},mobile:{bottom:Object(N.a)(4)}}},"The DRC Vault features an intuitive interface allowing easy deposits and withdrawals, a leaderboard and performance statistics. Additional benefits may be available to the DRC Vault users in the future."),Object(M.jsx)(F.a,{margin:{desktop:{bottom:Object(N.a)(8)},mobile:{bottom:Object(N.a)(4)}}}),Object(M.jsx)(z.a,{textAlign:"center",margin:{bottom:Object(N.a)(2)}},"DRC Vault Smart Contract Address"),Object(M.jsx)(U.a,{url:Object(_.a)(n,(e.loading?1:e.chainId)||1),isCenter:!0},Object(M.jsx)("span",{css:kn},n)),Object(M.jsx)(Y.a,{component:"div",textSize:12,textAlign:"center",margin:{top:Object(N.a)(2)}},Object(M.jsx)("strong",null,"IMPORTANT"),": DO NOT DIRECTLY SEND DRC TO THIS SMART CONTRACT ADDRESS.",Object(M.jsx)("br",null),"YOU MUST APPROVE DEPOSITS AND INTERACT WITHIN THE DRC VAULT APP."))},Sn=function(){var e=a.useContext(V.a),t=e.isConnected&&e.isViewingVault&&e.isAllowedUser,n=!e.loading&&!t;return Object(M.jsx)(a.Fragment,null,Object(M.jsx)(P.a,null,Object(M.jsx)(L.a,{margin:{desktop:{bottom:Object(N.a)(5)},mobile:{bottom:Object(N.a)(4)}}},Object(M.jsx)(E.a,{heading:"DRC VAULT",subHeading:"DIGITAL RESERVE CURRENCY VAULT"}))),e.loading&&Object(M.jsx)(P.a,null,Object(M.jsx)(H.a,{height:160})),n&&Object(M.jsx)(P.a,null,Object(M.jsx)(Dn,null)),e.isConnected&&t&&Object(M.jsx)(P.a,{fullWidthOnMobile:!0},Object(M.jsx)(B,e,Object(M.jsx)(Pt,null))))},Rn=function(){return Object(M.jsx)(i.a,null,Object(M.jsx)(Sn,null))},In=n("H8eV");t.default=function(){return Object(M.jsx)(s.a,{activeTab:r.a.Platform,hideSocial:!0},Object(M.jsx)(In.a,{title:"DRC Vault",description:"DRC Vault is a secure non-custodial and 100% decentralized application created specifically for DRC holders. DRC tokens held in the DRC Vault remain completely under the user’s control and ownership, with nobody else able to access the funds."}),Object(M.jsx)(Rn,null))}}}]);
//# sourceMappingURL=component---src-pages-platform-drc-vault-tsx-68ca6afb8e333c65dc64.js.map