{"version":3,"sources":["webpack:///./node_modules/react-draggable/build/cjs/utils/domFns.js","webpack:///./node_modules/react-draggable/build/cjs/utils/getPrefix.js","webpack:///./src/utils/web3/get-drc-price.ts","webpack:///./src/utils/web3/dr-vault/tokens-stored.ts","webpack:///./src/utils/web3/dr-vault/user-dr-transactions.ts","webpack:///./src/utils/apollo/queries/pair-price.ts","webpack:///./src/utils/uniswap-graph/token-price.ts","webpack:///./src/utils/web3/dr-vault/user-past-dr-interactions.ts","webpack:///./src/site-context/dr-context/dr-context.tsx","webpack:///./src/utils/web3/dr-vault/user-vault-info.ts","webpack:///./src/site-context/dr-context/dr-provider.tsx","webpack:///./src/components/ui-library/vault-components/allocation-pie-chart/allocation-pie-chart.tsx","webpack:///./src/components/ui-library/vault-components/slide-out-vault-info/slide-out-dr-pod-info.styles.ts","webpack:///./src/components/ui-library/vault-components/slide-out-vault-info/slide-out-dr-pod-info.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/user-assets-in-vault/user-assets-in-vault.styles.ts","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/user-assets-in-vault/user-assets-in-vault.tsx","webpack:///./src/components/ui-library/dragger/dragger.styles.ts","webpack:///./src/components/ui-library/dragger/dragger.tsx","webpack:///./src/components/ui-library/percentage-picker/percentage-picker.styles.ts","webpack:///./src/components/ui-library/percentage-picker/percentage-picker.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/deposit-withdraw-action/deposit-withdraw-action.styles.ts","webpack:///./src/utils/web3/dr-vault/vault-actions/vault-deposit-actions.ts","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/deposit-withdraw-action/price-impact-info/price-impact-info.styles.ts","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/deposit-withdraw-action/price-impact-info/price-impact-info.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/deposit-withdraw-action/deposit-button.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/transaction-history/transaction-history.styles.ts","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/transaction-history/transaction-history-card.styles.ts","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/transaction-history/transaction-history-card.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/transaction-history/transaction-history.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/deposit-withdraw-action/view-transaction-history.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/deposit-withdraw-action/deposit-from-wallet.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/vault-action.styles.ts","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/vault-action-deposit.tsx","webpack:///./src/utils/web3/dr-vault/vault-actions/vault-withdraw-actions.ts","webpack:///./src/utils/web3/dr-vault/vault-actions/dr-pod-withdraw-approval.ts","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/deposit-withdraw-action/withdraw-button.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/deposit-withdraw-action/withdraw-to-wallet.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-actions/vault-action-withdraw.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/manage-your-dr/manage-your-dr.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/user-vault-overview/user-vault-overview.styles.ts","webpack:///./src/components/pages/dr-vault/vault-connected/user-vault-overview/user-vault-overview.tsx","webpack:///./src/components/ui-library/vault-components/info-card/info-card-large.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/user-vault-snapshot/user-vault-snapshot.tsx","webpack:///./src/components/pages/dr-vault/vault-connected/vault-connected.tsx","webpack:///./src/components/pages/dr-vault/vault-landing/access-dr/access-dr.styles.ts","webpack:///./src/components/pages/dr-vault/vault-landing/access-dr/access-dr-container.tsx","webpack:///./src/components/pages/dr-vault/vault-landing/access-dr/access-dr.tsx","webpack:///./src/components/pages/dr-vault/vault-landing/access-dr/connect-wallets-modal/connect-wallets-modal.styles.ts","webpack:///./src/components/pages/dr-vault/vault-landing/access-dr/connect-wallets-modal/connect-wallets-modal.tsx","webpack:///./src/components/pages/dr-vault/vault-landing/access-dr/connect-wallet.tsx","webpack:///./src/utils/apollo/queries/pair-day-data.ts","webpack:///./src/utils/uniswap-graph/token-price-timeline.ts","webpack:///./src/utils/web3/bignumber.ts","webpack:///./src/utils/web3/dr-vault/token-stored-timeline.ts","webpack:///./src/utils/web3/dr-vault/vault-performance-timeline.ts","webpack:///./src/components/ui-library/vault-components/slide-out-vault-info/slide-out-net-asset-value.tsx","webpack:///./src/components/pages/dr-vault/vault-landing/dr-performance-graph/performance-line-chart.tsx","webpack:///./src/components/pages/dr-vault/vault-landing/dr-performance-graph/dr-performance-graph.styles.ts","webpack:///./src/components/pages/dr-vault/vault-landing/dr-performance-graph/dr-performance-graph.tsx","webpack:///./src/components/pages/dr-vault/vault-landing/portfolio-allocation/portfolio-allocation.styles.ts","webpack:///./src/components/pages/dr-vault/vault-landing/portfolio-allocation/portfolio-allocation.tsx","webpack:///./src/components/pages/dr-vault/vault-landing/vault-landing.tsx","webpack:///./src/components/pages/dr-vault/dr-vault.tsx","webpack:///./src/components/pages/dr-vault/dr-vault-app.tsx","webpack:///./node_modules/react-draggable/build/cjs/DraggableCore.js","webpack:///./node_modules/react-draggable/build/cjs/cjs.js","webpack:///./node_modules/react-draggable/build/cjs/utils/positionFns.js","webpack:///./node_modules/react-draggable/build/cjs/utils/shims.js","webpack:///./node_modules/react-draggable/build/cjs/Draggable.js","webpack:///./node_modules/react-draggable/build/cjs/utils/log.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","matchesSelector","matchesSelectorAndParentsTo","el","selector","baseNode","node","parentNode","addEvent","event","handler","inputOptions","options","_objectSpread","capture","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","outerHeight","height","clientHeight","computedStyle","ownerDocument","defaultView","getComputedStyle","_shims","int","borderTopWidth","borderBottomWidth","outerWidth","width","clientWidth","borderLeftWidth","borderRightWidth","innerHeight","paddingTop","paddingBottom","innerWidth","paddingLeft","paddingRight","offsetXYFromParent","evt","offsetParent","scale","offsetParentRect","body","left","top","getBoundingClientRect","x","clientX","scrollLeft","y","clientY","scrollTop","createCSSTransform","controlPos","positionOffset","translation","getTranslation","_defineProperty","_getPrefix","browserPrefixToKey","default","createSVGTransform","getTouch","e","identifier","targetTouches","findInArray","t","changedTouches","getTouchIdentifier","addUserSelectStyles","doc","styleEl","getElementById","createElement","type","id","innerHTML","getElementsByTagName","appendChild","addClassName","removeUserSelectStyles","removeClassName","selection","empty","window","getSelection","removeAllRanges","__esModule","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_interopRequireWildcard","WeakMap","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","configurable","writable","matchesSelectorFunc","method","isFunction","_ref2","unitSuffix","concat","defaultX","defaultY","className","classList","add","match","RegExp","remove","replace","getPrefix","browserPrefixToStyle","prop","prefix","toLowerCase","prefixes","undefined","document","style","documentElement","str","out","shouldCapitalize","toUpperCase","kebabToTitleCase","_default","LRU","max","maxAge","getDrcPrice","a","web3","amount","chainId","cachedData","uniswapRouter","eth","Contract","IUniswapV2Router02","abi","methods","getAmountsOut","getContractAddress","ethAmount","ethAmountNum","Number","utils","fromWei","getEthPrice","price","getTokensStoredPercentage","contractAddress","assets","contract","DRContract","networkKey","totalTokenStored","tokenUsdValues","totalUsdValue","tokenStored","address","assetPercentage","map","asset","percentage","Math","round","console","error","getUserDrTransactions","userAccount","IERC20","drcToken","withdrawalContractAddr","getWithdrawalContractAddress","getPastEvents","user","fromBlock","depositEvents","withdrawEvents","from","to","withdrawEventsExt","receiveEvents","receiveOnlyEvents","tx","isSameAddress","returnValues","ADDRESS_0","sendEvents","sendOnlyEvents","allTransactions","sort","b","blockNumber","allTxFormated","getBlockTimestamp","timestamp","drcAmount","transactionHash","logIndex","eventName","timeFormated","formatTimestamp","podAmount","toWei","GET_PAIR_PRICE","gql","getTokenPrice","pairName","cacheKey","pairAddress","getPairAddress","tokenAddress","uniswapClient","query","variables","block","number","data","token0","pair","price0","toNumber","token0Price","price1","token1Price","priceInEth","ethPrice","getUserPastDrEvents","pastDeposits","detailedDeposits","deposit","drcPrice","usdWorth","pastWithdrawals","detailedWithdrawals","withdrawal","lastDeposit","lastDepositedAmount","lastDepositedUsdWorth","totalDepositAmount","reduce","total","totalDepositUsdWorth","totalWidthdrawAmount","withdraw","totalWidthdrawUsdWorth","getUserVaultInfo","balanceOf","drPodBalance","getProofOfDepositPrice","podUnitprice","getUserVaultInDrc","totalHoldingInDrc","drPodBalanceNum","podUnitpriceNum","userHoldingWorth","totalWorthInDrc","totalDrcCanWithdraw","withdrawalFee","withdrawalFeePercentage","feeFraction","feeBase","feePercentage","drPodBalanceInWei","userHoldingUsd","defaultContextValue","setId","drContractAddresses","mainnet","s1","Web3","appState","activeAction","setActiveDrAction","disconnectWallet","drcBalance","loading","userVaultInfo","userPastInteraction","userTransactions","vaultTokens","DR_VAULTS","allocations","updateDrData","DrContext","React","DrProvider","children","walletInfo","isArchived","setDrcPrice","setDrcBalance","setUserVaultInfo","setUserPastInteraction","setUserTransactions","setVaultTokens","then","getDrcBalance","balance","subscribeToBlockUpdate","hidden","clearSubscriptions","store","Provider","colorArrayLightMode","Colors","Black","MidGrey","BorderGrey","colorArrayDarkMode","White","DarkModeBorderGrey","AllocationPieChart","colors","SiteContext","isDarkMode","outerRadius","innerRadius","dataKey","nameKey","labelLine","strokeWidth","_","index","fill","css","styles","legendContainer","name","legendItem","indicator","backgroundColor","symbol","root","position","content","maxWidth","grid","padding","Device","DesktopTablet","heading","fontSize","fontWeight","Fonts","Weight","Bold","marginBottom","display","sectionHeading","lineHeight","text","theme","color","uppercase","textTransform","SlideOutDrPodInfo","isOpen","onClose","onHide","isFullWidthOnMobile","enableBodyLock","margin","bottom","component","assetContainer","borderBottom","border","headingContainer","textAlign","UserAssetsInVault","isInfoOpen","setInfoOpen","usdValue","weight","textSize","formatCurrency","currency","CurrencySymbol","USD","formatNumber","size","onClick","rail","zIndex","handle","foreground","borderRadius","cursor","Dragger","onDragged","draggerRef","setWidth","setLeft","current","handleDrag","min","newPercentage","ref","axis","bounds","right","onDrag","onStop","flex","marginRight","items","PercentagePicker","onSelect","item","imageContainer","header","alignItems","minHeight","justifyContent","headingContent","center","button","inlineContainer","txHistoryButton","getDepositPriceImpact","depositPriceImpact","priceImpact","priceImpactPercentage","estimateDepositGas","getGasPrice","gasPrice","depositDrc","getUnixTimeAfterMins","estimateGas","gasLimit","drVaultDeposit","onTxHash","log","send","gas","on","success","SlideOutPriceImpactInfo","DepositButton","approveAmount","onSuccess","approvalStatus","setApprovalStatus","approvalTxHash","setApprovalTxHash","depositStatus","setDepositStatus","depositTxHash","setDepositTxHash","allowance","setAllowance","setPriceImpact","gasEstimation","setGasEstimation","isPriceImpactInfoOpen","setPriceImpactInfoOpen","impact","estimateDrcApproveSpendingGas","queryAllowance","getDrcAllowance","contractAllowance","handleApproval","approveDrcSpending","handleDeposit","formattedAmount","approvalMessageMapping","none","pending","failed","depositMessageMapping","isDisabled","isLoading","status","message","url","getTransactionUrl","cardHeader","arrow","flexShrink","arrowDown","transform","chevron","alignSelf","transition","TransactionHistoryCard","isDefaultOpen","setOpen","chevronIcon","ChevronWhiteIcon","ChevronBlackIcon","arrowIcon","ArrowIconWhite","ArrowIconBlack","isArrowDown","isNoPadding","src","alt","duration","underline","slice","SlideOutTransactionHistories","transactions","isMobile","ViewTransactionHistory","isTxHistoryOpen","setTxHistoryOpen","ListIcon","DepositFromWallet","setPercentage","setValue","logo","LogoWhite","LogoBlack","handleSelectPercentage","newValue","floor","onValueSet","deaktopHeadings","desktopContainer","borderTop","flexGrow","borderRight","mobileContainer","VaultActionDeposit","depositInfo","estimateWithdrawPercentageGas","minAmountOut","withdrawalContract","IDigitalReserveWithdrawalABI","withdrawPercentage","drVaultWithdrawPercentage","getDrPodAllowance","drPod","estimateDrPodApproveSpendingGas","approve","approveDrPodSpending","WithdrawButton","amountExpected","withdrawalStatus","setWithdrawalStatus","withdrawalTxHash","setWithdrawalTxHash","handleWithdraw","setTimeout","anchorToElement","DR_OVERVIEW","withdrawMessageMapping","WithdrawToWallet","totalWorth","uniswapFee","realWithdrawAmount","ceil","VaultActionWithdraw","withdrawalInfo","actionItems","label","ManageYourDr","MANAGE_DR","desktop","mobile","itemPickerName","activeItemValue","isUniWidth","onItemClick","fullWidthOnMobile","back","Mobile","disconnect","topContainer","badge","buyDrcButton","walletHeading","userAccountLink","bottomContainer","userVaultWorth","buttonContainer","marginLeft","urlMapping","s2","s3","UserVaultOverview","isNoBorderBottom","href","rel","ChainNames","getAddressUrl","isCenter","InfoCardLarge","secondaryLabel","secondaryValue","card","cardPadding","secondaryHeading","UserVaultSnapshot","usdDiff","spanLg","spanMd","spanSm","isNoMarginBottom","isNarrowMargin","VaultConnected","extraInfo","marginTop","AccessDrContainer","context","WalletContext","AccessDr","isConnected","setViewingVault","isAllowedUser","container","flexWrap","flexDirection","MobilePortXs","URLS","METAMASK_WALLET_LINKS","TRUST_WALLET_LINKS","COINBASE_WALLET_LINKS","WalletInfoModal","isCopied","setCopied","timer","clearTimeout","MetaMaskLogo","connectWalletConnect","WalletConnectLogo","CoinbaseWalletLogo","TrustWalletLogo","copyToClipboard","CopyIcon","isIOS","titleOverwrite","timeOut","buttonTextMapping","noInjectedProvider","multipleWallet","noAccount","chainNotSupported","ConnectWallet","isModalOpen","setModalOpen","connectionErrorType","connectWallet","GET_PAIR_DAY_DATAS","getTokenPriceTimeline","tokenName","startTimestamp","timeNow","getUnixTimeNowInSec","dayCount","where","date_gte","tokenPairData","pairDayDatas","tokenPriceTimeline","reserve0","reserve1","reserveOfToken","priceInUSD","reserveUSD","date","bignumberToNumber","decimals","tokenStoredNum","leftoverDecimals","multiplier","getTokenStoredTimeline","changeStrategyEvents","sortedEvents","transactionIndex","vaultState","totalSupply","tokens","tokensStored","timelineData","bucketTimestamp","lastTimestamp","newTokens","addr","contractNameByAddress","podTotalSupply","token","drAssets","timelineFilled","filled","step","prevStep","prevTimestamp","days","filledStep","currentTimestamp","Date","now","daysToFill","getVaultPerformanceTimeline","tokensStoredTimeline","allTokens","timePoint","includes","maxLength","tokenPriceLookup","dailyPriceTimeline","hashedPrice","hashed","cur","step0Price","tokenUsdValueTimeline","tvl","SlideOutNetAssetValue","PerformanceLineChart","useTheme","startTime","endTime","priceDistance","d","priceFormatter","keyName","domain","tickFormatter","formatDate","timeFormat","tickLine","tickMargin","tick","axisLine","stroke","minTickGap","yAxisId","orientation","dataMin","dataMax","hide","contentStyle","TooltipContainerStyles","labelFormatter","formatter","itemStyle","dot","activeDot","headerContainer","itemPickerContainer","infoIcon","DrPerformanceGraph","activeTab","setActiveTab","setData","setLoading","res","InfoIcon","shortDescription","PortfolioAllocation","vaultInfo","dangerouslySetInnerHTML","__html","hasBorder","showLiquidity","VaultLanding","setVaultInfo","drVaultData","fetchVaultInfo","getVaultInfo","info","refetchTimer","setInterval","clearInterval","DrVault","isViewingVault","showVaultLanding","subHeading","DrVaultApp","_propTypes","_interopRequireDefault","_reactDom","_domFns","_positionFns","_log","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","toString","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","getPrototypeOf","eventsFor","start","move","stop","dragEventFor","DraggableCore","_React$Component","subClass","superClass","create","_inherits","protoProps","staticProps","_super","_this","_len","args","_key","dragging","lastX","NaN","lastY","touchIdentifier","onMouseDown","allowAnyClick","thisNode","findDOMNode","Error","disabled","Node","cancel","preventDefault","setState","getControlPosition","coreEvent","createCoreData","onStart","mounted","enableUserSelectHack","handleDragStop","state","deltaX","deltaY","_snapToGrid2","snapToGrid","MouseEvent","createEvent","initMouseEvent","handleDragStart","onTouchStart","passive","nodeRef","cloneElement","Children","only","onMouseUp","onTouchEnd","Component","bool","propName","nodeType","arrayOf","string","func","dontSetMe","_require","Draggable","module","getBoundPosition","draggable","cloneBounds","boundNode","ownerWindow","querySelector","HTMLElement","nodeStyle","boundNodeStyle","offsetLeft","offsetTop","isNum","pendingX","pendingY","canDragX","canDragY","draggableCore","touchObj","isStart","createDraggableData","coreData","array","callback","num","isNaN","parseInt","componentName","_DraggableCore","_classnames","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_createClass","dragged","uiData","newState","slackX","slackY","_getBoundPosition2","newStateX","newStateY","Boolean","_this$props$position","defaultPosition","prevPropsPosition","isElementSVG","warn","_ref","SVGElement","_classNames","_this$props","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","draggableCoreProps","svgTransform","validPosition","transformOpts","onDragStart","onDragStop","propTypes","oneOf","oneOfType","shape","defaultProps"],"mappings":"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","file":"15809c997a7a607534bad2cad16c58d350f4e45e-29ba0451b24159828469.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.addEvent = addEvent;\nexports.removeEvent = removeEvent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTranslation = getTranslation;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.removeUserSelectStyles = removeUserSelectStyles;\nexports.addClassName = addClassName;\nexports.removeClassName = removeClassName;\n\nvar _shims = require(\"./shims\");\n\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar matchesSelectorFunc = '';\n\nfunction matchesSelector(el\n/*: Node*/\n, selector\n/*: string*/\n)\n/*: boolean*/\n{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  } // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n\n\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false; // $FlowIgnore: Doesn't think elements are indexable\n\n  return el[matchesSelectorFunc](selector);\n} // Works up the tree to the draggable itself attempting to match selector.\n\n\nfunction matchesSelectorAndParentsTo(el\n/*: Node*/\n, selector\n/*: string*/\n, baseNode\n/*: Node*/\n)\n/*: boolean*/\n{\n  var node = el;\n\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    node = node.parentNode;\n  } while (node);\n\n  return false;\n}\n\nfunction addEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions);\n\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\n\nfunction removeEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions);\n\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\n\nfunction outerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\n\nfunction outerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\n\nfunction innerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\n\nfunction innerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n} // Get from offsetParent\n\n\nfunction offsetXYFromParent(evt\n/*: {clientX: number, clientY: number}*/\n, offsetParent\n/*: HTMLElement*/\n, scale\n/*: number*/\n)\n/*: ControlPosition*/\n{\n  var isBody = offsetParent === offsetParent.ownerDocument.body;\n  var offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  var x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  var y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction createCSSTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: Object*/\n{\n  var translation = getTranslation(controlPos, positionOffset, 'px');\n  return _defineProperty({}, (0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default), translation);\n}\n\nfunction createSVGTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: string*/\n{\n  var translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\n\nfunction getTranslation(_ref2, positionOffset\n/*: PositionOffsetControlPosition*/\n, unitSuffix\n/*: string*/\n)\n/*: string*/\n{\n  var x = _ref2.x,\n      y = _ref2.y;\n  var translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n\n  if (positionOffset) {\n    var defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    var defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n\n  return translation;\n}\n\nfunction getTouch(e\n/*: MouseTouchEvent*/\n, identifier\n/*: number*/\n)\n/*: ?{clientX: number, clientY: number}*/\n{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, function (t) {\n    return identifier === t.identifier;\n  }) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, function (t) {\n    return identifier === t.identifier;\n  });\n}\n\nfunction getTouchIdentifier(e\n/*: MouseTouchEvent*/\n)\n/*: ?number*/\n{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n} // User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n// Note we're passing `document` b/c we could be iframed\n\n\nfunction addUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\n\nfunction removeUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection'); // $FlowIgnore: IE\n\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\n\nfunction addClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\n\nfunction removeClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPrefix = getPrefix;\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nvar prefixes = ['Moz', 'Webkit', 'O', 'ms'];\n\nfunction getPrefix()\n/*: string*/\n{\n  var prop\n  /*: string*/\n  = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform'; // Checking specifically for 'window.document' is for pseudo-browser server-side\n  // environments that define 'window' as the global context.\n  // E.g. React-rails (see https://github.com/reactjs/react-rails/pull/84)\n\n  if (typeof window === 'undefined' || typeof window.document === 'undefined') return '';\n  var style = window.document.documentElement.style;\n  if (prop in style) return '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n\n  return '';\n}\n\nfunction browserPrefixToKey(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\n\nfunction browserPrefixToStyle(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\n\nfunction kebabToTitleCase(str\n/*: string*/\n)\n/*: string*/\n{\n  var out = '';\n  var shouldCapitalize = true;\n\n  for (var i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n\n  return out;\n} // Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\n\n\nvar _default = getPrefix();\n\nexports.default = _default;","import LRU from \"lru-cache\";\nimport Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport IUniswapV2Router02 from \"../../contracts/IUniswapV2Router02.json\";\nimport { getContractAddress } from \"../../data/dr/contract-by-network\";\nimport { getEthPrice } from \"../uniswap-graph/eth-price\";\n\nconst cache = new LRU<string, number>({\n  max: 50000,\n  maxAge: 1000 * 60,\n});\n\ninterface DrcPriceInput {\n  web3: Web3;\n  amount: number;\n  chainId: number;\n}\n\nexport const getDrcPrice = async ({ web3, amount, chainId }: DrcPriceInput) => {\n  const cachedData: number | undefined = cache.get(\"drcPrice\");\n\n  if (cachedData) {\n    return cachedData;\n  }\n\n  try {\n    const uniswapRouter = new web3.eth.Contract(\n      IUniswapV2Router02.abi as AbiItem[],\n      \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\"\n    );\n\n    const ethAmount = (\n      await uniswapRouter.methods\n        .getAmountsOut(amount, [\n          getContractAddress(\"drc\", chainId),\n          getContractAddress(\"weth\", chainId),\n        ])\n        .call()\n    )[1];\n\n    const ethAmountNum = (Number(web3.utils.fromWei(ethAmount)) / 997) * 1000;\n\n    const price = (await getEthPrice()) || 0;\n\n    cache.set(\"drcPrice\", ethAmountNum * price);\n\n    return ethAmountNum * price;\n  } catch (err) {\n    return null;\n  }\n};\n","import Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport { AssetAllocation } from \"../../../../types/dr-vault\";\nimport DRContract from \"../../../contracts/IDigitalReserve.json\";\nimport IUniswapV2Router02 from \"../../../contracts/IUniswapV2Router02.json\";\nimport { getContractAddress } from \"../../../data/dr/contract-by-network\";\n\ninterface UserVaultInfoInput {\n  web3: Web3;\n  contractAddress: string;\n  assets: AssetAllocation[];\n  chainId: number;\n}\n\nexport const getTokensStoredPercentage = async ({\n  web3,\n  contractAddress,\n  assets,\n  chainId,\n}: UserVaultInfoInput): Promise<AssetAllocation[]> => {\n  try {\n    const contract = new web3.eth.Contract(\n      DRContract.abi as AbiItem[],\n      contractAddress\n    );\n\n    const uniswapRouter = new web3.eth.Contract(\n      IUniswapV2Router02.abi as AbiItem[],\n      \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\"\n    );\n\n    const networkKey = chainId === 3 ? \"ropsten\" : \"mainnet\";\n    const totalTokenStored = await contract.methods.totalTokenStored().call();\n    const tokenUsdValues: number[] = [];\n    let totalUsdValue = 0;\n\n    for (let i = 0; i < assets.length; i++) {\n      const tokenStored = totalTokenStored[i];\n      let ethAmountNum = 0;\n\n      if (Number(web3.utils.fromWei(tokenStored)) > 0) {\n        if (assets[i].id !== \"ethereum\") {\n          const ethAmount = (\n            await uniswapRouter.methods\n              .getAmountsOut(tokenStored, [\n                assets[i].address[networkKey],\n                getContractAddress(\"weth\", chainId),\n              ])\n              .call()\n          )[1];\n          ethAmountNum = (Number(web3.utils.fromWei(ethAmount)) / 997) * 1000;\n        } else {\n          ethAmountNum = Number(web3.utils.fromWei(tokenStored));\n        }\n      }\n\n      tokenUsdValues.push(ethAmountNum);\n      totalUsdValue += ethAmountNum;\n    }\n\n    const assetPercentage = assets.map((asset, i) => ({\n      ...asset,\n      percentage:\n        totalUsdValue > 0\n          ? Math.round((tokenUsdValues[i] / totalUsdValue) * 100)\n          : 0,\n    }));\n\n    return assetPercentage;\n  } catch (err) {\n    console.error(\"Failed to fetch tokens stored percentage\", err);\n    return assets;\n  }\n};\n","import Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport { DrTransactionInfo } from \"../../../../types/dr-vault\";\nimport DRContract from \"../../../contracts/IDigitalReserve.json\";\nimport IERC20 from \"../../../contracts/IERC20.json\";\nimport {\n  ADDRESS_0,\n  getContractAddress,\n} from \"../../../data/dr/contract-by-network\";\nimport { getWithdrawalContractAddress } from \"../../../data/dr/dr-contract-addresses\";\nimport { formatTimestamp } from \"../../timestamp\";\nimport { isSameAddress } from \"../address-helper\";\nimport { getBlockTimestamp } from \"../get-block-timestamp\";\n\ninterface UserTransactionsInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n  chainId: number;\n}\n\nexport const getUserDrTransactions = async ({\n  web3,\n  userAccount,\n  contractAddress,\n  chainId,\n}: UserTransactionsInput) => {\n  try {\n    const contract = new web3.eth.Contract(\n      [...DRContract.abi, ...IERC20.abi] as AbiItem[],\n      contractAddress\n    );\n\n    const drcToken = new web3.eth.Contract(\n      IERC20.abi as AbiItem[],\n      getContractAddress(\"drc\", chainId)\n    );\n\n    const withdrawalContractAddr = getWithdrawalContractAddress(chainId);\n\n    const depositEvents = await contract.getPastEvents(\"Deposit\", {\n      filter: { user: userAccount },\n      fromBlock: 1,\n    });\n\n    const withdrawEvents = await contract.getPastEvents(\"Withdraw\", {\n      filter: { user: userAccount },\n      fromBlock: 1,\n    });\n\n    const withdrawEventsExt = await drcToken.getPastEvents(\"Transfer\", {\n      filter: { from: withdrawalContractAddr, to: userAccount },\n      fromBlock: 1,\n    });\n\n    const receiveEvents = await contract.getPastEvents(\"Transfer\", {\n      filter: { to: userAccount },\n      fromBlock: 1,\n    });\n\n    // isSameAddress\n    const receiveOnlyEvents = receiveEvents.filter(\n      (tx) =>\n        !isSameAddress(tx.returnValues.from, ADDRESS_0) &&\n        !isSameAddress(tx.returnValues.from, withdrawalContractAddr)\n    );\n\n    const sendEvents = await contract.getPastEvents(\"Transfer\", {\n      filter: { from: userAccount },\n      fromBlock: 1,\n    });\n\n    const sendOnlyEvents = sendEvents.filter(\n      (tx) =>\n        !isSameAddress(tx.returnValues.to, ADDRESS_0) &&\n        !isSameAddress(tx.returnValues.to, withdrawalContractAddr)\n    );\n\n    const allTransactions = [\n      ...depositEvents,\n      ...withdrawEvents,\n      ...withdrawEventsExt,\n      ...receiveOnlyEvents,\n      ...sendOnlyEvents,\n    ].sort((a, b) => {\n      return b.blockNumber - a.blockNumber;\n    });\n\n    const allTxFormated: DrTransactionInfo[] = [];\n\n    for (const tx of allTransactions) {\n      const blockNumber = tx.blockNumber;\n      const timestamp = await getBlockTimestamp(web3, blockNumber);\n      if (isSameAddress(tx.returnValues.from, withdrawalContractAddr)) {\n        const drcAmount = tx.returnValues.value\n          ? Number(tx.returnValues.value)\n          : undefined;\n        allTxFormated.push({\n          id: `${tx.transactionHash}${tx.logIndex}`,\n          eventName: \"Withdraw\",\n          transactionHash: tx.transactionHash,\n          timestamp,\n          timeFormated: formatTimestamp(timestamp),\n          drcAmount,\n        });\n      } else {\n        let eventName = tx.event;\n        if (tx.returnValues.to === userAccount) {\n          eventName = \"Receive\";\n        } else if (tx.returnValues.from === userAccount) {\n          eventName = \"Send\";\n        }\n\n        const drcAmount = tx.returnValues.amount\n          ? Number(tx.returnValues.amount)\n          : undefined;\n        const podAmount = tx.returnValues.value\n          ? Number(web3.utils.toWei(tx.returnValues.value))\n          : undefined;\n\n        allTxFormated.push({\n          id: `${tx.transactionHash}${tx.logIndex}`,\n          eventName,\n          transactionHash: tx.transactionHash,\n          timestamp,\n          timeFormated: formatTimestamp(timestamp),\n          drcAmount,\n          podAmount,\n        });\n      }\n    }\n\n    return allTxFormated;\n  } catch (err) {\n    console.error(\"Failed to get past transactions\", err);\n    return null;\n  }\n};\n","import { gql } from \"@apollo/client\";\n\nexport const GET_PAIR_PRICE = gql`\n  query GetPairPrice($id: ID!, $block: Block_height) {\n    pair(id: $id, block: $block) {\n      token0 {\n        id\n      }\n      token1 {\n        id\n      }\n      token0Price\n      token1Price\n    }\n  }\n`;\n","import LRU from \"lru-cache\";\nimport {\n  GetPairPrice,\n  GetPairPriceVariables,\n} from \"../../../types/uniswap-graph/GetPairPrice\";\nimport {\n  getContractAddress,\n  getPairAddress,\n} from \"../../data/dr/contract-by-network\";\nimport { uniswapClient } from \"../apollo/apollo-client\";\nimport { GET_PAIR_PRICE } from \"../apollo/queries/pair-price\";\nimport { toNumber } from \"../format-number\";\nimport { getEthPrice } from \"./eth-price\";\n\nconst cache = new LRU<string, number>({\n  max: 50000,\n  maxAge: 1000 * 60 * 60 * 24 * 7, // 7 days\n});\n\ntype PairName = \"drc\" | \"wbtc\" | \"paxg\" | \"usdc\";\n\n// Mainnet only function\nexport const getTokenPrice = async (\n  pairName: PairName,\n  blockNumber?: number\n) => {\n  const cacheKey = blockNumber\n    ? `${pairName}Price_${blockNumber}`\n    : `${pairName}Price`;\n\n  const cachedData: number | undefined = cache.get(cacheKey);\n\n  if (cachedData) {\n    return cachedData;\n  }\n\n  try {\n    const pairAddress = getPairAddress(pairName);\n    const tokenAddress = getContractAddress(pairName, 1).toLowerCase();\n\n    const { data } = await uniswapClient.query<\n      GetPairPrice,\n      GetPairPriceVariables\n    >({\n      query: GET_PAIR_PRICE,\n      variables: {\n        id: pairAddress,\n        block: blockNumber ? { number: blockNumber } : null,\n      },\n    });\n\n    const token0 = data.pair?.token0.id.toLowerCase();\n    const price0 = toNumber(data.pair?.token0Price);\n    const price1 = toNumber(data.pair?.token1Price);\n\n    const priceInEth = tokenAddress === token0 ? price1 : price0;\n    const ethPrice = await getEthPrice(blockNumber);\n\n    if (priceInEth && ethPrice) {\n      const price = priceInEth * ethPrice;\n      cache.set(cacheKey, price, 1000 * 60);\n      return price;\n    }\n\n    return null;\n  } catch (err) {\n    return null;\n  }\n};\n","import Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport DRContract from \"../../../contracts/IDigitalReserve.json\";\nimport { getTokenPrice } from \"../../uniswap-graph/token-price\";\n\ninterface UserVaultInfoInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n}\n\nexport const getUserPastDrEvents = async ({\n  web3,\n  userAccount,\n  contractAddress,\n}: UserVaultInfoInput) => {\n  try {\n    const contract = new web3.eth.Contract(\n      DRContract.abi as AbiItem[],\n      contractAddress\n    );\n\n    const pastDeposits = await contract.getPastEvents(\"Deposit\", {\n      filter: { user: userAccount },\n      fromBlock: 1,\n    });\n\n    const detailedDeposits: any[] = [];\n    for (const deposit of pastDeposits) {\n      const blockNumber = deposit.blockNumber;\n      const drcPrice = await getTokenPrice(\"drc\", blockNumber);\n      const usdWorth = drcPrice\n        ? Number(deposit.returnValues.amount) * drcPrice\n        : null;\n      detailedDeposits.push({ ...deposit.returnValues, drcPrice, usdWorth });\n    }\n\n    const pastWithdrawals = await contract.getPastEvents(\"Withdraw\", {\n      filter: { user: userAccount },\n      fromBlock: 1,\n    });\n\n    const detailedWithdrawals: any[] = [];\n    for (const withdrawal of pastWithdrawals) {\n      const blockNumber = withdrawal.blockNumber;\n      const drcPrice = await getTokenPrice(\"drc\", blockNumber);\n      const usdWorth = drcPrice\n        ? Number(withdrawal.returnValues.amount) * drcPrice\n        : null;\n      detailedWithdrawals.push({\n        ...withdrawal.returnValues,\n        drcPrice,\n        usdWorth,\n      });\n    }\n\n    const lastDeposit = detailedDeposits[detailedDeposits.length - 1];\n    const lastDepositedAmount = lastDeposit ? Number(lastDeposit.amount) : 0;\n    const lastDepositedUsdWorth = lastDeposit\n      ? Number(lastDeposit.usdWorth)\n      : 0;\n\n    const totalDepositAmount = detailedDeposits.reduce(\n      (total: number, deposit: any) => {\n        return (total += Number(deposit.amount));\n      },\n      0\n    );\n\n    const totalDepositUsdWorth = detailedDeposits.reduce(\n      (total: number, deposit: any) => {\n        return (total += Number(deposit.usdWorth));\n      },\n      0\n    );\n\n    const totalWidthdrawAmount = detailedWithdrawals.reduce(\n      (total: number, withdraw: any) => {\n        return (total += Number(withdraw.amount));\n      },\n      0\n    );\n\n    const totalWidthdrawUsdWorth = detailedWithdrawals.reduce(\n      (total: number, withdraw: any) => {\n        return (total += Number(withdraw.usdWorth));\n      },\n      0\n    );\n\n    return {\n      lastDepositedAmount,\n      lastDepositedUsdWorth,\n      totalDepositAmount,\n      totalDepositUsdWorth,\n      totalWidthdrawAmount,\n      totalWidthdrawUsdWorth,\n    };\n  } catch (err) {\n    console.error(\"Failed to get past deposit withdrawal\", err);\n    return null;\n  }\n};\n","import * as React from \"react\";\nimport Web3 from \"web3\";\nimport {\n  AssetAllocation,\n  DrTransactionInfo,\n  DrVaultUserAction,\n  SetId,\n} from \"../../../types/dr-vault\";\nimport { drContractAddresses } from \"../../data/dr/dr-contract-addresses\";\nimport { DR_VAULTS } from \"../../data/dr/dr-vaults\";\n\nexport interface VaultState<T> {\n  loading: boolean;\n  data?: T;\n}\n\nexport interface UserVaultInfo {\n  drPodBalance: number;\n  drPodBalanceInWei: string;\n  userHoldingUsd: number;\n  totalWorthInDrc: number;\n  totalDrcCanWithdraw: number;\n  withdrawalFee: number;\n  feePercentage: number;\n}\n\nexport interface UserPastInteraction {\n  lastDepositedAmount: number;\n  lastDepositedUsdWorth: number;\n  totalDepositAmount: number;\n  totalDepositUsdWorth: number;\n  totalWidthdrawAmount: number;\n  totalWidthdrawUsdWorth: number;\n}\n\nexport interface DrContextState {\n  setId: SetId;\n  isArchived?: boolean;\n  chainId: number;\n  contractAddress: string;\n  userAccount: string;\n  web3: Web3;\n  appState: {\n    activeAction: DrVaultUserAction;\n    setActiveDrAction: (actionType: DrVaultUserAction) => void;\n  };\n  disconnectWallet: () => void;\n  drcBalance: VaultState<number>;\n  drcPrice: VaultState<number>;\n  vaultTokens: AssetAllocation[];\n  userVaultInfo: VaultState<UserVaultInfo>;\n  userPastInteraction: VaultState<UserPastInteraction>;\n  userTransactions: VaultState<DrTransactionInfo[]>;\n  updateDrData: () => Promise<void>;\n}\n\nexport const defaultContextValue: DrContextState = {\n  setId: \"s1\",\n  chainId: 1,\n  contractAddress: drContractAddresses.mainnet.s1,\n  userAccount: \"0x0\",\n  web3: new Web3(),\n  appState: {\n    activeAction: \"deposit\",\n    setActiveDrAction: () => undefined,\n  },\n  disconnectWallet: () => undefined,\n  drcBalance: {\n    loading: true,\n  },\n  drcPrice: {\n    loading: true,\n  },\n  userVaultInfo: {\n    loading: true,\n  },\n  userPastInteraction: {\n    loading: true,\n  },\n  userTransactions: {\n    loading: true,\n  },\n  vaultTokens: DR_VAULTS.s1.allocations,\n  updateDrData: async () => undefined,\n};\n\nexport const DrContext =\n  React.createContext<DrContextState>(defaultContextValue);\n","import Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport DRContract from \"../../../contracts/IDigitalReserve.json\";\nimport IERC20 from \"../../../contracts/IERC20.json\";\nimport { getEthPrice } from \"../../uniswap-graph/eth-price\";\n\ninterface UserVaultInfoInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n}\n\nexport const getUserVaultInfo = async ({\n  web3,\n  userAccount,\n  contractAddress,\n}: UserVaultInfoInput) => {\n  try {\n    const contract = new web3.eth.Contract(\n      [...DRContract.abi, ...IERC20.abi] as AbiItem[],\n      contractAddress\n    );\n\n    const drPodBalance = await contract.methods.balanceOf(userAccount).call();\n    const podUnitprice = await contract.methods.getProofOfDepositPrice().call(); // TODO: as Vault grow bigger, this might become less accurate\n    const totalHoldingInDrc = await contract.methods\n      .getUserVaultInDrc(userAccount, 100)\n      .call();\n\n    const price = (await getEthPrice()) || 0;\n\n    const drPodBalanceNum = Number(web3.utils.fromWei(drPodBalance));\n    const podUnitpriceNum = Number(web3.utils.fromWei(podUnitprice));\n\n    const userHoldingWorth = drPodBalanceNum * podUnitpriceNum * price;\n\n    const totalWorthInDrc = Number(totalHoldingInDrc[0]);\n    const totalDrcCanWithdraw = Number(totalHoldingInDrc[1]);\n    const withdrawalFee =\n      Number(web3.utils.fromWei(totalHoldingInDrc[2])) * price;\n\n    const withdrawalFeePercentage = await contract.methods\n      .withdrawalFee()\n      .call();\n    const feeFraction = Number(withdrawalFeePercentage[0]);\n    const feeBase = Number(withdrawalFeePercentage[1]);\n    const feePercentage = Math.round((feeFraction / feeBase) * 10000) / 100;\n\n    return {\n      drPodBalance: drPodBalanceNum,\n      drPodBalanceInWei: drPodBalance,\n      userHoldingUsd: userHoldingWorth,\n      totalWorthInDrc,\n      totalDrcCanWithdraw,\n      withdrawalFee,\n      feePercentage,\n    };\n  } catch (err) {\n    console.error(\"Failed to get balance\", err);\n    return null;\n  }\n};\n","import * as React from \"react\";\nimport {\n  AssetAllocation,\n  DrTransactionInfo,\n  DrVaultUserAction,\n  SetId,\n} from \"../../../types/dr-vault\";\nimport { DR_VAULTS } from \"../../data/dr/dr-vaults\";\nimport { subscribeToBlockUpdate } from \"../../utils/web3/block-subscription\";\nimport { getDrcBalance } from \"../../utils/web3/drc-balance\";\nimport { getDrcPrice } from \"../../utils/web3/get-drc-price\";\nimport { getTokensStoredPercentage } from \"../../utils/web3/dr-vault/tokens-stored\";\nimport { getUserDrTransactions } from \"../../utils/web3/dr-vault/user-dr-transactions\";\nimport { getUserPastDrEvents } from \"../../utils/web3/dr-vault/user-past-dr-interactions\";\nimport { getUserVaultInfo } from \"../../utils/web3/dr-vault/user-vault-info\";\nimport {\n  defaultContextValue,\n  DrContext,\n  DrContextState,\n  UserPastInteraction,\n  UserVaultInfo,\n  VaultState,\n} from \"./dr-context\";\nimport { WalletConnected } from \"./wallet-context\";\n\ninterface DrProviderProps extends WalletConnected {\n  setId: SetId;\n}\n\nconst DrProvider: React.FC<DrProviderProps> = ({\n  setId,\n  children,\n  ...walletInfo\n}) => {\n  const isArchived = DR_VAULTS[setId].isArchived;\n\n  const [activeAction, setActiveDrAction] = React.useState<DrVaultUserAction>(\n    isArchived ? \"withdraw\" : \"deposit\"\n  );\n  const [drcPrice, setDrcPrice] = React.useState<VaultState<number>>(\n    defaultContextValue.drcPrice\n  );\n  const [drcBalance, setDrcBalance] = React.useState<VaultState<number>>(\n    defaultContextValue.drcBalance\n  );\n  const [userVaultInfo, setUserVaultInfo] = React.useState<\n    VaultState<UserVaultInfo>\n  >(defaultContextValue.userVaultInfo);\n  const [userPastInteraction, setUserPastInteraction] = React.useState<\n    VaultState<UserPastInteraction>\n  >(defaultContextValue.userPastInteraction);\n  const [userTransactions, setUserTransactions] = React.useState<\n    VaultState<DrTransactionInfo[]>\n  >(defaultContextValue.userTransactions);\n  const [vaultTokens, setVaultTokens] = React.useState<AssetAllocation[]>(\n    defaultContextValue.vaultTokens\n  );\n\n  const { web3, userAccount, chainId } = walletInfo;\n  const networkKey = chainId === 3 ? \"ropsten\" : \"mainnet\";\n  const contractAddress = DR_VAULTS[setId].address[networkKey];\n\n  const updateDrData = async () => {\n    getDrcPrice({ web3, amount: 1, chainId }).then((price) => {\n      setDrcPrice({\n        loading: false,\n        data: price !== null ? price : drcPrice.data || 0,\n      });\n    });\n\n    getDrcBalance({ web3, userAccount, chainId }).then((balance) => {\n      setDrcBalance({\n        loading: false,\n        data: balance !== null ? balance : drcBalance.data || 0,\n      });\n    });\n\n    getUserVaultInfo({\n      web3,\n      userAccount,\n      contractAddress,\n    }).then((data) => {\n      setUserVaultInfo({\n        loading: false,\n        data: data || userVaultInfo.data || undefined,\n      });\n    });\n\n    getTokensStoredPercentage({\n      web3,\n      contractAddress,\n      assets: DR_VAULTS[setId].allocations,\n      chainId,\n    }).then((data) => {\n      setVaultTokens(data);\n    });\n\n    getUserPastDrEvents({\n      web3,\n      userAccount,\n      contractAddress,\n    }).then((data) => {\n      setUserPastInteraction({\n        loading: false,\n        data: data || userPastInteraction.data || undefined,\n      });\n    });\n\n    getUserDrTransactions({\n      web3,\n      userAccount,\n      contractAddress,\n      chainId,\n    }).then((data) => {\n      setUserTransactions({\n        loading: false,\n        data: data || userTransactions.data,\n      });\n    });\n  };\n\n  React.useEffect(() => {\n    updateDrData();\n    subscribeToBlockUpdate(web3, updateDrData);\n\n    document.addEventListener(\"visibilitychange\", function () {\n      if (document.hidden) {\n        web3.eth.clearSubscriptions(() => {});\n      } else {\n        updateDrData();\n        subscribeToBlockUpdate(web3, updateDrData);\n      }\n    });\n\n    return () => {\n      web3.eth.clearSubscriptions(() => {});\n    };\n  }, [userAccount, chainId]);\n\n  const store: DrContextState = {\n    setId,\n    isArchived,\n    contractAddress,\n    appState: {\n      activeAction,\n      setActiveDrAction,\n    },\n    drcBalance,\n    drcPrice,\n    userVaultInfo,\n    userPastInteraction,\n    userTransactions,\n    vaultTokens,\n    updateDrData,\n    ...walletInfo,\n  };\n\n  return <DrContext.Provider value={store}>{children}</DrContext.Provider>;\n};\n\nexport default DrProvider;\n","import * as React from \"react\";\nimport { Cell, Pie, PieChart, ResponsiveContainer } from \"recharts\";\nimport { AssetAllocation } from \"../../../../../types/dr-vault\";\nimport { SiteContext } from \"../../../../site-context/site-context\";\nimport { Colors } from \"../../design-tokens/colors\";\nimport styles from \"./allocation-pie-chart.styles\";\n\nconst colorArrayLightMode = [Colors.Black, Colors.MidGrey, Colors.BorderGrey];\nconst colorArrayDarkMode = [\n  Colors.White,\n  Colors.MidGrey,\n  Colors.DarkModeBorderGrey,\n];\n\ninterface AllocationPieChartProps {\n  allocations: AssetAllocation[];\n}\n\nconst AllocationPieChart: React.FC<AllocationPieChartProps> = ({\n  allocations,\n}) => {\n  const { isDarkMode } = React.useContext(SiteContext);\n  const colors = isDarkMode ? colorArrayDarkMode : colorArrayLightMode;\n\n  return (\n    <div>\n      <ResponsiveContainer width=\"100%\" height={150}>\n        <PieChart>\n          <Pie\n            outerRadius={75}\n            innerRadius={45}\n            data={allocations}\n            dataKey=\"percentage\"\n            nameKey=\"name\"\n            labelLine={false}\n            strokeWidth={0}\n          >\n            {allocations.map((_, index) => (\n              <Cell\n                key={`cell-${index}`}\n                fill={colors[index % colors.length]}\n              />\n            ))}\n          </Pie>\n        </PieChart>\n      </ResponsiveContainer>\n\n      <div css={styles.legendContainer}>\n        {allocations.map((asset, index) => (\n          <div key={asset.name} css={styles.legendItem}>\n            <div\n              css={[\n                styles.indicator,\n                { backgroundColor: colors[index % colors.length] },\n              ]}\n            />\n            <div>{asset.symbol}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default AllocationPieChart;\n","import { Interpolation } from \"@emotion/core\";\nimport { Theme } from \"../../../../../types/theme\";\nimport { Fonts } from \"../../design-tokens/fonts\";\nimport { grid } from \"../../design-tokens/grid\";\nimport { Device } from \"../../design-tokens/media-queries\";\n\nconst root: Interpolation = {\n  position: \"relative\",\n};\n\nconst content: Interpolation = {\n  maxWidth: grid(76),\n  padding: `${grid(3)} ${grid(2)} ${grid(8)}`,\n\n  [Device.DesktopTablet]: {\n    padding: `${grid(3)} ${grid(3)} ${grid(8)}`,\n  },\n};\n\nconst heading: Interpolation = {\n  fontSize: 24,\n  fontWeight: Fonts.Weight.Bold,\n  marginBottom: grid(3),\n\n  [Device.DesktopTablet]: {\n    display: \"none\",\n  },\n};\n\nconst sectionHeading: Interpolation = {\n  fontWeight: Fonts.Weight.Bold,\n  lineHeight: grid(2),\n  marginBottom: grid(1.5),\n};\n\nconst text = (theme: Theme): Interpolation => ({\n  color: theme.text,\n});\n\nconst uppercase: Interpolation = {\n  textTransform: \"uppercase\",\n};\n\nconst styles = {\n  root,\n  content,\n  heading,\n  sectionHeading,\n  text,\n  uppercase,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport { grid } from \"../../design-tokens/grid\";\nimport SlideOut from \"../../slide-out/slide-out\";\nimport Heading from \"../../text/heading\";\nimport Text from \"../../text/text\";\nimport SlideOutHeader from \"./slide-out-header\";\nimport styles from \"./slide-out-dr-pod-info.styles\";\n\ninterface SlideOutDrPodInfoProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst SlideOutDrPodInfo: React.FC<SlideOutDrPodInfoProps> = ({\n  isOpen,\n  onClose,\n}) => {\n  return (\n    <SlideOut\n      isOpen={isOpen}\n      onHide={onClose}\n      isFullWidthOnMobile={true}\n      enableBodyLock={true}\n    >\n      <div css={styles.root}>\n        <SlideOutHeader heading=\"What is DR-POD?\" onClose={onClose} />\n\n        <div css={styles.content}>\n          <Heading margin={{ bottom: grid(2) }}>\n            Digital Reserve - Proof of Deposit\n          </Heading>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            When a user deposits DRC into the Digital Reserve Vault, a Proof of\n            Deposit is minted to them as a representation of their Vault\n            holdings. The unit price of the DR-POD equals to the DR Vault's\n            total Total Value Locked (TVL), divided by the total supply of\n            DR-POD.\n          </Text>\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(3) }}>\n            DR-POD is burnt upon withdrawal of DRC from the Digital Reserve.\n            When withdrawing a fraction or 100% of a user's holdings, the exact\n            fraction of their DR-POD balance is burnt.\n          </Text>\n\n          <Heading margin={{ bottom: grid(2) }}>How is DR-POD created?</Heading>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            The initial supply of DR-POD in a DR Vault always starts at 0.\n          </Text>\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            A Genesis Deposit of 1000 DRC to each respective DR Vault is made by\n            the DRC Foundation Multi-sig wallet to create the initial DR-POD\n            supply with a favourable numerical value.\n          </Text>\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(3) }}>\n            The total supply of DR-POD will change according to the value of\n            subsequent deposits into the Vault. When new assets are stored in a\n            DR Vault, the new total assets worth, divided by the DR-POD unit\n            price gives the new DR-POD total supply. The newly minted DR-POD\n            goes to the depositor.\n          </Text>\n\n          <Heading margin={{ bottom: grid(2) }}>\n            Anything else I should know?\n          </Heading>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            DR-POD is an ERC-20 token and thus transferable from wallet to\n            wallet. It is a real representation of your holding and can be used\n            to withdraw the related value from the DR Vault at any time.\n          </Text>\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            Please do not transfer or approve spending of your DR-POD to any\n            other address you do not trust.\n          </Text>\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(3) }}>\n            Trading action of DR-POD is not encouraged by the DRC Foundation.\n          </Text>\n        </div>\n      </div>\n    </SlideOut>\n  );\n};\n\nexport default SlideOutDrPodInfo;\n","import { Interpolation } from \"@emotion/core\";\nimport { Theme } from \"../../../../../../../types/theme\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\n\nconst assetContainer = (theme: Theme): Interpolation => ({\n  height: grid(9),\n  paddingLeft: grid(2),\n  paddingRight: grid(2),\n  borderBottom: `1px solid ${theme.border}`,\n});\n\nconst content: Interpolation = {\n  padding: `${grid(2)} ${grid(2.5)} ${grid(4)}`,\n};\n\nconst headingContainer: Interpolation = {\n  textAlign: \"center\",\n  marginBottom: grid(2.5),\n};\n\nconst styles = {\n  assetContainer,\n  content,\n  headingContainer,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport { CurrencySymbol } from \"../../../../../../../types/currency\";\nimport { DrContext } from \"../../../../../../site-context/dr-context/dr-context\";\nimport {\n  formatCurrency,\n  formatNumber,\n} from \"../../../../../../utils/format-number\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport MarginBox from \"../../../../../ui-library/margin-box/margin-box\";\nimport Text from \"../../../../../ui-library/text/text\";\nimport AllocationPieChart from \"../../../../../ui-library/vault-components/allocation-pie-chart/allocation-pie-chart\";\nimport VaultAssetStacked from \"../../../../../ui-library/vault-components/vault-asset-stacked/vault-asset-stacked\";\nimport { Fonts } from \"../../../../../ui-library/design-tokens/fonts\";\nimport SlideOutDrPodInfo from \"../../../../../ui-library/vault-components/slide-out-vault-info/slide-out-dr-pod-info\";\nimport InfoCta from \"../../../../../ui-library/info-cta/info-cta\";\nimport styles from \"./user-assets-in-vault.styles\";\n\nconst UserAssetsInVault: React.FC = () => {\n  const {\n    setId,\n    userVaultInfo: { data },\n    vaultTokens,\n  } = React.useContext(DrContext);\n\n  const [isInfoOpen, setInfoOpen] = React.useState<boolean>(false);\n\n  return (\n    <div>\n      {vaultTokens.map((asset) => (\n        <div key={asset.name} css={styles.assetContainer}>\n          <VaultAssetStacked\n            {...asset}\n            usdValue={\n              data ? (data.userHoldingUsd * asset.percentage) / 100 : undefined\n            }\n          />\n        </div>\n      ))}\n\n      <div css={styles.content}>\n        <div css={styles.headingContainer}>\n          <Text\n            component=\"div\"\n            weight={Fonts.Weight.Bold}\n            margin={{ bottom: grid(0.5) }}\n          >\n            Your DR Vault {setId} balance\n          </Text>\n          <Text\n            component=\"div\"\n            textSize={24}\n            weight={Fonts.Weight.Bold}\n            margin={{ bottom: grid(0.5) }}\n          >\n            {formatCurrency({\n              value: data?.userHoldingUsd,\n              currency: CurrencySymbol.USD,\n            }) || \"$-\"}\n          </Text>\n\n          <Text component=\"div\" type=\"secondary\" textSize={14}>\n            {formatNumber({\n              value: data?.totalWorthInDrc,\n            })}{\" \"}\n            DRC\n          </Text>\n        </div>\n\n        <MarginBox margin={{ bottom: grid(2.5) }}>\n          <AllocationPieChart allocations={vaultTokens} />\n        </MarginBox>\n\n        <InfoCta size=\"small\" onClick={() => setInfoOpen(true)}>\n          Your DR-POD\n        </InfoCta>\n\n        <Text component=\"div\" weight={Fonts.Weight.Bold} textAlign=\"center\">\n          {formatNumber({ value: data?.drPodBalance, round: 2 })}\n        </Text>\n      </div>\n\n      <SlideOutDrPodInfo\n        isOpen={isInfoOpen}\n        onClose={() => setInfoOpen(false)}\n      />\n    </div>\n  );\n};\n\nexport default UserAssetsInVault;\n","import { Interpolation } from \"@emotion/core\";\nimport { Theme } from \"../../../../types/theme\";\nimport { grid } from \"../design-tokens/grid\";\n\nconst root: Interpolation = {\n  position: \"relative\",\n  width: \"calc(100% - 30px)\",\n  height: grid(3),\n  paddingTop: 13,\n};\n\nconst rail = (theme: Theme): Interpolation => ({\n  position: \"relative\",\n  width: \"calc(100% + 30px)\",\n  height: 4,\n  backgroundColor: theme.border,\n  zIndex: 0,\n});\n\nconst handle = (theme: Theme): Interpolation => ({\n  position: \"absolute\",\n  top: 0,\n  width: grid(3),\n  height: grid(3),\n  backgroundColor: theme.foreground,\n  borderRadius: \"50%\",\n  cursor: \"pointer\",\n  zIndex: 1,\n});\n\nconst styles = {\n  root,\n  rail,\n  handle,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport Draggable, { DraggableEventHandler } from \"react-draggable\";\nimport styles from \"./dragger.styles\";\n\ninterface DraggerProps {\n  percentage: number;\n  onDragged: (percentage: number) => void;\n}\n\nconst Dragger: React.FC<DraggerProps> = ({ percentage, onDragged }) => {\n  const draggerRef = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState<number>(310);\n  const [left, setLeft] = React.useState<number>(percentage);\n\n  React.useEffect(() => {\n    setWidth(draggerRef.current?.clientWidth || 280);\n  }, []);\n\n  React.useEffect(() => {\n    const leftPosition = (percentage * width) / 100;\n    setLeft(leftPosition);\n  }, [percentage]);\n\n  const handleDrag: DraggableEventHandler = (_, data) => {\n    const x = Math.min(Math.max(data.x, 0), width);\n    const newPercentage = Math.round((x / width) * 100);\n    onDragged(newPercentage);\n  };\n\n  return (\n    <div ref={draggerRef} css={styles.root}>\n      <Draggable\n        axis=\"x\"\n        handle=\".handle\"\n        position={{ x: left, y: 0 }}\n        bounds={{ left: 0, right: width }}\n        grid={[1, 10]}\n        scale={1}\n        onDrag={handleDrag}\n        onStop={handleDrag}\n      >\n        <div className=\"handle\" css={styles.handle} />\n      </Draggable>\n      <div css={styles.rail} />\n    </div>\n  );\n};\n\nexport default Dragger;\n","import { Interpolation } from \"@emotion/core\";\nimport { grid } from \"../design-tokens/grid\";\n\nconst root: Interpolation = {\n  display: \"flex\",\n\n  \"> *\": {\n    flex: 1,\n    marginRight: grid(1.5),\n  },\n\n  \"> *:last-of-type\": {\n    marginRight: 0,\n  },\n};\n\nconst styles = {\n  root,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport Button from \"../button/button\";\nimport styles from \"./percentage-picker.styles\";\n\ninterface PercentagePickerProps {\n  percentage: number;\n  onSelect: (percentage: number) => void;\n}\n\nconst items = [25, 50, 75, 100];\n\nconst PercentagePicker: React.FC<PercentagePickerProps> = ({\n  percentage,\n  onSelect,\n}) => {\n  return (\n    <div css={styles.root}>\n      {items.map((item) => (\n        <Button\n          key={item}\n          size=\"small\"\n          type={percentage === item ? \"primary\" : \"default\"}\n          onClick={() => onSelect(item)}\n        >\n          {item === 100 ? \"Max\" : `${item}%`}\n        </Button>\n      ))}\n    </div>\n  );\n};\n\nexport default PercentagePicker;\n","import { Interpolation } from \"@emotion/core\";\nimport { Theme } from \"../../../../../../../types/theme\";\nimport { Fonts } from \"../../../../../ui-library/design-tokens/fonts\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\n\nconst header = (theme: Theme): Interpolation => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  width: \"100%\",\n  minHeight: grid(9),\n  textAlign: \"left\",\n  paddingLeft: grid(2),\n  paddingRight: grid(2),\n  borderBottom: `1px solid ${theme.border}`,\n});\n\nconst imageContainer: Interpolation = {\n  width: grid(5),\n  height: grid(5),\n  marginRight: grid(1.5),\n};\n\nconst symbol = (theme: Theme): Interpolation => ({\n  fontSize: 12,\n  color: theme.text,\n});\n\nconst content: Interpolation = {\n  padding: `${grid(2)} ${grid(2.5)} ${grid(3.5)}`,\n};\n\nconst headingContainer: Interpolation = {\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  marginBottom: grid(2.5),\n};\n\nconst heading: Interpolation = {\n  maxWidth: grid(11),\n  fontWeight: Fonts.Weight.Bold,\n  lineHeight: \"20px\",\n};\n\nconst headingContent: Interpolation = {\n  textAlign: \"right\",\n};\n\nconst percentage: Interpolation = {\n  fontSize: 50,\n  fontWeight: Fonts.Weight.Bold,\n  textAlign: \"center\",\n  marginBottom: grid(2),\n};\n\nconst center: Interpolation = {\n  textAlign: \"center\",\n};\n\nconst button: Interpolation = {\n  width: \"100%\",\n};\n\nconst inlineContainer: Interpolation = {\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  lineHeight: \"16px\",\n};\n\nconst txHistoryButton: Interpolation = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  height: grid(4),\n  cursor: \"pointer\",\n\n  \"> img\": {\n    marginRight: grid(1),\n  },\n};\n\nconst styles = {\n  header,\n  symbol,\n  content,\n  imageContainer,\n  headingContainer,\n  heading,\n  headingContent,\n  percentage,\n  center,\n  button,\n  inlineContainer,\n  txHistoryButton,\n};\n\nexport default styles;\n","import Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport DRContract from \"../../../../contracts/IDigitalReserve.json\";\nimport { getUnixTimeAfterMins } from \"../../../timestamp\";\nimport { getEthPrice } from \"../../../uniswap-graph/eth-price\";\nimport { getGasPrice } from \"../../gas-price\";\n\ninterface DepositPriceImpactInput {\n  web3: Web3;\n  contractAddress: string;\n  amount: number;\n}\n\nexport const getDepositPriceImpact = async ({\n  web3,\n  contractAddress,\n  amount,\n}: DepositPriceImpactInput) => {\n  if (amount === 0) {\n    return null;\n  }\n  try {\n    const contract = new web3.eth.Contract(\n      DRContract.abi as AbiItem[],\n      contractAddress\n    );\n\n    const priceImpact = await contract.methods\n      .depositPriceImpact(amount)\n      .call();\n\n    const priceImpactPercentage = Math.round(Number(priceImpact)) / 100;\n\n    return priceImpactPercentage;\n  } catch (err) {\n    console.error(\"Get price impact failed\", err);\n    return null;\n  }\n};\n\ninterface DepositGasInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n  amount: number;\n}\n\nexport const estimateDepositGas = async ({\n  web3,\n  userAccount,\n  contractAddress,\n  amount,\n}: DepositGasInput) => {\n  if (amount === 0) {\n    return 0;\n  }\n\n  const contract = new web3.eth.Contract(\n    DRContract.abi as AbiItem[],\n    contractAddress\n  );\n\n  try {\n    const gasPrice = await getGasPrice(web3);\n    const gasLimit = await contract.methods\n      .depositDrc(amount, getUnixTimeAfterMins(10))\n      .estimateGas({ from: userAccount, gasPrice });\n\n    if (gasPrice) {\n      const ethAmount =\n        (Number(web3.utils.fromWei(gasPrice, \"gwei\")) *\n          Math.round(gasLimit * 1.1)) /\n        10 ** 9;\n      const ethPrice = (await getEthPrice()) || 0;\n\n      return ethAmount * ethPrice;\n    } else {\n      return null;\n    }\n  } catch (err) {\n    return null;\n  }\n};\n\ninterface VaultDepositInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n  amount: number;\n  onTxHash?: (transactionHash: string) => void;\n}\n\nexport const drVaultDeposit = async ({\n  web3,\n  userAccount,\n  contractAddress,\n  amount,\n  onTxHash,\n}: VaultDepositInput) => {\n  try {\n    const contract = new web3.eth.Contract(\n      DRContract.abi as AbiItem[],\n      contractAddress\n    );\n\n    const gasPrice = await getGasPrice(web3);\n    let gasLimit: number | undefined = undefined;\n    try {\n      gasLimit = await contract.methods\n        .depositDrc(amount, getUnixTimeAfterMins(10))\n        .estimateGas({ from: userAccount, gasPrice });\n    } catch (err) {\n      console.log(\"Can't estimate gas\", err);\n    }\n\n    await contract.methods\n      .depositDrc(amount, getUnixTimeAfterMins(10))\n      .send({\n        from: userAccount,\n        gasPrice,\n        gas: gasLimit ? Math.round(gasLimit * 1.1) : undefined,\n      })\n      .on(\"transactionHash\", onTxHash);\n\n    return { success: true };\n  } catch (err) {\n    console.error(\"Deposit failed\", err);\n    return { success: false };\n  }\n};\n","import { Interpolation } from \"@emotion/core\";\nimport { grid } from \"../../../../../../ui-library/design-tokens/grid\";\nimport { Device } from \"../../../../../../ui-library/design-tokens/media-queries\";\n\nconst root: Interpolation = {\n  position: \"relative\",\n};\n\nconst content: Interpolation = {\n  maxWidth: grid(76),\n  padding: `${grid(3)} ${grid(2)} ${grid(8)}`,\n\n  [Device.DesktopTablet]: {\n    padding: `${grid(3)} ${grid(3)} ${grid(8)}`,\n  },\n};\n\nconst styles = {\n  root,\n  content,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport { grid } from \"../../../../../../ui-library/design-tokens/grid\";\nimport SlideOut from \"../../../../../../ui-library/slide-out/slide-out\";\nimport Heading from \"../../../../../../ui-library/text/heading\";\nimport Text from \"../../../../../../ui-library/text/text\";\nimport SlideOutHeader from \"../../../../../../ui-library/vault-components/slide-out-vault-info/slide-out-header\";\nimport styles from \"./price-impact-info.styles\";\n\ninterface SlideOutPriceImpactInfoProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst SlideOutPriceImpactInfo: React.FC<SlideOutPriceImpactInfoProps> = ({\n  isOpen,\n  onClose,\n}) => {\n  return (\n    <SlideOut\n      isOpen={isOpen}\n      onHide={onClose}\n      isFullWidthOnMobile={true}\n      enableBodyLock={true}\n    >\n      <div css={styles.root}>\n        <SlideOutHeader\n          heading=\"Price impact deposit limits\"\n          onClose={onClose}\n        />\n\n        <div css={styles.content}>\n          <Heading margin={{ bottom: grid(3) }}>\n            Why cant I deposit my DRC?\n          </Heading>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            The Digital Reserve limits the amount of DRC that can be deposited\n            if it will have a greater than 2% price impact on any of the assets\n            in the portfolio allocation.\n          </Text>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            These limits are added for protection of the Digital Reserve against\n            Flash Loan Attacks. As the current availability of liquidity for the\n            underlying assets on Uniswap is not sufficient for your deposit at\n            this moment, you are unable to deposit your currently entered amount\n            of DRC.\n          </Text>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            You can try reducing the amount of DRC to be deposited or\n            alternatively, please wait for the assets liquidity pool to\n            increase to accommodate your preferred amount of DRC.\n          </Text>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            Thank you for your patience and understanding.\n          </Text>\n        </div>\n      </div>\n    </SlideOut>\n  );\n};\n\nexport default SlideOutPriceImpactInfo;\n","import * as React from \"react\";\nimport Button from \"../../../../../ui-library/button/button\";\nimport { DrContext } from \"../../../../../../site-context/dr-context/dr-context\";\nimport {\n  approveDrcSpending,\n  estimateDrcApproveSpendingGas,\n  getDrcAllowance,\n} from \"../../../../../../utils/web3/drc-approval\";\nimport {\n  estimateDepositGas,\n  getDepositPriceImpact,\n  drVaultDeposit,\n} from \"../../../../../../utils/web3/dr-vault/vault-actions/vault-deposit-actions\";\nimport { getTransactionUrl } from \"../../../../../../utils/etherscan\";\nimport {\n  formatCurrency,\n  formatNumber,\n} from \"../../../../../../utils/format-number\";\nimport InfoCta from \"../../../../../ui-library/info-cta/info-cta\";\nimport MarginBox from \"../../../../../ui-library/margin-box/margin-box\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport TransactionStatusToast from \"../../../../../ui-library/transaction-status-toast/transaction-status-toast\";\nimport Text from \"../../../../../ui-library/text/text\";\nimport { CurrencySymbol } from \"../../../../../../../types/currency\";\nimport { TransactionStatus } from \"../../../../../../../types/dr-vault\";\nimport SlideOutPriceImpactInfo from \"./price-impact-info/price-impact-info\";\nimport styles from \"./deposit-withdraw-action.styles\";\n\ninterface DepositButtonProps {\n  amount: number;\n  approveAmount: number;\n  onSuccess: () => void;\n}\n\nconst DepositButton: React.FC<DepositButtonProps> = ({\n  amount,\n  approveAmount,\n  onSuccess,\n}) => {\n  const [approvalStatus, setApprovalStatus] =\n    React.useState<TransactionStatus>(\"none\");\n  const [approvalTxHash, setApprovalTxHash] = React.useState<\n    string | undefined\n  >();\n  const [depositStatus, setDepositStatus] =\n    React.useState<TransactionStatus>(\"none\");\n  const [depositTxHash, setDepositTxHash] = React.useState<\n    string | undefined\n  >();\n\n  const [allowance, setAllowance] = React.useState<number>(0);\n  const [priceImpact, setPriceImpact] = React.useState<number>(0);\n  const [gasEstimation, setGasEstimation] = React.useState<number>(0);\n  const [isPriceImpactInfoOpen, setPriceImpactInfoOpen] =\n    React.useState<boolean>(false);\n\n  const {\n    chainId,\n    contractAddress,\n    web3,\n    userAccount,\n    drcBalance: { data: drcBalance = 0 },\n    updateDrData,\n  } = React.useContext(DrContext);\n\n  React.useEffect(() => {\n    getDepositPriceImpact({\n      web3,\n      contractAddress,\n      amount,\n    }).then((impact = 0) => {\n      if (impact) {\n        setPriceImpact(impact);\n      }\n    });\n  }, [amount]);\n\n  React.useEffect(() => {\n    if (amount > 0) {\n      if (amount > allowance) {\n        estimateDrcApproveSpendingGas({\n          web3,\n          userAccount,\n          contractAddress,\n          amount: approveAmount,\n          chainId,\n        }).then((data) => setGasEstimation(data || 0));\n      } else {\n        estimateDepositGas({\n          web3,\n          userAccount,\n          contractAddress,\n          amount,\n        }).then((data) => setGasEstimation(data || 0));\n      }\n    } else {\n      setGasEstimation(0);\n    }\n  }, [amount, allowance]);\n\n  const queryAllowance = async () => {\n    const contractAllowance = await getDrcAllowance({\n      web3,\n      userAccount,\n      contractAddress,\n      chainId,\n    });\n    setAllowance(contractAllowance || 0);\n  };\n\n  React.useEffect(() => {\n    queryAllowance();\n  }, []);\n\n  const handleApproval = async () => {\n    if (approvalStatus !== \"pending\" && amount > 0 && amount > allowance) {\n      setDepositStatus(\"none\");\n      setDepositTxHash(undefined);\n      setApprovalStatus(\"pending\");\n      const { success } = await approveDrcSpending({\n        web3,\n        userAccount,\n        contractAddress,\n        amount: approveAmount,\n        onTxHash: setApprovalTxHash,\n        chainId,\n      });\n      if (success) {\n        await queryAllowance();\n        setApprovalStatus(\"success\");\n      } else {\n        setApprovalStatus(\"failed\");\n      }\n    }\n  };\n\n  const handleDeposit = async () => {\n    if (depositStatus !== \"pending\" && amount > 0 && allowance >= amount) {\n      setApprovalStatus(\"none\");\n      setApprovalTxHash(undefined);\n      setDepositStatus(\"pending\");\n      const { success } = await drVaultDeposit({\n        web3,\n        userAccount,\n        contractAddress,\n        amount,\n        onTxHash: setDepositTxHash,\n      });\n      if (success) {\n        setDepositStatus(\"success\");\n        updateDrData();\n        onSuccess();\n      } else {\n        setDepositStatus(\"failed\");\n      }\n    }\n  };\n\n  const formattedAmount = formatNumber({ value: amount });\n\n  const approvalMessageMapping: Record<TransactionStatus, string> = {\n    none: `Approve ${formattedAmount} DRC`,\n    pending:\n      \"Please wait a moment, or check on Etherscan if this hangs for too long\",\n    success: \"You can now deposit DRC\",\n    failed: \"Please try approve again\",\n  };\n\n  const depositMessageMapping: Record<TransactionStatus, string> = {\n    none: `Deposit ${formattedAmount} DRC`,\n    pending:\n      \"Please wait a moment, or check on Etherscan if this hangs for too long\",\n    success: `DRC successfully deposited`,\n    failed: \"Please try depositing again\",\n  };\n\n  if (drcBalance === 0 || amount > drcBalance) {\n    return (\n      <Button css={styles.button} type=\"primary\">\n        INSUFFICIENT DRC\n      </Button>\n    );\n  }\n\n  return (\n    <>\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        {amount > allowance && (\n          <Button\n            css={{ width: \"calc(50% - 10px)\", marginRight: grid(2) }}\n            type=\"primary\"\n            isDisabled={\n              approvalStatus === \"pending\" ||\n              amount <= allowance ||\n              amount === 0\n            }\n            onClick={handleApproval}\n            isLoading={approvalStatus === \"pending\"}\n          >\n            APPROVE\n          </Button>\n        )}\n\n        <Button\n          css={{ width: amount <= allowance ? \"100%\" : \"calc(50% - 10px)\" }}\n          type=\"primary\"\n          isDisabled={\n            depositStatus === \"pending\" || amount > allowance || amount === 0\n          }\n          onClick={handleDeposit}\n          isLoading={depositStatus === \"pending\"}\n        >\n          {depositStatus === \"pending\" ? \"PENDING DEPOSIT\" : \"DEPOSIT\"}\n        </Button>\n      </div>\n\n      {gasEstimation > 0 && (\n        <Text\n          component=\"div\"\n          type=\"secondary\"\n          textSize={12}\n          textAlign=\"center\"\n          margin={{ top: grid(1.5) }}\n        >\n          Estimated transaction gas fee:{\" \"}\n          {formatCurrency({\n            value: gasEstimation,\n            currency: CurrencySymbol.USD,\n          })}\n        </Text>\n      )}\n\n      {priceImpact > 2 && (\n        <MarginBox margin={{ top: grid(2.5), bottom: grid(3) }}>\n          <InfoCta onClick={() => setPriceImpactInfoOpen(true)}>\n            Asset price impact is more than 2%\n          </InfoCta>\n        </MarginBox>\n      )}\n\n      <TransactionStatusToast\n        status={approvalStatus}\n        name=\"Approval\"\n        message={approvalMessageMapping[approvalStatus]}\n        url={\n          approvalTxHash\n            ? getTransactionUrl(approvalTxHash, chainId)\n            : undefined\n        }\n      />\n\n      <TransactionStatusToast\n        status={depositStatus}\n        name=\"Deposit\"\n        message={depositMessageMapping[depositStatus]}\n        url={\n          depositTxHash ? getTransactionUrl(depositTxHash, chainId) : undefined\n        }\n      />\n\n      <SlideOutPriceImpactInfo\n        isOpen={isPriceImpactInfoOpen}\n        onClose={() => setPriceImpactInfoOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default DepositButton;\n","import { Interpolation } from \"@emotion/core\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport { Device } from \"../../../../../ui-library/design-tokens/media-queries\";\n\nconst root: Interpolation = {\n  position: \"relative\",\n};\n\nconst content: Interpolation = {\n  maxWidth: grid(76),\n  padding: `${grid(3)} ${grid(2)} ${grid(8)}`,\n\n  [Device.DesktopTablet]: {\n    padding: `${grid(3)} ${grid(3)} ${grid(8)}`,\n  },\n};\n\nconst styles = {\n  root,\n  content,\n};\n\nexport default styles;\n","import { Interpolation } from \"@emotion/core\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport { Device } from \"../../../../../ui-library/design-tokens/media-queries\";\n\nconst cardHeader: Interpolation = {\n  display: \"flex\",\n  padding: grid(2),\n  cursor: \"pointer\",\n};\n\nconst arrow: Interpolation = {\n  flexShrink: 0,\n  marginRight: grid(1),\n};\n\nconst arrowDown: Interpolation = {\n  \"> img\": {\n    transform: \"rotate(180deg)\",\n  },\n};\n\nconst heading: Interpolation = {\n  flex: 1,\n};\n\nconst chevron: Interpolation = {\n  alignSelf: \"center\",\n  width: grid(3),\n  height: grid(3),\n  transition: \"all 0.2s ease\",\n};\n\nconst content: Interpolation = {\n  padding: `${grid(2)} ${grid(2)} ${grid(3)}`,\n\n  [Device.DesktopTablet]: {\n    paddingLeft: grid(5.5),\n  },\n};\n\nconst styles = {\n  cardHeader,\n  arrow,\n  arrowDown,\n  heading,\n  chevron,\n  content,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport AnimateHeight from \"react-animate-height\";\nimport ChevronBlackIcon from \"../../../../../../images/icons/chevron-icon-black.svg\";\nimport ChevronWhiteIcon from \"../../../../../../images/icons/chevron-icon-white.svg\";\nimport ArrowIconWhite from \"../../../../../../images/icons/arrow-icon-white.svg\";\nimport ArrowIconBlack from \"../../../../../../images/icons/arrow-icon-black.svg\";\nimport { SiteContext } from \"../../../../../../site-context/site-context\";\nimport Separator from \"../../../../../ui-library/separator/separator\";\nimport InfoCard from \"../../../../../ui-library/vault-components/info-card/info-card\";\nimport Image from \"../../../../../ui-library/image/image\";\nimport { DrTransactionInfo } from \"../../../../../../../types/dr-vault\";\nimport Text from \"../../../../../ui-library/text/text\";\nimport { Fonts } from \"../../../../../ui-library/design-tokens/fonts\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport LinkOut from \"../../../../../ui-library/link-out/link-out\";\nimport { getTransactionUrl } from \"../../../../../../utils/etherscan\";\nimport { DrContext } from \"../../../../../../site-context/dr-context/dr-context\";\nimport { formatNumber } from \"../../../../../../utils/format-number\";\nimport styles from \"./transaction-history-card.styles\";\n\ninterface TransactionHistoryCardProps extends DrTransactionInfo {\n  isDefaultOpen?: boolean;\n}\n\nconst TransactionHistoryCard: React.FC<TransactionHistoryCardProps> = ({\n  isDefaultOpen,\n  eventName,\n  transactionHash,\n  timeFormated,\n  drcAmount,\n  podAmount,\n}) => {\n  const { isDarkMode } = React.useContext(SiteContext);\n  const { chainId } = React.useContext(DrContext);\n\n  const [isOpen, setOpen] = React.useState<boolean>(isDefaultOpen || false);\n\n  const chevronIcon = isDarkMode ? ChevronWhiteIcon : ChevronBlackIcon;\n  const arrowIcon = isDarkMode ? ArrowIconWhite : ArrowIconBlack;\n\n  const isArrowDown = eventName === \"Receive\" || eventName === \"Deposit\";\n\n  return (\n    <InfoCard isNoPadding={true}>\n      <div css={styles.cardHeader} onClick={() => setOpen(!isOpen)}>\n        <div css={[styles.arrow, isArrowDown && styles.arrowDown]}>\n          <Image src={arrowIcon} alt=\"Arrow\" />\n        </div>\n        <div css={styles.heading}>\n          <Text\n            component=\"div\"\n            textSize={20}\n            weight={Fonts.Weight.Bold}\n            margin={{ bottom: grid(1) }}\n          >\n            {eventName}\n          </Text>\n\n          <Text component=\"div\" type=\"secondary\" textSize={12}>\n            {timeFormated}\n          </Text>\n        </div>\n\n        <div\n          css={[\n            styles.chevron,\n            {\n              transform: `rotateX(${isOpen ? 0 : 180}deg)`,\n            },\n          ]}\n        >\n          <Image src={chevronIcon} alt=\"Chevron icon\" />\n        </div>\n      </div>\n\n      <AnimateHeight duration={200} height={isOpen ? \"auto\" : 0}>\n        <Separator />\n\n        <div css={styles.content}>\n          <Text\n            component=\"div\"\n            weight={Fonts.Weight.Bold}\n            margin={{ bottom: grid(1) }}\n          >\n            Amount\n          </Text>\n\n          <Text component=\"div\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            {!!drcAmount && `${formatNumber({ value: drcAmount })} DRC`}\n            {!!podAmount &&\n              `${formatNumber({ value: podAmount, round: 2 })} DR-POD`}\n          </Text>\n\n          <Text\n            component=\"div\"\n            weight={Fonts.Weight.Bold}\n            margin={{ bottom: grid(1) }}\n          >\n            Transaction Hash\n          </Text>\n\n          <LinkOut\n            url={getTransactionUrl(transactionHash, chainId)}\n            underline={true}\n          >\n            {transactionHash.slice(0, 25)}...\n          </LinkOut>\n        </div>\n      </AnimateHeight>\n    </InfoCard>\n  );\n};\n\nexport default TransactionHistoryCard;\n","import * as React from \"react\";\nimport { DrContext } from \"../../../../../../site-context/dr-context/dr-context\";\nimport { SiteContext } from \"../../../../../../site-context/site-context\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport Loader from \"../../../../../ui-library/loader/loader\";\nimport MarginBox from \"../../../../../ui-library/margin-box/margin-box\";\nimport SlideOut from \"../../../../../ui-library/slide-out/slide-out\";\nimport Heading from \"../../../../../ui-library/text/heading\";\nimport SlideOutHeader from \"../../../../../ui-library/vault-components/slide-out-vault-info/slide-out-header\";\nimport styles from \"./transaction-history.styles\";\nimport TransactionHistoryCard from \"./transaction-history-card\";\n\ninterface SlideOutTransactionHistoriesProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst SlideOutTransactionHistories: React.FC<SlideOutTransactionHistoriesProps> =\n  ({ isOpen, onClose }) => {\n    const {\n      userTransactions: { data: transactions, loading },\n    } = React.useContext(DrContext);\n\n    const { isMobile } = React.useContext(SiteContext);\n\n    return (\n      <SlideOut\n        isOpen={isOpen}\n        onHide={onClose}\n        isFullWidthOnMobile={true}\n        enableBodyLock={true}\n      >\n        <div css={styles.root}>\n          <SlideOutHeader\n            heading=\"Your transaction history\"\n            onClose={onClose}\n          />\n\n          <div css={styles.content}>\n            {isMobile && (\n              <Heading margin={{ bottom: grid(3) }}>\n                Your transaction history\n              </Heading>\n            )}\n\n            {loading && <Loader />}\n\n            {transactions?.map((tx, index) => (\n              <MarginBox key={tx.id} margin={{ bottom: grid(2) }}>\n                <TransactionHistoryCard {...tx} isDefaultOpen={index === 0} />\n              </MarginBox>\n            ))}\n          </div>\n        </div>\n      </SlideOut>\n    );\n  };\n\nexport default SlideOutTransactionHistories;\n","import * as React from \"react\";\nimport ListIcon from \"../../../../../../images/icons/list-icon.svg\";\nimport Image from \"../../../../../ui-library/image/image\";\nimport { DrContext } from \"../../../../../../site-context/dr-context/dr-context\";\nimport SlideOutTransactionHistories from \"../transaction-history/transaction-history\";\nimport styles from \"./deposit-withdraw-action.styles\";\n\nconst ViewTransactionHistory: React.FC = () => {\n  const [isTxHistoryOpen, setTxHistoryOpen] = React.useState<boolean>(false);\n\n  const {\n    userTransactions: { data: userTransactions },\n  } = React.useContext(DrContext);\n\n  return (\n    <>\n      {userTransactions && userTransactions.length > 0 && (\n        <div\n          css={styles.txHistoryButton}\n          onClick={() => setTxHistoryOpen(true)}\n        >\n          <Image src={ListIcon} alt=\"List\" />\n          View transaction history\n        </div>\n      )}\n\n      <SlideOutTransactionHistories\n        isOpen={isTxHistoryOpen}\n        onClose={() => setTxHistoryOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default ViewTransactionHistory;\n","import * as React from \"react\";\nimport LogoBlack from \"../../../../../../images/logo-round-black.svg\";\nimport LogoWhite from \"../../../../../../images/logo-round-white.svg\";\nimport { SiteContext } from \"../../../../../../site-context/site-context\";\nimport { Fonts } from \"../../../../../ui-library/design-tokens/fonts\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport Dragger from \"../../../../../ui-library/dragger/dragger\";\nimport Image from \"../../../../../ui-library/image/image\";\nimport MarginBox from \"../../../../../ui-library/margin-box/margin-box\";\nimport DrcNumberInput from \"../../../../../ui-library/drc-number-input/drc-number-input\";\nimport PercentagePicker from \"../../../../../ui-library/percentage-picker/percentage-picker\";\nimport Text from \"../../../../../ui-library/text/text\";\nimport { DrContext } from \"../../../../../../site-context/dr-context/dr-context\";\nimport {\n  formatCurrency,\n  formatNumber,\n} from \"../../../../../../utils/format-number\";\nimport { CurrencySymbol } from \"../../../../../../../types/currency\";\nimport Heading from \"../../../../../ui-library/text/heading\";\nimport styles from \"./deposit-withdraw-action.styles\";\nimport DepositButton from \"./deposit-button\";\nimport ViewTransactionHistory from \"./view-transaction-history\";\n\nconst DepositFromWallet: React.FC = () => {\n  const [percentage, setPercentage] = React.useState<number>(0);\n  const [value, setValue] = React.useState<number>(0);\n\n  const {\n    drcBalance: { data: drcBalance = 0 },\n    drcPrice: { data: price = 0 },\n  } = React.useContext(DrContext);\n  const { isDarkMode } = React.useContext(SiteContext);\n\n  const logo = isDarkMode ? LogoWhite : LogoBlack;\n\n  const handleSelectPercentage = (newPercentage: number) => {\n    setPercentage(newPercentage);\n    const newValue = Math.floor((drcBalance * newPercentage) / 100);\n    setValue(newValue);\n  };\n\n  const handleInputDrc = (amount: number) => {\n    setValue(amount);\n    if (drcBalance === 0) {\n      setPercentage(0);\n    } else {\n      const newPercentage = Math.round((amount / drcBalance) * 100);\n      setPercentage(newPercentage);\n    }\n  };\n\n  const handleDepositFinish = () => {\n    setPercentage(0);\n    setValue(0);\n  };\n\n  return (\n    <div>\n      <div css={styles.header}>\n        <div css={styles.imageContainer}>\n          <Image src={logo} alt=\"Logo\" />\n        </div>\n\n        <div>\n          <Text\n            component=\"div\"\n            weight={Fonts.Weight.Bold}\n            margin={{ bottom: 3 }}\n          >\n            Digital Reserve Currency\n          </Text>\n          <div css={styles.symbol}>DRC</div>\n        </div>\n      </div>\n\n      <div css={styles.content}>\n        <div css={styles.headingContainer}>\n          <div css={styles.heading}>Your wallet balance</div>\n          <div css={styles.headingContent}>\n            <MarginBox margin={{ bottom: grid(0.5) }}>\n              <div css={styles.heading}>\n                {formatNumber({ value: drcBalance })}\n              </div>\n            </MarginBox>\n            <Text component=\"div\" type=\"secondary\" textSize={14}>\n              {formatCurrency({\n                value: drcBalance * price,\n                currency: CurrencySymbol.USD,\n              })}\n            </Text>\n          </div>\n        </div>\n\n        <div css={styles.percentage}>{percentage}%</div>\n\n        <MarginBox margin={{ bottom: grid(2.5) }}>\n          <Dragger percentage={percentage} onDragged={handleSelectPercentage} />\n        </MarginBox>\n\n        <MarginBox margin={{ bottom: grid(4) }}>\n          <PercentagePicker\n            percentage={percentage}\n            onSelect={handleSelectPercentage}\n          />\n        </MarginBox>\n\n        <Heading margin={{ bottom: grid(2.5) }}>Amount to Deposit</Heading>\n\n        <MarginBox margin={{ bottom: grid(2.5) }}>\n          <DrcNumberInput\n            value={value}\n            onValueSet={handleInputDrc}\n            max={drcBalance}\n          />\n        </MarginBox>\n\n        <Text\n          component=\"div\"\n          type=\"secondary\"\n          textSize={14}\n          textAlign=\"center\"\n          margin={{ bottom: grid(0.5) }}\n        >\n          Equivalent USD Value\n        </Text>\n\n        <Text\n          component=\"div\"\n          textAlign=\"center\"\n          weight={Fonts.Weight.Bold}\n          margin={{ bottom: grid(3) }}\n        >\n          {formatCurrency({\n            value: value * price,\n            currency: CurrencySymbol.USD,\n          })}\n        </Text>\n\n        <MarginBox margin={{ bottom: grid(2.5) }}>\n          <DepositButton\n            amount={value}\n            approveAmount={drcBalance}\n            onSuccess={handleDepositFinish}\n          />\n\n          {/* <Button css={{ width: \"100%\" }} type=\"primary\" isDisabled={true}>\n            FURTHER DEPOSITS PAUSED\n          </Button> */}\n        </MarginBox>\n\n        <ViewTransactionHistory />\n      </div>\n    </div>\n  );\n};\n\nexport default DepositFromWallet;\n","import { Interpolation } from \"@emotion/core\";\nimport { Theme } from \"../../../../../../types/theme\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\n\nconst deaktopHeadings: Interpolation = {\n  display: \"flex\",\n  marginBottom: grid(2.5),\n  \"> *\": {\n    flex: 1,\n  },\n};\n\nconst desktopContainer = (theme: Theme): Interpolation => ({\n  display: \"flex\",\n  border: `1px solid ${theme.border}`,\n  borderTop: `5px solid ${theme.foreground}`,\n  borderRadius: 2,\n\n  \"> *\": {\n    width: \"50%\",\n    flexShrink: 1,\n    flexGrow: 1,\n  },\n\n  \"> div:first-of-type\": {\n    borderRight: `1px solid ${theme.border}`,\n  },\n});\n\nconst mobileContainer = (theme: Theme): Interpolation => ({\n  borderTop: `5px solid ${theme.foreground}`,\n});\n\nconst styles = {\n  deaktopHeadings,\n  desktopContainer,\n  mobileContainer,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport { DrContext } from \"../../../../../site-context/dr-context/dr-context\";\nimport { SiteContext } from \"../../../../../site-context/site-context\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport InfoBox from \"../../../../ui-library/info-box/info-box\";\nimport MarginBox from \"../../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../../ui-library/text/heading\";\nimport UserAssetsInVault from \"./user-assets-in-vault/user-assets-in-vault\";\nimport DepositFromWallet from \"./deposit-withdraw-action/deposit-from-wallet\";\nimport styles from \"./vault-action.styles\";\n\nconst VaultActionDeposit: React.FC = () => {\n  const { isMobile } = React.useContext(SiteContext);\n  const { setId } = React.useContext(DrContext);\n\n  const depositInfo = (\n    <InfoBox>\n      <strong>Deposit fees:</strong> Uniswap LP ~0.6% | DRC Foundation: 0%\n    </InfoBox>\n  );\n\n  return (\n    <div>\n      {!isMobile && (\n        <>\n          <div css={styles.deaktopHeadings}>\n            <Heading textAlign=\"center\">DRC in Wallet</Heading>\n            <Heading textAlign=\"center\">Assets in DR Vault {setId}</Heading>\n          </div>\n\n          <div css={styles.desktopContainer}>\n            <DepositFromWallet />\n            <UserAssetsInVault />\n          </div>\n          {depositInfo}\n        </>\n      )}\n\n      {isMobile && (\n        <>\n          <Heading textAlign=\"center\" margin={{ bottom: grid(2.5) }}>\n            DRC in Wallet\n          </Heading>\n          <div css={styles.mobileContainer}>\n            <DepositFromWallet />\n          </div>\n          <MarginBox margin={{ bottom: grid(3) }}>{depositInfo}</MarginBox>\n\n          <Heading textAlign=\"center\" margin={{ bottom: grid(2.5) }}>\n            Assets in DR Vault {setId}\n          </Heading>\n          <div css={styles.mobileContainer}>\n            <UserAssetsInVault />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default VaultActionDeposit;\n","import Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport IDigitalReserveWithdrawalABI from \"../../../../contracts/IDigitalReserveWithdrawalABI.json\";\nimport { getWithdrawalContractAddress } from \"../../../../data/dr/dr-contract-addresses\";\nimport { getUnixTimeAfterMins } from \"../../../timestamp\";\nimport { getEthPrice } from \"../../../uniswap-graph/eth-price\";\nimport { getGasPrice } from \"../../gas-price\";\n\ninterface WithdrawPercentageGasInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n  percentage: number;\n  minAmountOut: number;\n  chainId: number;\n}\n\nexport const estimateWithdrawPercentageGas = async ({\n  web3,\n  userAccount,\n  contractAddress,\n  percentage,\n  minAmountOut,\n  chainId,\n}: WithdrawPercentageGasInput) => {\n  if (percentage === 0) {\n    return 0;\n  }\n\n  const withdrawalContractAddr = getWithdrawalContractAddress(chainId);\n\n  const withdrawalContract = new web3.eth.Contract(\n    IDigitalReserveWithdrawalABI as AbiItem[],\n    withdrawalContractAddr\n  );\n\n  try {\n    const gasPrice = await getGasPrice(web3);\n    if (gasPrice) {\n      const gasLimit = await withdrawalContract.methods\n        .withdrawPercentage(\n          contractAddress,\n          percentage,\n          minAmountOut,\n          getUnixTimeAfterMins(10)\n        )\n        .estimateGas({ from: userAccount, gasPrice });\n\n      const ethAmount =\n        (Number(web3.utils.fromWei(gasPrice, \"gwei\")) *\n          Math.round(gasLimit * 1.1)) /\n        10 ** 9;\n      const ethPrice = (await getEthPrice()) || 0;\n\n      return ethAmount * ethPrice;\n    } else {\n      return null;\n    }\n  } catch (err) {\n    return null;\n  }\n};\n\ninterface WithdrawPercentageInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n  percentage: number;\n  minAmountOut: number;\n  chainId: number;\n  onTxHash?: (transactionHash: string) => void;\n}\n\nexport const drVaultWithdrawPercentage = async ({\n  web3,\n  userAccount,\n  contractAddress,\n  percentage,\n  minAmountOut,\n  chainId,\n  onTxHash,\n}: WithdrawPercentageInput) => {\n  try {\n    const withdrawalContractAddr = getWithdrawalContractAddress(chainId);\n\n    const withdrawalContract = new web3.eth.Contract(\n      IDigitalReserveWithdrawalABI as AbiItem[],\n      withdrawalContractAddr\n    );\n\n    const gasPrice = await getGasPrice(web3);\n    let gasLimit: number | undefined = undefined;\n    try {\n      gasLimit = await withdrawalContract.methods\n        .withdrawPercentage(\n          contractAddress,\n          percentage,\n          minAmountOut,\n          getUnixTimeAfterMins(10)\n        )\n        .estimateGas({ from: userAccount, gasPrice });\n    } catch (err) {\n      console.log(\"Can't estimate gas\", err);\n    }\n\n    await withdrawalContract.methods\n      .withdrawPercentage(\n        contractAddress,\n        percentage,\n        minAmountOut,\n        getUnixTimeAfterMins(10)\n      )\n      .send({\n        from: userAccount,\n        gasPrice,\n        gas: gasLimit ? Math.round(gasLimit * 1.1) : undefined,\n      })\n      .on(\"transactionHash\", onTxHash);\n\n    return { success: true };\n  } catch (err) {\n    console.error(\"Withdraw percentage failed\", err);\n    return { success: false };\n  }\n};\n","import Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport IERC20 from \"../../../../contracts/IERC20.json\";\nimport { getWithdrawalContractAddress } from \"../../../../data/dr/dr-contract-addresses\";\nimport { getEthPrice } from \"../../../uniswap-graph/eth-price\";\nimport { getGasPrice } from \"../../gas-price\";\n\ninterface AllowanceInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n  chainId: number;\n}\n\nexport const getDrPodAllowance = async ({\n  web3,\n  userAccount,\n  contractAddress,\n  chainId,\n}: AllowanceInput) => {\n  const drPod = new web3.eth.Contract(IERC20.abi as AbiItem[], contractAddress);\n\n  const withdrawalContract = getWithdrawalContractAddress(chainId);\n\n  try {\n    const allowance = await drPod.methods\n      .allowance(userAccount, withdrawalContract)\n      .call();\n    return Number(web3.utils.fromWei(allowance));\n  } catch (err) {\n    return null;\n  }\n};\n\ninterface ApproveSpendingGasInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n  chainId: number;\n}\n\nexport const estimateDrPodApproveSpendingGas = async ({\n  web3,\n  userAccount,\n  contractAddress,\n  chainId,\n}: ApproveSpendingGasInput) => {\n  const drPod = new web3.eth.Contract(IERC20.abi as AbiItem[], contractAddress);\n\n  const withdrawalContract = getWithdrawalContractAddress(chainId);\n\n  try {\n    const balance = await drPod.methods.balanceOf(userAccount).call();\n    const gasPrice = await getGasPrice(web3);\n    if (gasPrice) {\n      const gasLimit = await drPod.methods\n        .approve(withdrawalContract, balance)\n        .estimateGas({ from: userAccount, gasPrice });\n\n      const ethAmount =\n        (Number(web3.utils.fromWei(gasPrice, \"gwei\")) *\n          Math.round(gasLimit * 1.1)) /\n        10 ** 9;\n      const ethPrice = (await getEthPrice()) || 0;\n\n      return ethAmount * ethPrice;\n    } else {\n      return null;\n    }\n  } catch (err) {\n    return null;\n  }\n};\n\ninterface ApproveSpendingInput {\n  web3: Web3;\n  userAccount: string;\n  contractAddress: string;\n  onTxHash?: (transactionHash: string) => void;\n  chainId: number;\n}\n\nexport const approveDrPodSpending = async ({\n  web3,\n  userAccount,\n  contractAddress,\n  onTxHash,\n  chainId,\n}: ApproveSpendingInput) => {\n  const drPod = new web3.eth.Contract(IERC20.abi as AbiItem[], contractAddress);\n\n  const withdrawalContract = getWithdrawalContractAddress(chainId);\n\n  try {\n    const balance = await drPod.methods.balanceOf(userAccount).call();\n    const gasPrice = await getGasPrice(web3);\n    let gasLimit: number | undefined = undefined;\n    try {\n      gasLimit = await drPod.methods\n        .approve(withdrawalContract, balance)\n        .estimateGas({ from: userAccount, gasPrice });\n    } catch (err) {\n      console.log(\"Can't estimate gas\", err);\n    }\n\n    await drPod.methods\n      .approve(withdrawalContract, balance)\n      .send({\n        from: userAccount,\n        gasPrice,\n        gas: gasLimit ? Math.round(gasLimit * 1.1) : undefined,\n      })\n      .on(\"transactionHash\", onTxHash);\n\n    return { success: true };\n  } catch (err) {\n    console.error(\"Approval failed\", err);\n    return { success: false };\n  }\n};\n","import * as React from \"react\";\nimport Button from \"../../../../../ui-library/button/button\";\nimport { DrContext } from \"../../../../../../site-context/dr-context/dr-context\";\nimport { getTransactionUrl } from \"../../../../../../utils/etherscan\";\nimport {\n  formatCurrency,\n  formatNumber,\n} from \"../../../../../../utils/format-number\";\nimport { DR_OVERVIEW } from \"../../../../../../constants/elements\";\nimport { anchorToElement } from \"../../../../../../utils/dom/anchor-to-hash\";\nimport TransactionStatusToast from \"../../../../../ui-library/transaction-status-toast/transaction-status-toast\";\nimport Text from \"../../../../../ui-library/text/text\";\nimport { CurrencySymbol } from \"../../../../../../../types/currency\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport {\n  estimateWithdrawPercentageGas,\n  drVaultWithdrawPercentage,\n} from \"../../../../../../utils/web3/dr-vault/vault-actions/vault-withdraw-actions\";\nimport {\n  approveDrPodSpending,\n  estimateDrPodApproveSpendingGas,\n  getDrPodAllowance,\n} from \"../../../../../../utils/web3/dr-vault/vault-actions/dr-pod-withdraw-approval\";\nimport { TransactionStatus } from \"../../../../../../../types/dr-vault\";\nimport styles from \"./deposit-withdraw-action.styles\";\n\ninterface WithdrawButtonProps {\n  amountExpected: number;\n  percentage: number;\n  onSuccess: () => void;\n}\n\nconst WithdrawButton: React.FC<WithdrawButtonProps> = ({\n  amountExpected,\n  percentage,\n  onSuccess,\n}) => {\n  const [approvalStatus, setApprovalStatus] =\n    React.useState<TransactionStatus>(\"none\");\n  const [approvalTxHash, setApprovalTxHash] = React.useState<\n    string | undefined\n  >();\n  const [withdrawalStatus, setWithdrawalStatus] =\n    React.useState<TransactionStatus>(\"none\");\n  const [withdrawalTxHash, setWithdrawalTxHash] = React.useState<\n    string | undefined\n  >();\n\n  const [allowance, setAllowance] = React.useState<number>(0);\n  const [gasEstimation, setGasEstimation] = React.useState<number>(0);\n\n  const {\n    chainId,\n    contractAddress,\n    web3,\n    userAccount,\n    userVaultInfo,\n    updateDrData,\n  } = React.useContext(DrContext);\n\n  const drPodBalance = userVaultInfo.data?.drPodBalance;\n  const minAmountOut = Math.floor(amountExpected * 0.985);\n\n  const queryAllowance = async () => {\n    const contractAllowance = await getDrPodAllowance({\n      web3,\n      userAccount,\n      contractAddress,\n      chainId,\n    });\n    setAllowance(contractAllowance || 0);\n  };\n\n  React.useEffect(() => {\n    queryAllowance();\n  }, []);\n\n  React.useEffect(() => {\n    if (minAmountOut > 0 && percentage > 0 && drPodBalance) {\n      if (drPodBalance > allowance) {\n        estimateDrPodApproveSpendingGas({\n          web3,\n          userAccount,\n          contractAddress,\n          chainId,\n        }).then((data) => setGasEstimation(data || 0));\n      } else {\n        estimateWithdrawPercentageGas({\n          web3,\n          userAccount,\n          contractAddress,\n          percentage,\n          minAmountOut,\n          chainId,\n        }).then((data) => setGasEstimation(data || 0));\n      }\n    } else {\n      setGasEstimation(0);\n    }\n  }, [minAmountOut, percentage, allowance || 0]);\n\n  const handleApproval = async () => {\n    if (\n      approvalStatus !== \"pending\" &&\n      drPodBalance &&\n      drPodBalance > allowance\n    ) {\n      setWithdrawalStatus(\"none\");\n      setWithdrawalTxHash(undefined);\n      setApprovalStatus(\"pending\");\n      const { success } = await approveDrPodSpending({\n        web3,\n        userAccount,\n        contractAddress,\n        onTxHash: setApprovalTxHash,\n        chainId,\n      });\n      if (success) {\n        await queryAllowance();\n        setApprovalStatus(\"success\");\n      } else {\n        setApprovalStatus(\"failed\");\n      }\n    }\n  };\n\n  const handleWithdraw = async () => {\n    if (amountExpected > 0) {\n      setWithdrawalStatus(\"pending\");\n\n      const data = await drVaultWithdrawPercentage({\n        web3,\n        userAccount,\n        contractAddress,\n        percentage,\n        minAmountOut,\n        chainId,\n        onTxHash: setWithdrawalTxHash,\n      });\n      if (data.success) {\n        updateDrData();\n        onSuccess();\n        setWithdrawalStatus(\"success\");\n\n        setTimeout(() => {\n          anchorToElement(DR_OVERVIEW);\n        }, 2000);\n      } else {\n        setWithdrawalStatus(\"failed\");\n      }\n    }\n  };\n\n  const formattedAmount = formatNumber({ value: amountExpected });\n\n  const approvalMessageMapping: Record<TransactionStatus, string> = {\n    none: `Approve ${formattedAmount} DR-POD`,\n    pending:\n      \"Please wait a moment, or check on Etherscan if this hangs for too long\",\n    success: \"You can now withdraw DRC\",\n    failed: \"Please try approve again\",\n  };\n\n  const withdrawMessageMapping: Record<TransactionStatus, string> = {\n    none: `Withdraw ${formattedAmount} DRC`,\n    pending:\n      \"Please wait a moment, or check on Etherscan if this hangs for too long\",\n    success: \"DRC successfully withdrawn\",\n    failed: \"Please try withdrawing again\",\n  };\n\n  if (!drPodBalance) {\n    return (\n      <Button css={styles.button} type=\"primary\">\n        NO DR-POD TO WITHDRAW\n      </Button>\n    );\n  }\n\n  return (\n    <>\n      <div css={{ display: \"flex\", alignItems: \"center\" }}>\n        {drPodBalance > allowance && (\n          <Button\n            css={{ width: \"calc(50% - 10px)\", marginRight: grid(2) }}\n            type=\"primary\"\n            isDisabled={approvalStatus === \"pending\"}\n            onClick={handleApproval}\n            isLoading={approvalStatus === \"pending\"}\n          >\n            APPROVE\n          </Button>\n        )}\n\n        <Button\n          css={{\n            width: drPodBalance <= allowance ? \"100%\" : \"calc(50% - 10px)\",\n          }}\n          type=\"primary\"\n          isDisabled={\n            withdrawalStatus === \"pending\" ||\n            drPodBalance > allowance ||\n            !drPodBalance\n          }\n          onClick={handleWithdraw}\n          isLoading={withdrawalStatus === \"pending\"}\n        >\n          {withdrawalStatus === \"pending\" ? \"PENDING WITHDRAWAL\" : \"WITHDRAW\"}\n        </Button>\n      </div>\n\n      {gasEstimation > 0 && (\n        <Text\n          component=\"div\"\n          type=\"secondary\"\n          textSize={12}\n          textAlign=\"center\"\n          margin={{ top: grid(1.5) }}\n        >\n          Estimated transaction gas fee:{\" \"}\n          {formatCurrency({\n            value: gasEstimation,\n            currency: CurrencySymbol.USD,\n          })}\n        </Text>\n      )}\n\n      <TransactionStatusToast\n        status={approvalStatus}\n        name=\"Approval\"\n        message={approvalMessageMapping[approvalStatus]}\n        url={\n          approvalTxHash\n            ? getTransactionUrl(approvalTxHash, chainId)\n            : undefined\n        }\n      />\n\n      <TransactionStatusToast\n        status={withdrawalStatus}\n        name=\"Withdrawal\"\n        message={withdrawMessageMapping[withdrawalStatus]}\n        url={\n          withdrawalTxHash\n            ? getTransactionUrl(withdrawalTxHash, chainId)\n            : undefined\n        }\n      />\n    </>\n  );\n};\n\nexport default WithdrawButton;\n","import * as React from \"react\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport Dragger from \"../../../../../ui-library/dragger/dragger\";\nimport MarginBox from \"../../../../../ui-library/margin-box/margin-box\";\nimport DrcNumberInput from \"../../../../../ui-library/drc-number-input/drc-number-input\";\nimport PercentagePicker from \"../../../../../ui-library/percentage-picker/percentage-picker\";\nimport Text from \"../../../../../ui-library/text/text\";\nimport { DrContext } from \"../../../../../../site-context/dr-context/dr-context\";\nimport Heading from \"../../../../../ui-library/text/heading\";\nimport {\n  formatCurrency,\n  formatNumber,\n} from \"../../../../../../utils/format-number\";\nimport { CurrencySymbol } from \"../../../../../../../types/currency\";\nimport { Fonts } from \"../../../../../ui-library/design-tokens/fonts\";\nimport Separator from \"../../../../../ui-library/separator/separator\";\nimport styles from \"./deposit-withdraw-action.styles\";\nimport WithdrawButton from \"./withdraw-button\";\nimport ViewTransactionHistory from \"./view-transaction-history\";\n\nconst WithdrawToWallet: React.FC = () => {\n  const [percentage, setPercentage] = React.useState<number>(0);\n  const [value, setValue] = React.useState<number>(0);\n\n  const {\n    setId,\n    userVaultInfo: { data },\n  } = React.useContext(DrContext);\n\n  const totalWorth = data?.totalWorthInDrc || 0;\n  const feePercentage = data?.feePercentage || 0;\n\n  const uniswapFee = Math.floor(value * 0.006);\n\n  const realWithdrawAmount = Math.round(\n    (value - uniswapFee) * (1 - feePercentage / 100)\n  );\n\n  const handleSelectPercentage = (newPercentage: number) => {\n    setPercentage(newPercentage);\n    const newValue = Math.floor((totalWorth * newPercentage) / 100);\n    setValue(newValue);\n  };\n\n  const handleInputDrc = (amount: number) => {\n    setValue(amount);\n    if (totalWorth === 0) {\n      setPercentage(0);\n    } else {\n      const newPercentage = Math.ceil((amount / totalWorth) * 100);\n      setPercentage(newPercentage);\n    }\n  };\n\n  const handleDepositFinish = () => {\n    setPercentage(0);\n    setValue(0);\n  };\n\n  return (\n    <div>\n      <div css={styles.content}>\n        <div css={styles.headingContainer}>\n          <div css={styles.heading}>Your DR Vault {setId} balance</div>\n          <div css={styles.headingContent}>\n            <MarginBox margin={{ bottom: grid(0.5) }}>\n              <div css={styles.heading}>\n                {formatCurrency({\n                  value: data?.userHoldingUsd,\n                  currency: CurrencySymbol.USD,\n                }) || \"$-\"}\n              </div>\n            </MarginBox>\n            <Text component=\"div\" type=\"secondary\" textSize={14}>\n              {formatNumber({\n                value: totalWorth,\n              })}{\" \"}\n              DRC\n            </Text>\n          </div>\n        </div>\n\n        <div css={styles.percentage}>{percentage}%</div>\n\n        <MarginBox margin={{ bottom: grid(2.5) }}>\n          <Dragger percentage={percentage} onDragged={handleSelectPercentage} />\n        </MarginBox>\n\n        <MarginBox margin={{ bottom: grid(4) }}>\n          <PercentagePicker\n            percentage={percentage}\n            onSelect={handleSelectPercentage}\n          />\n        </MarginBox>\n\n        <Heading margin={{ bottom: grid(2.5) }}>Amount to Withdraw</Heading>\n\n        <MarginBox margin={{ bottom: grid(3) }}>\n          <DrcNumberInput\n            value={value}\n            onValueSet={handleInputDrc}\n            max={totalWorth}\n          />\n        </MarginBox>\n\n        <MarginBox margin={{ bottom: grid(3) }}>\n          <WithdrawButton\n            amountExpected={realWithdrawAmount}\n            percentage={percentage}\n            onSuccess={handleDepositFinish}\n          />\n        </MarginBox>\n\n        <Text\n          component=\"div\"\n          textSize={14}\n          weight={Fonts.Weight.Bold}\n          css={styles.inlineContainer}\n          margin={{ bottom: grid(1) }}\n        >\n          <span>Estimated to receive</span>\n          <span>\n            {formatNumber({\n              value: realWithdrawAmount,\n            })}{\" \"}\n            DRC\n          </span>\n        </Text>\n        <Text\n          component=\"div\"\n          textSize={14}\n          css={styles.inlineContainer}\n          margin={{ bottom: grid(2) }}\n        >\n          <span>Minimum to receive</span>\n          <span>\n            {formatNumber({\n              value: Math.floor(realWithdrawAmount * 0.985),\n            })}{\" \"}\n            DRC\n          </span>\n        </Text>\n\n        <Separator margin={{ bottom: grid(2) }} />\n\n        <Text\n          component=\"div\"\n          textSize={12}\n          type=\"secondary\"\n          css={styles.inlineContainer}\n          margin={{ bottom: grid(3) }}\n        >\n          <span>Uniswap LP</span>\n          <span>\n            ~0.6% (~\n            {formatNumber({\n              value: uniswapFee,\n            })}{\" \"}\n            DRC)\n          </span>\n        </Text>\n\n        <ViewTransactionHistory />\n      </div>\n    </div>\n  );\n};\n\nexport default WithdrawToWallet;\n","import * as React from \"react\";\nimport { DrContext } from \"../../../../../site-context/dr-context/dr-context\";\nimport { SiteContext } from \"../../../../../site-context/site-context\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport InfoBox from \"../../../../ui-library/info-box/info-box\";\nimport MarginBox from \"../../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../../ui-library/text/heading\";\nimport UserAssetsInVault from \"./user-assets-in-vault/user-assets-in-vault\";\nimport styles from \"./vault-action.styles\";\nimport WithdrawToWallet from \"./deposit-withdraw-action/withdraw-to-wallet\";\n\nconst VaultActionWithdraw: React.FC = () => {\n  const { isMobile } = React.useContext(SiteContext);\n  const {\n    setId,\n    userVaultInfo: { data },\n  } = React.useContext(DrContext);\n\n  const withdrawalInfo = (\n    <InfoBox>\n      <strong>Withdrawal fees:</strong> Uniswap LP ~0.6% | DRC Foundation:{\" \"}\n      {data?.feePercentage}%\n    </InfoBox>\n  );\n\n  return (\n    <div>\n      {!isMobile && (\n        <>\n          <div css={styles.deaktopHeadings}>\n            <Heading textAlign=\"center\">Assets in DR Vault {setId}</Heading>\n            <Heading textAlign=\"center\">Withdraw DRC to Wallet</Heading>\n          </div>\n\n          <div css={styles.desktopContainer}>\n            <UserAssetsInVault />\n            <WithdrawToWallet />\n          </div>\n          {withdrawalInfo}\n        </>\n      )}\n\n      {isMobile && (\n        <>\n          <Heading textAlign=\"center\" margin={{ bottom: grid(2.5) }}>\n            Withdraw DRC to Wallet\n          </Heading>\n          <div css={styles.mobileContainer}>\n            <WithdrawToWallet />\n          </div>\n          <MarginBox margin={{ bottom: grid(3) }}>{withdrawalInfo}</MarginBox>\n\n          <Heading textAlign=\"center\" margin={{ bottom: grid(2.5) }}>\n            Assets in DR Vault {setId}\n          </Heading>\n          <div css={styles.mobileContainer}>\n            <UserAssetsInVault />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default VaultActionWithdraw;\n","import * as React from \"react\";\nimport { DrVaultUserAction } from \"../../../../../../types/dr-vault\";\nimport { MANAGE_DR } from \"../../../../../constants/elements\";\nimport { DrContext } from \"../../../../../site-context/dr-context/dr-context\";\nimport { anchorToElement } from \"../../../../../utils/dom/anchor-to-hash\";\nimport Container from \"../../../../ui-library/container/container\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport ItemPickerTabs from \"../../../../ui-library/item-picker-tabs/item-picker-tabs\";\nimport MarginBox from \"../../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../../ui-library/text/heading\";\nimport VaultActionDeposit from \"../vault-actions/vault-action-deposit\";\nimport VaultActionWithdraw from \"../vault-actions/vault-action-withdraw\";\n\nconst actionItems = [\n  { label: \"Deposit\", value: \"deposit\" },\n  { label: \"Withdraw\", value: \"withdraw\" },\n];\n\nconst ManageYourDr: React.FC = () => {\n  const { appState, setId, isArchived } = React.useContext(DrContext);\n  const { activeAction, setActiveDrAction } = appState;\n\n  const handleClickItem = (item: string) => {\n    setActiveDrAction(item as DrVaultUserAction);\n    anchorToElement(MANAGE_DR);\n  };\n\n  return (\n    <div id={MANAGE_DR}>\n      {!isArchived && (\n        <Container>\n          <Heading\n            textAlign=\"center\"\n            margin={{\n              desktop: { bottom: grid(4) },\n              mobile: { bottom: grid(4) },\n            }}\n          >\n            Manage your DR Vault {setId}\n          </Heading>\n\n          <MarginBox\n            margin={{\n              desktop: { bottom: grid(4) },\n              mobile: { bottom: grid(4) },\n            }}\n          >\n            <ItemPickerTabs\n              itemPickerName=\"drUserActionType\"\n              activeItemValue={activeAction}\n              items={actionItems}\n              isUniWidth={true}\n              onItemClick={handleClickItem}\n            />\n          </MarginBox>\n        </Container>\n      )}\n\n      <Container fullWidthOnMobile={true}>\n        {activeAction === \"deposit\" && <VaultActionDeposit />}\n        {activeAction === \"withdraw\" && <VaultActionWithdraw />}\n      </Container>\n    </div>\n  );\n};\n\nexport default ManageYourDr;\n","import { Interpolation } from \"@emotion/core\";\nimport { Theme } from \"../../../../../../types/theme\";\nimport { Fonts } from \"../../../../ui-library/design-tokens/fonts\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport { Device } from \"../../../../ui-library/design-tokens/media-queries\";\n\nconst root: Interpolation = {\n  position: \"relative\",\n};\n\nconst back: Interpolation = {\n  position: \"absolute\",\n  top: grid(-0.5),\n  left: 0,\n  zIndex: 1,\n\n  [Device.Mobile]: {\n    left: grid(2),\n  },\n};\n\nconst disconnect: Interpolation = {\n  position: \"absolute\",\n  top: -3,\n  right: 0,\n  fontSize: 14,\n  cursor: \"pointer\",\n  zIndex: 1,\n\n  [Device.Mobile]: {\n    right: grid(2),\n  },\n};\n\nconst topContainer: Interpolation = {\n  padding: `${grid(4.5)} ${grid(2)} ${grid(3)}`,\n};\n\nconst badge: Interpolation = {\n  position: \"absolute\",\n  top: grid(1.5),\n  right: grid(1.5),\n};\n\nconst buyDrcButton: Interpolation = {\n  position: \"absolute\",\n  top: grid(1.5),\n  left: grid(1.5),\n};\n\nconst walletHeading: Interpolation = {\n  fontSize: 20,\n  fontWeight: Fonts.Weight.Bold,\n  marginBottom: grid(1.5),\n};\n\nconst drcBalance: Interpolation = {\n  fontSize: 24,\n  fontWeight: Fonts.Weight.Bold,\n  marginBottom: grid(2),\n  [Device.DesktopTablet]: {\n    fontSize: 28,\n  },\n};\n\nconst userAccountLink = (theme: Theme): Interpolation => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  color: theme.text,\n});\n\nconst bottomContainer: Interpolation = {\n  padding: `${grid(3)} ${grid(2)} ${grid(1)}`,\n  [Device.DesktopTablet]: {\n    padding: `${grid(3)} ${grid(2)} ${grid(5)}`,\n  },\n};\n\nconst userVaultWorth: Interpolation = {\n  fontSize: 40,\n  fontWeight: Fonts.Weight.Bold,\n  marginBottom: grid(1),\n};\n\nconst text = (theme: Theme): Interpolation => ({\n  color: theme.text,\n});\n\nconst buttonContainer: Interpolation = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n\n  \"> button + button\": {\n    marginLeft: grid(2.5),\n    [Device.DesktopTablet]: {\n      marginLeft: grid(4),\n    },\n  },\n};\n\nconst button: Interpolation = {\n  flex: 1,\n  [Device.DesktopTablet]: {\n    maxWidth: grid(25),\n  },\n};\n\nconst styles = {\n  root,\n  back,\n  disconnect,\n  topContainer,\n  badge,\n  buyDrcButton,\n  walletHeading,\n  drcBalance,\n  userAccountLink,\n  bottomContainer,\n  userVaultWorth,\n  text,\n  buttonContainer,\n  button,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport Back from \"../../../../ui-library/breadcrumb/back\";\nimport Button from \"../../../../ui-library/button/button\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport DrCard from \"../../../../ui-library/vault-components/dr-card/dr-card\";\nimport MarginBox from \"../../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../../ui-library/text/heading\";\nimport { DrContext } from \"../../../../../site-context/dr-context/dr-context\";\nimport { SiteContext } from \"../../../../../site-context/site-context\";\nimport Separator from \"../../../../ui-library/separator/separator\";\nimport { DR_OVERVIEW, MANAGE_DR } from \"../../../../../constants/elements\";\nimport Badge from \"../../../../ui-library/badge/badge\";\nimport { ChainNames } from \"../../../../../constants/chain-id\";\nimport LinkOut from \"../../../../ui-library/link-out/link-out\";\nimport { getAddressUrl } from \"../../../../../utils/etherscan\";\nimport {\n  formatCurrency,\n  formatNumber,\n} from \"../../../../../utils/format-number\";\nimport { CurrencySymbol } from \"../../../../../../types/currency\";\nimport { getContractAddress } from \"../../../../../data/dr/contract-by-network\";\nimport { anchorToElement } from \"../../../../../utils/dom/anchor-to-hash\";\nimport { SetId } from \"../../../../../../types/dr-vault\";\nimport styles from \"./user-vault-overview.styles\";\n\nconst urlMapping: Record<SetId, string> = {\n  s1: \"/platform/\",\n  s2: \"/platform/\",\n  s3: \"/platform/?drVaultType=alternate\",\n};\n\nconst UserVaultOverview: React.FC = () => {\n  const {\n    setId,\n    isArchived,\n    chainId,\n    userAccount,\n    appState,\n    drcBalance,\n    userVaultInfo,\n    disconnectWallet,\n  } = React.useContext(DrContext);\n\n  const { isMobile } = React.useContext(SiteContext);\n\n  const handleClickDeposit = () => {\n    appState.setActiveDrAction(\"deposit\");\n    anchorToElement(MANAGE_DR);\n  };\n\n  const handleClickWithdraw = () => {\n    appState.setActiveDrAction(\"withdraw\");\n    anchorToElement(MANAGE_DR);\n  };\n\n  return (\n    <div id={DR_OVERVIEW} css={styles.root}>\n      <div css={styles.back}>\n        <Back url={urlMapping[setId]} label=\"DR Vaults\" />\n      </div>\n\n      <div css={styles.disconnect} onClick={disconnectWallet}>\n        Disconnect wallet\n      </div>\n\n      <DrCard isNoPadding={true} isNoBorderBottom={isMobile}>\n        <a\n          css={styles.buyDrcButton}\n          href={`https://app.uniswap.org/#/swap?outputCurrency=${getContractAddress(\n            \"drc\",\n            chainId\n          )}&use=V2`}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <Badge>Buy DRC</Badge>\n        </a>\n\n        {(chainId === 1 || chainId === 3) && (\n          <div css={styles.badge}>\n            <Badge>{ChainNames[chainId]}</Badge>\n          </div>\n        )}\n\n        <div css={styles.topContainer}>\n          <div css={styles.walletHeading}>Your Connected Wallet</div>\n          <div css={styles.drcBalance}>\n            {formatNumber({ value: drcBalance.data }) || \"loading\"} DRC\n          </div>\n          <LinkOut url={getAddressUrl(userAccount, chainId)} isCenter={true}>\n            {userAccount.slice(0, 10)}...{userAccount.slice(-8)}\n          </LinkOut>\n        </div>\n\n        <Separator />\n\n        <div css={styles.bottomContainer}>\n          <Heading\n            component=\"h2\"\n            textAlign=\"center\"\n            margin={{ bottom: grid(1.5) }}\n          >\n            Your DR Vault {setId} Value\n          </Heading>\n\n          <div css={styles.userVaultWorth}>\n            {formatCurrency({\n              value: userVaultInfo.data?.userHoldingUsd,\n              currency: CurrencySymbol.USD,\n            }) || \"$-\"}\n          </div>\n\n          <MarginBox margin={{ bottom: grid(3) }}>\n            <div css={styles.text}>\n              Equivalent to{\" \"}\n              {formatNumber({\n                value: userVaultInfo.data?.totalWorthInDrc,\n              })}{\" \"}\n              DRC\n            </div>\n          </MarginBox>\n\n          <div css={styles.buttonContainer}>\n            {!isArchived && (\n              <Button\n                css={styles.button}\n                type=\"primary\"\n                onClick={handleClickDeposit}\n              >\n                DEPOSIT\n              </Button>\n            )}\n            <Button\n              css={styles.button}\n              type=\"primary\"\n              onClick={handleClickWithdraw}\n            >\n              WITHDRAW\n            </Button>\n          </div>\n        </div>\n      </DrCard>\n    </div>\n  );\n};\n\nexport default UserVaultOverview;\n","import * as React from \"react\";\nimport { grid } from \"../../design-tokens/grid\";\nimport MarginBox from \"../../margin-box/margin-box\";\nimport styles from \"./info-card.styles\";\n\ninterface InfoCardProps {\n  label: string;\n  value: string;\n  secondaryLabel: string;\n  secondaryValue: string;\n}\n\nconst InfoCardLarge: React.FC<InfoCardProps> = ({\n  label,\n  value,\n  secondaryLabel,\n  secondaryValue,\n}) => {\n  return (\n    <div css={(theme) => [styles.card(theme), styles.cardPadding]}>\n      <MarginBox margin={{ bottom: grid(2) }}>\n        <div css={styles.heading}>{label}</div>\n        <div css={styles.value}>{value}</div>\n      </MarginBox>\n\n      <div css={styles.secondaryHeading}>{secondaryLabel}</div>\n      <div css={styles.secondaryValue}>{secondaryValue}</div>\n    </div>\n  );\n};\n\nexport default InfoCardLarge;\n","import * as React from \"react\";\nimport { CurrencySymbol } from \"../../../../../../types/currency\";\nimport { DrContext } from \"../../../../../site-context/dr-context/dr-context\";\nimport { SiteContext } from \"../../../../../site-context/site-context\";\nimport {\n  formatCurrency,\n  formatNumber,\n} from \"../../../../../utils/format-number\";\nimport Column from \"../../../../ui-library/column-system/column\";\nimport Row from \"../../../../ui-library/column-system/row\";\nimport InfoCardLarge from \"../../../../ui-library/vault-components/info-card/info-card-large\";\n\nconst UserVaultSnapshot: React.FC = () => {\n  const {\n    setId,\n    userVaultInfo: { data: userVaultInfo },\n    drcPrice: { data: drcPrice = 0 },\n    userPastInteraction: { data: userPastInteraction },\n  } = React.useContext(DrContext);\n\n  const { isMobile } = React.useContext(SiteContext);\n\n  // const drcDiff = userPastInteraction\n  //   ? userPastInteraction.totalWidthdrawAmount +\n  //     (userVaultInfo?.totalWorthInDrc || 0) -\n  //     userPastInteraction.totalDepositAmount\n  //   : 0;\n\n  const usdDiff = userPastInteraction\n    ? userPastInteraction.totalWidthdrawUsdWorth +\n      (userVaultInfo?.userHoldingUsd || 0) -\n      userPastInteraction.totalDepositUsdWorth\n    : 0;\n\n  return (\n    <Row>\n      <Column\n        spanLg={4}\n        spanMd={4}\n        spanSm={12}\n        isNoMarginBottom={!isMobile}\n        isNarrowMargin={isMobile}\n      >\n        <InfoCardLarge\n          label=\"Your Last DRC Deposit\"\n          value={\n            formatNumber({\n              value: userPastInteraction?.lastDepositedAmount,\n              round: 2,\n            }) || \"-\"\n          }\n          secondaryLabel=\"Last DRC Deposit USD Value\"\n          secondaryValue={`${\n            userPastInteraction\n              ? formatCurrency({\n                  value: userPastInteraction.lastDepositedUsdWorth,\n                  currency: CurrencySymbol.USD,\n                })\n              : \"$-\"\n          } USD`}\n        />\n      </Column>\n      <Column\n        spanLg={4}\n        spanMd={4}\n        spanSm={12}\n        isNoMarginBottom={!isMobile}\n        isNarrowMargin={isMobile}\n      >\n        <InfoCardLarge\n          label={`Your DR Vault ${setId} Value`}\n          value={`${\n            formatCurrency({\n              value: userVaultInfo?.userHoldingUsd,\n              currency: CurrencySymbol.USD,\n            }) || \"-\"\n          } USD`}\n          secondaryLabel=\"Amount of DR-POD\"\n          secondaryValue={`${\n            formatNumber({ value: userVaultInfo?.drPodBalance, round: 2 }) ||\n            \"-\"\n          } DR-POD`}\n        />\n      </Column>\n      <Column\n        spanLg={4}\n        spanMd={4}\n        spanSm={12}\n        isNoMarginBottom={!isMobile}\n        isNarrowMargin={isMobile}\n      >\n        <InfoCardLarge\n          label=\"Your USD Profit/Loss\"\n          value={`${usdDiff > 0 ? \"+\" : \"\"}${\n            formatCurrency({\n              value: usdDiff,\n              currency: CurrencySymbol.USD,\n              round: 2,\n            }) || \"-\"\n          }`}\n          secondaryLabel=\"Equivalent DRC\"\n          secondaryValue={`${usdDiff > 0 ? \"+\" : \"\"}${\n            formatNumber({\n              value: drcPrice ? Math.round(usdDiff / drcPrice) : null,\n            }) || \"-\"\n          } DRC`}\n        />\n      </Column>\n    </Row>\n  );\n};\n\nexport default UserVaultSnapshot;\n","import * as React from \"react\";\nimport { DrContext } from \"../../../../site-context/dr-context/dr-context\";\nimport { getAddressUrl } from \"../../../../utils/etherscan\";\nimport Container from \"../../../ui-library/container/container\";\nimport { grid } from \"../../../ui-library/design-tokens/grid\";\nimport LinkOut from \"../../../ui-library/link-out/link-out\";\nimport MarginBox from \"../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../ui-library/text/heading\";\nimport ManageYourDr from \"./manage-your-dr/manage-your-dr\";\nimport UserVaultOverview from \"./user-vault-overview/user-vault-overview\";\nimport UserVaultSnapshot from \"./user-vault-snapshot/user-vault-snapshot\";\n\nconst VaultConnected: React.FC = () => {\n  const { chainId, contractAddress } = React.useContext(DrContext);\n\n  return (\n    <div>\n      <MarginBox margin={{ bottom: grid(4) }}>\n        <UserVaultOverview />\n      </MarginBox>\n\n      <MarginBox\n        margin={{ desktop: { bottom: grid(5) }, mobile: { bottom: grid(4) } }}\n      >\n        <Container>\n          <UserVaultSnapshot />\n        </Container>\n      </MarginBox>\n\n      <MarginBox\n        margin={{ desktop: { bottom: grid(5) }, mobile: { bottom: grid(4) } }}\n      >\n        <ManageYourDr />\n      </MarginBox>\n\n      <Heading textAlign=\"center\" margin={{ bottom: grid(2) }}>\n        DR Smart Contract Address\n      </Heading>\n\n      <LinkOut url={getAddressUrl(contractAddress, chainId)} isCenter={true}>\n        <span css={{ wordBreak: \"break-word\" }}>{contractAddress}</span>\n      </LinkOut>\n    </div>\n  );\n};\n\nexport default VaultConnected;\n","import { Interpolation } from \"@emotion/core\";\nimport { Theme } from \"../../../../../../types/theme\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport { Device } from \"../../../../ui-library/design-tokens/media-queries\";\n\nconst root: Interpolation = {\n  position: \"relative\",\n};\n\nconst back: Interpolation = {\n  position: \"absolute\",\n  top: grid(-0.5),\n  left: 0,\n  zIndex: 1,\n};\n\nconst badge: Interpolation = {\n  position: \"absolute\",\n  top: grid(1.5),\n  right: grid(1.5),\n};\n\nconst text = (theme: Theme): Interpolation => ({\n  color: theme.text,\n});\n\nconst button: Interpolation = {\n  width: \"100%\",\n  [Device.DesktopTablet]: {\n    maxWidth: grid(30),\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n};\n\nconst extraInfo = (theme: Theme): Interpolation => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  textAlign: \"center\",\n  color: theme.text,\n  marginTop: grid(3),\n});\n\nconst styles = {\n  root,\n  badge,\n  text,\n  button,\n  back,\n  extraInfo,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport { SetId } from \"../../../../../../types/dr-vault\";\nimport { WalletContext } from \"../../../../../site-context/dr-context/wallet-context\";\nimport { ChainNames } from \"../../../../../constants/chain-id\";\nimport Back from \"../../../../ui-library/breadcrumb/back\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport DrCard from \"../../../../ui-library/vault-components/dr-card/dr-card\";\nimport MarginBox from \"../../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../../ui-library/text/heading\";\nimport Badge from \"../../../../ui-library/badge/badge\";\nimport { DR_VAULTS } from \"../../../../../data/dr/dr-vaults\";\nimport styles from \"./access-dr.styles\";\n\nconst urlMapping: Record<SetId, string> = {\n  s1: \"/platform/\",\n  s2: \"/platform/\",\n  s3: \"/platform/?drVaultType=alternate\",\n};\n\ninterface AccessDrContainerProps {\n  setId: SetId;\n}\n\nconst AccessDrContainer: React.FC<AccessDrContainerProps> = ({\n  setId,\n  children,\n}) => {\n  const context = React.useContext(WalletContext);\n\n  if (context.loading) {\n    return null;\n  }\n\n  const { chainId } = context;\n  const { isArchived } = DR_VAULTS[setId];\n\n  return (\n    <div css={styles.root}>\n      <div css={styles.back}>\n        <Back url={urlMapping[setId]} label=\"DR Vaults\" />\n      </div>\n\n      <DrCard>\n        <Heading component=\"h2\" textAlign=\"center\" margin={{ bottom: grid(2) }}>\n          Access Your DR Vault {setId} Dashboard\n        </Heading>\n\n        <div css={styles.badge}>\n          {(chainId === 1 || chainId === 3) && (\n            <Badge>{ChainNames[chainId]}</Badge>\n          )}\n        </div>\n\n        <MarginBox margin={{ bottom: grid(3) }}>\n          <div css={styles.text}>\n            {!isArchived ? \"Deposit and Withdraw DRC\" : \"Please withdraw DRC\"}\n          </div>\n        </MarginBox>\n\n        {children}\n      </DrCard>\n    </div>\n  );\n};\n\nexport default AccessDrContainer;\n","import * as React from \"react\";\nimport { SetId } from \"../../../../../../types/dr-vault\";\nimport { WalletContext } from \"../../../../../site-context/dr-context/wallet-context\";\nimport Button from \"../../../../ui-library/button/button\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport MarginBox from \"../../../../ui-library/margin-box/margin-box\";\nimport LinkOut from \"../../../../ui-library/link-out/link-out\";\nimport { getAddressUrl } from \"../../../../../utils/etherscan\";\nimport AccessDrContainer from \"./access-dr-container\";\nimport styles from \"./access-dr.styles\";\n\ninterface AccessDrProps {\n  setId: SetId;\n}\n\nconst AccessDr: React.FC<AccessDrProps> = ({ setId }) => {\n  const context = React.useContext(WalletContext);\n\n  if (!context.isConnected || context.loading) {\n    return null;\n  }\n\n  const { chainId, userAccount, setViewingVault, isAllowedUser } = context;\n\n  return (\n    <AccessDrContainer setId={setId}>\n      {isAllowedUser ? (\n        <>\n          <Button\n            css={styles.button}\n            type=\"primary\"\n            onClick={() => setViewingVault(true)}\n          >\n            ACCESS YOUR DR VAULT {setId.toUpperCase()}\n          </Button>\n\n          <MarginBox margin={{ top: grid(3) }}>\n            <LinkOut url={getAddressUrl(userAccount, chainId)} isCenter={true}>\n              {userAccount.slice(0, 10)}...{userAccount.slice(-8)}\n            </LinkOut>\n          </MarginBox>\n        </>\n      ) : (\n        <>\n          <Button css={styles.button} type=\"primary\">\n            PRIVATE BETA ACCESS ONLY\n          </Button>\n\n          <MarginBox margin={{ top: grid(3) }}>\n            <LinkOut url=\"https://drc.foundation/fund/#nft\" isCenter={true}>\n              Only GEN00 NFT holders currently have access\n            </LinkOut>\n          </MarginBox>\n        </>\n      )}\n    </AccessDrContainer>\n  );\n};\n\nexport default AccessDr;\n","import { Interpolation } from \"@emotion/core\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport { Device } from \"../../../../../ui-library/design-tokens/media-queries\";\n\nconst container: Interpolation = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  flexWrap: \"wrap\",\n};\n\nconst item: Interpolation = {\n  flexShrink: 0,\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  width: grid(14),\n  marginLeft: grid(1),\n  marginRight: grid(1),\n  marginBottom: grid(4),\n  cursor: \"pointer\",\n\n  \"::nth-last-of-type(2)\": {\n    marginBottom: 0,\n  },\n\n  \":last-of-type\": {\n    marginBottom: 0,\n  },\n\n  \"> img\": {\n    width: grid(8),\n    height: grid(8),\n    marginBottom: grid(1.5),\n  },\n\n  [Device.MobilePortXs]: {\n    width: grid(12),\n  },\n};\n\nconst styles = {\n  container,\n  item,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport { isIOS, isMobile } from \"react-device-detect\";\nimport MetaMaskLogo from \"../../../../../../images/metamask.svg\";\nimport WalletConnectLogo from \"../../../../../../images/walletconnect-black.svg\";\nimport CoinbaseWalletLogo from \"../../../../../../images/coinbasewallet-black.svg\";\nimport TrustWalletLogo from \"../../../../../../images/trustwallet-black.svg\";\nimport CopyIcon from \"../../../../../../images/copy-black.svg\";\nimport { WalletContext } from \"../../../../../../site-context/dr-context/wallet-context\";\nimport { Colors } from \"../../../../../ui-library/design-tokens/colors\";\nimport { grid } from \"../../../../../ui-library/design-tokens/grid\";\nimport Modal from \"../../../../../ui-library/modal/modal\";\nimport Heading from \"../../../../../ui-library/text/heading\";\nimport Image from \"../../../../../ui-library/image/image\";\nimport Text from \"../../../../../ui-library/text/text\";\nimport { Fonts } from \"../../../../../ui-library/design-tokens/fonts\";\nimport { SetId } from \"../../../../../../../types/dr-vault\";\nimport { copyToClipboard } from \"../../../../../../utils/dom/copy-to-clipboard\";\nimport MarginBox from \"../../../../../ui-library/margin-box/margin-box\";\nimport TransactionStatusToast from \"../../../../../ui-library/transaction-status-toast/transaction-status-toast\";\nimport styles from \"./connect-wallets-modal.styles\";\n\nconst URLS = {\n  s1: \"https://drcglobal.org/platform/dr-vault-s1/\",\n  s2: \"https://drcglobal.org/platform/dr-vault-s2/\",\n  s3: \"https://drcglobal.org/platform/dr-vault-s3/\",\n};\n\nconst METAMASK_WALLET_LINKS = {\n  s1: \"https://metamask.app.link/dapp/drcglobal.org/platform/dr-vault-s1/\",\n  s2: \"https://metamask.app.link/dapp/drcglobal.org/platform/dr-vault-s2/\",\n  s3: \"https://metamask.app.link/dapp/drcglobal.org/platform/dr-vault-s3/\",\n};\n\nconst TRUST_WALLET_LINKS = {\n  s1: \"https://link.trustwallet.com/open_url?coin_id=60&url=https://drcglobal.org/platform/dr-vault-s1/\",\n  s2: \"https://link.trustwallet.com/open_url?coin_id=60&url=https://drcglobal.org/platform/dr-vault-s2/\",\n  s3: \"https://link.trustwallet.com/open_url?coin_id=60&url=https://drcglobal.org/platform/dr-vault-s3/\",\n};\n\nconst COINBASE_WALLET_LINKS = {\n  s1: \"https://go.cb-w.com/i0Qa5Gzpbeb\",\n  s2: \"https://go.cb-w.com/a5VHspBpbeb\",\n  s3: \"https://go.cb-w.com/cCWgbY9Y3eb\",\n};\n\ninterface WalletInfoModalProps {\n  setId: SetId;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst WalletInfoModal: React.FC<WalletInfoModalProps> = ({\n  setId,\n  isOpen,\n  onClose,\n}) => {\n  const [isCopied, setCopied] = React.useState<boolean>(false);\n\n  const context = React.useContext(WalletContext);\n\n  React.useEffect(() => {\n    let timer: NodeJS.Timeout;\n\n    if (isCopied) {\n      timer = setTimeout(() => {\n        setCopied(false);\n      }, 2000);\n    }\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [isCopied]);\n\n  if (context.isConnected || context.loading) {\n    return null;\n  }\n\n  const handleCopy = () => {\n    copyToClipboard(URLS[setId]);\n    setCopied(true);\n  };\n\n  return (\n    <>\n      <Modal isOpen={isOpen} onClose={onClose}>\n        <Heading\n          textAlign=\"center\"\n          css={{ color: Colors.Black }}\n          margin={{ bottom: isMobile ? grid(2) : grid(4) }}\n        >\n          Connect Wallet\n        </Heading>\n\n        {isMobile && (\n          <Text\n            component=\"div\"\n            type=\"secondary\"\n            textAlign=\"center\"\n            margin={{ bottom: grid(4) }}\n          >\n            Please utilise your wallets built-in browser\n          </Text>\n        )}\n\n        <div css={styles.container}>\n          <a\n            css={styles.item}\n            href={\n              isMobile\n                ? METAMASK_WALLET_LINKS[setId]\n                : \"https://metamask.io/download.html\"\n            }\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            <Image src={MetaMaskLogo} alt=\"MetaMask\" />\n            <Text weight={Fonts.Weight.Bold}>MetaMask</Text>\n          </a>\n\n          {!isMobile && (\n            <div\n              css={styles.item}\n              onClick={() => context.connectWalletConnect(onClose)}\n            >\n              <Image src={WalletConnectLogo} alt=\"WalletConnect\" />\n              <Text weight={Fonts.Weight.Bold}>WalletConnect</Text>\n            </div>\n          )}\n\n          {isMobile && (\n            <a\n              css={styles.item}\n              href={COINBASE_WALLET_LINKS[setId]}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <Image src={CoinbaseWalletLogo} alt=\"Coinbase\" />\n              <Text weight={Fonts.Weight.Bold}>Coinbase Wallet</Text>\n            </a>\n          )}\n\n          {isMobile && (\n            <a\n              css={styles.item}\n              href={TRUST_WALLET_LINKS[setId]}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <Image src={TrustWalletLogo} alt=\"Trust Wallet\" />\n              <Text weight={Fonts.Weight.Bold}>Trust Wallet</Text>\n            </a>\n          )}\n\n          {isMobile && (\n            <div css={styles.item} onClick={handleCopy}>\n              <Image src={CopyIcon} alt=\"Copy\" />\n              <Text weight={Fonts.Weight.Bold}>Copy URL</Text>\n            </div>\n          )}\n        </div>\n\n        {isMobile && isIOS && (\n          <MarginBox margin={{ top: grid(4) }}>\n            <a\n              href=\"https://link.trustwallet.com/browser_enable\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <Text\n                component=\"div\"\n                type=\"secondary\"\n                textSize={14}\n                textAlign=\"center\"\n                css={{ textDecoration: \"underline\" }}\n              >\n                Tap to activate Trust Wallets App Browser\n              </Text>\n            </a>\n          </MarginBox>\n        )}\n      </Modal>\n\n      <TransactionStatusToast\n        status={isCopied ? \"success\" : \"none\"}\n        name=\"Copy\"\n        titleOverwrite=\"URL Copied!\"\n        message=\"Open your wallets built-in browser and paste\"\n        timeOut={2000}\n      />\n    </>\n  );\n};\n\nexport default WalletInfoModal;\n","import * as React from \"react\";\nimport { SetId } from \"../../../../../../types/dr-vault\";\nimport { ConnectionErrorType } from \"../../../../../../types/wallet\";\nimport { WalletContext } from \"../../../../../site-context/dr-context/wallet-context\";\nimport Button from \"../../../../ui-library/button/button\";\nimport styles from \"./access-dr.styles\";\nimport AccessDrContainer from \"./access-dr-container\";\nimport WalletInfoModal from \"./connect-wallets-modal/connect-wallets-modal\";\n\nconst buttonTextMapping: Record<ConnectionErrorType, string> = {\n  noInjectedProvider: \"CONNECT WALLET\",\n  multipleWallet: \"MULTIPLE WALLETS DETECTED\",\n  noAccount: \"CONNECT WALLET\",\n  chainNotSupported: \"NETWORK NOT SUPPORTED\",\n};\n\ninterface ConnectWalletProps {\n  setId: SetId;\n}\n\nconst ConnectWallet: React.FC<ConnectWalletProps> = ({ setId }) => {\n  const context = React.useContext(WalletContext);\n\n  const [isModalOpen, setModalOpen] = React.useState<boolean>(false);\n\n  if (context.isConnected || context.loading) {\n    return null;\n  }\n\n  const { connectionErrorType } = context;\n  const handleClick = () => {\n    if (connectionErrorType === \"noAccount\") {\n      context.connectWallet();\n    }\n    if (connectionErrorType === \"noInjectedProvider\") {\n      // Open modal\n      setModalOpen(true);\n    }\n  };\n\n  return (\n    <AccessDrContainer setId={setId}>\n      <Button css={styles.button} type=\"primary\" onClick={handleClick}>\n        {buttonTextMapping[connectionErrorType]}\n      </Button>\n\n      {connectionErrorType === \"multipleWallet\" && (\n        <div css={styles.extraInfo}>\n          Multiple wallet instance is detected in your browser\n        </div>\n      )}\n\n      {connectionErrorType === \"chainNotSupported\" && (\n        <div css={styles.extraInfo}>\n          The network set in your wallet is not supported\n        </div>\n      )}\n\n      <WalletInfoModal\n        setId={setId}\n        isOpen={isModalOpen}\n        onClose={() => setModalOpen(false)}\n      />\n    </AccessDrContainer>\n  );\n};\n\nexport default ConnectWallet;\n","import { gql } from \"@apollo/client\";\n\n//11922973\nexport const GET_PAIR_DAY_DATAS = gql`\n  query GetPairDayDatas($dayCount: Int, $where: PairDayData_filter) {\n    pairDayDatas(\n      first: $dayCount\n      orderBy: date\n      orderDirection: asc\n      where: $where\n    ) {\n      id\n      token0 {\n        id\n      }\n      token1 {\n        id\n      }\n      date\n      reserve0\n      reserve1\n      reserveUSD\n    }\n  }\n`;\n","import LRU from \"lru-cache\";\nimport {\n  GetPairDayDatas,\n  GetPairDayDatasVariables,\n} from \"../../../types/uniswap-graph/GetPairDayDatas\";\nimport {\n  getContractAddress,\n  getPairAddress,\n} from \"../../data/dr/contract-by-network\";\nimport { uniswapClient } from \"../apollo/apollo-client\";\nimport { GET_PAIR_DAY_DATAS } from \"../apollo/queries/pair-day-data\";\nimport { toNumber } from \"../format-number\";\nimport { getUnixTimeNowInSec } from \"../timestamp\";\n\ninterface PriceStep {\n  date: number;\n  price: number | undefined;\n}\nconst cache = new LRU<string, PriceStep[]>({\n  max: 50000,\n  maxAge: 1000 * 60 * 60 * 24,\n});\n\ntype TokenName = \"weth\" | \"wbtc\" | \"paxg\" | \"usdc\" | \"farm\" | \"mph\";\n\n// Mainnet only function\nexport const getTokenPriceTimeline = async (\n  tokenName: TokenName,\n  startTimestamp: number\n) => {\n  const cacheKey = `${tokenName}PriceTimeline`;\n\n  const cachedData = cache.get(cacheKey);\n\n  if (cachedData) {\n    return cachedData;\n  }\n\n  try {\n    const pairAddress =\n      tokenName === \"weth\" ? getPairAddress(\"usdc\") : getPairAddress(tokenName);\n    const tokenAddress = getContractAddress(tokenName, 1).toLowerCase();\n\n    const timeNow = getUnixTimeNowInSec();\n    const dayCount = Math.floor((timeNow - startTimestamp) / (24 * 60 * 60));\n\n    const { data } = await uniswapClient.query<\n      GetPairDayDatas,\n      GetPairDayDatasVariables\n    >({\n      query: GET_PAIR_DAY_DATAS,\n      variables: {\n        dayCount,\n        where: {\n          pairAddress,\n          date_gte: startTimestamp,\n        },\n      },\n    });\n\n    const tokenPairData = data?.pairDayDatas || [];\n    const tokenPriceTimeline: PriceStep[] = tokenPairData.map((pair) => {\n      const token0 = pair.token0.id.toLowerCase();\n      const reserve0 = toNumber(pair.reserve0);\n      const reserve1 = toNumber(pair.reserve1);\n\n      const reserveOfToken = tokenAddress === token0 ? reserve0 : reserve1;\n      const priceInUSD = reserveOfToken\n        ? pair.reserveUSD / (reserveOfToken * 2)\n        : undefined;\n\n      return {\n        date: pair.date,\n        price: priceInUSD,\n      };\n    });\n\n    return tokenPriceTimeline;\n  } catch (err) {\n    return null;\n  }\n};\n","import Web3 from \"web3\";\n\nexport const bignumberToNumber = (\n  web3: Web3,\n  value: string,\n  decimals: number\n) => {\n  let tokenStoredNum = 0;\n  if (decimals === 18) {\n    tokenStoredNum = Number(web3.utils.fromWei(value));\n  } else if (decimals >= 9) {\n    const leftoverDecimals = decimals - 9;\n    tokenStoredNum =\n      Number(web3.utils.fromWei(value, \"gwei\")) / 10 ** leftoverDecimals;\n  } else if (decimals >= 6) {\n    const leftoverDecimals = decimals - 6;\n    const multiplier = 10 ** leftoverDecimals;\n    tokenStoredNum = Number(web3.utils.fromWei(value, \"mwei\")) / multiplier;\n  } else {\n    tokenStoredNum = Number(value);\n  }\n\n  return tokenStoredNum;\n};\n","import Web3 from \"web3\";\nimport { AbiItem } from \"web3-utils\";\nimport { AssetKey } from \"../../../../types/dr-vault\";\nimport DRContract from \"../../../contracts/IDigitalReserve.json\";\nimport { contractNameByAddress } from \"../../../data/dr/contract-by-network\";\nimport { drAssets } from \"../../../data/dr/dr-vaults\";\nimport { bignumberToNumber } from \"../bignumber\";\nimport { getBlockTimestamp } from \"../get-block-timestamp\";\n\ninterface TokenStoredTimelineInput {\n  web3: Web3;\n  contractAddress: string;\n}\n\ninterface VaultState {\n  blockNumber: number;\n  timestamp: number;\n  totalSupply: number;\n  tokens: AssetKey[];\n  tokensStored: number[];\n}\nconst firstDRBlock = 11922972;\nconst dayTimeInSec = 24 * 60 * 60;\n\nexport const getTokenStoredTimeline = async ({\n  web3,\n  contractAddress,\n}: TokenStoredTimelineInput) => {\n  try {\n    const contract = new web3.eth.Contract(\n      DRContract.abi as AbiItem[],\n      contractAddress\n    );\n\n    const changeStrategyEvents = await contract.getPastEvents(\n      \"StrategyChange\",\n      {\n        fromBlock: firstDRBlock,\n      }\n    );\n\n    const depositEvents = await contract.getPastEvents(\"Deposit\", {\n      fromBlock: firstDRBlock,\n    });\n\n    const withdrawEvents = await contract.getPastEvents(\"Withdraw\", {\n      fromBlock: firstDRBlock,\n    });\n\n    const sortedEvents = [\n      ...changeStrategyEvents,\n      ...depositEvents,\n      ...withdrawEvents,\n    ].sort((a, b) => {\n      if (a.blockNumber === b.blockNumber) {\n        return a.transactionIndex - b.transactionIndex;\n      }\n      return a.blockNumber - b.blockNumber;\n    });\n\n    const vaultState = {\n      blockNumber: firstDRBlock,\n      timestamp: 0,\n      totalSupply: 0,\n      tokens: [] as AssetKey[],\n      tokensStored: [] as number[],\n    };\n\n    let timelineData: VaultState[] = [];\n\n    for (const event of sortedEvents) {\n      const timestamp = await getBlockTimestamp(web3, event.blockNumber);\n      const bucketTimestamp =\n        Math.ceil(timestamp / dayTimeInSec) * dayTimeInSec;\n      const lastTimestamp = vaultState.timestamp;\n\n      vaultState.blockNumber = event.blockNumber;\n      vaultState.timestamp = bucketTimestamp;\n\n      if (event.event === \"StrategyChange\") {\n        vaultState.tokens = event.returnValues.newTokens.map(\n          (addr: string) => contractNameByAddress[addr.toLowerCase()]\n        );\n      }\n\n      if (event.event === \"Withdraw\" || event.event === \"Deposit\") {\n        vaultState.totalSupply = Number(\n          web3.utils.fromWei(event.returnValues.podTotalSupply)\n        );\n      }\n\n      vaultState.tokensStored = vaultState.tokens.map((token, i: number) =>\n        bignumberToNumber(\n          web3,\n          event.returnValues.tokensStored[i],\n          drAssets[token].decimals\n        )\n      );\n\n      if (bucketTimestamp !== lastTimestamp) {\n        timelineData = [...timelineData, { ...vaultState }];\n      } else {\n        timelineData[timelineData.length - 1] = { ...vaultState };\n      }\n    }\n\n    const timelineFilled = timelineData.reduce(\n      (filled: VaultState[], step, index) => {\n        if (index > 0) {\n          const prevStep = timelineData[index - 1];\n          const prevTimestamp = prevStep.timestamp;\n          const days = Math.round(\n            (step.timestamp - prevTimestamp) / dayTimeInSec\n          );\n          for (let i = 1; i < days; i++) {\n            const filledStep = {\n              ...prevStep,\n              timestamp: prevTimestamp + dayTimeInSec * i,\n            };\n            filled = [...filled, filledStep];\n          }\n          if (index === timelineData.length - 1) {\n            const currentTimestamp = Math.floor(Date.now() / 1000);\n            const daysToFill = Math.floor(\n              (currentTimestamp - step.timestamp) / dayTimeInSec\n            );\n            for (let i = 1; i < daysToFill; i++) {\n              const filledStep = {\n                ...step,\n                timestamp: step.timestamp + dayTimeInSec * i,\n              };\n              filled = [...filled, filledStep];\n            }\n          } else {\n            filled = [...filled, step];\n          }\n        } else {\n          filled = [step];\n        }\n\n        return filled;\n      },\n      []\n    );\n\n    return timelineFilled;\n  } catch (err) {\n    console.log(\"Failed to get token stored timeline\", err);\n    return null;\n  }\n};\n","import Web3 from \"web3\";\nimport { AssetKey } from \"../../../../types/dr-vault\";\nimport { getTokenPriceTimeline } from \"../../uniswap-graph/token-price-timeline\";\nimport { getTokenStoredTimeline } from \"./token-stored-timeline\";\n\ninterface VaultPerformanceTimelineInput {\n  web3: Web3;\n  contractAddress: string;\n}\n\nexport interface TokenValueTimeStep {\n  date: number;\n  tvl: number;\n  price: number;\n}\n\nexport const getVaultPerformanceTimeline = async ({\n  web3,\n  contractAddress,\n}: VaultPerformanceTimelineInput) => {\n  const tokensStoredTimeline = await getTokenStoredTimeline({\n    web3,\n    contractAddress,\n  });\n\n  if (tokensStoredTimeline && tokensStoredTimeline.length > 0) {\n    const startTimestamp = tokensStoredTimeline[0].timestamp;\n    const tokens = tokensStoredTimeline.reduce(\n      (allTokens: AssetKey[], timePoint) => {\n        for (const token of timePoint.tokens) {\n          if (!allTokens.includes(token)) {\n            allTokens = [...allTokens, token];\n          }\n        }\n        return allTokens;\n      },\n      []\n    );\n\n    let maxLength = tokensStoredTimeline.length;\n\n    const tokenPriceLookup: Record<\n      string,\n      Record<string, number | undefined> | undefined\n    > = {};\n    for (const token of tokens) {\n      const dailyPriceTimeline = await getTokenPriceTimeline(\n        token,\n        startTimestamp\n      );\n\n      if (dailyPriceTimeline?.length) {\n        maxLength = Math.min(maxLength, dailyPriceTimeline.length);\n      }\n\n      const hashedPrice = dailyPriceTimeline?.reduce(\n        (hashed: Record<string, number | undefined>, cur) => {\n          hashed[cur.date] = cur.price;\n          return hashed;\n        },\n        {}\n      );\n      tokenPriceLookup[token] = hashedPrice;\n    }\n\n    let step0Price = 0;\n\n    const tokenUsdValueTimeline: TokenValueTimeStep[] = tokensStoredTimeline\n      .map((step, index) => {\n        const tvl = step.tokens.reduce((total: number, token, index) => {\n          const tokenPrice = tokenPriceLookup[token]?.[step.timestamp] || 0;\n          const tokenAmount = step.tokensStored[index];\n          total += tokenPrice * tokenAmount;\n          return total;\n        }, 0);\n        const price = step.totalSupply ? tvl / step.totalSupply : 0;\n        if (index === 0) {\n          step0Price = price;\n        }\n        const percentage =\n          index === 0 || step0Price === 0 ? 1 : price / step0Price;\n        return {\n          date: step.timestamp * 1000,\n          tvl,\n          price,\n          percentage,\n        };\n      })\n      .slice(0, maxLength);\n\n    return tokenUsdValueTimeline;\n  }\n};\n","import * as React from \"react\";\nimport { grid } from \"../../design-tokens/grid\";\nimport SlideOut from \"../../slide-out/slide-out\";\nimport Heading from \"../../text/heading\";\nimport Text from \"../../text/text\";\nimport SlideOutHeader from \"./slide-out-header\";\nimport styles from \"./slide-out-dr-pod-info.styles\";\n\ninterface SlideOutNetAssetValueProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst SlideOutNetAssetValue: React.FC<SlideOutNetAssetValueProps> = ({\n  isOpen,\n  onClose,\n}) => {\n  return (\n    <SlideOut\n      isOpen={isOpen}\n      onHide={onClose}\n      isFullWidthOnMobile={true}\n      enableBodyLock={true}\n    >\n      <div css={styles.root}>\n        <SlideOutHeader\n          heading=\"What is Net Asset Value (NAV)?\"\n          onClose={onClose}\n        />\n\n        <div css={styles.content}>\n          <Heading margin={{ bottom: grid(2) }}>\n            DR-POD's Net Asset Value\n          </Heading>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            DR-PODs Net Asset Value (NAV) is the DR Vault's total asset worth,\n            divided by the total supply of DR-POD in its respective DR Vault.\n          </Text>\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(3) }}>\n            The price oracle function for DR-PODs Net Asset Value is provided\n            in the DR Smart Contract.\n          </Text>\n\n          <Heading margin={{ bottom: grid(2) }}>How is DR-POD created?</Heading>\n\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            The initial supply of DR-POD in a DR Vault always starts at 0.\n          </Text>\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(2) }}>\n            A Genesis Deposit of 1000 DRC to each respective DR Vault is made by\n            the DRC Foundation Multi-sig wallet to create the initial DR-POD\n            supply with a favourable numerical value.\n          </Text>\n          <Text component=\"p\" type=\"secondary\" margin={{ bottom: grid(3) }}>\n            The total supply of DR-POD will change according to the value of\n            subsequent deposits into the Vault. When new assets are stored in a\n            DR Vault, the new total assets worth, divided by the DR-POD unit\n            price gives the new DR-POD total supply. The newly minted DR-POD\n            goes to the depositor.\n          </Text>\n        </div>\n      </div>\n    </SlideOut>\n  );\n};\n\nexport default SlideOutNetAssetValue;\n","import * as React from \"react\";\nimport {\n  Line,\n  LineChart,\n  ResponsiveContainer,\n  Tooltip,\n  TooltipFormatter,\n  XAxis,\n  YAxis,\n} from \"recharts\";\nimport formatDate from \"dateformat\";\nimport { useTheme } from \"emotion-theming\";\nimport { TokenValueTimeStep } from \"../../../../../utils/web3/dr-vault/vault-performance-timeline\";\nimport { Theme } from \"../../../../../../types/theme\";\nimport {\n  formatCurrency,\n  formatNumber,\n} from \"../../../../../utils/format-number\";\nimport { CurrencySymbol } from \"../../../../../../types/currency\";\nimport { TooltipContainerStyles } from \"../../../../ui-library/design-tokens/charts\";\n\nconst timeFormat = (startTime: number, endTime: number) => {\n  const days = (endTime - startTime) / (1000 * 60 * 60 * 24);\n  if (days < 2) {\n    return \"H:MM\";\n  }\n  if (days < 366) {\n    return \"dd mmm\";\n  }\n  if (days < 731) {\n    return \"yyyy mmm\";\n  }\n  return \"yyyy\";\n};\n\ninterface PerformanceLineChartProps {\n  dataKey: \"price\" | \"tvl\";\n  data: TokenValueTimeStep[];\n}\n\nconst PerformanceLineChart: React.FC<PerformanceLineChartProps> = ({\n  dataKey,\n  data,\n}) => {\n  const theme = useTheme<Theme>();\n\n  const startTime = data[0].date;\n  const endTime = data[data.length - 1].date;\n  const maxPrice = Math.max(...data.map((d) => d[dataKey]));\n  const minPrice = Math.min(...data.map((d) => d[dataKey]));\n  const priceDistance = maxPrice - minPrice;\n\n  const timeFormatter = (date: number) =>\n    formatDate(new Date(date), timeFormat(startTime, endTime));\n\n  const priceFormatter = (value: number) =>\n    formatCurrency({ value, currency: CurrencySymbol.USD });\n\n  const toolTipFormatter: TooltipFormatter = (value, name) => {\n    if (name === \"Performance since genesis\" && typeof value === \"number\") {\n      return [`${formatNumber({ value: value * 100, round: 1 })}%`, name];\n    }\n    return [priceFormatter(value as number), name];\n  };\n\n  const keyName = dataKey === \"price\" ? \"DR-POD NAV\" : \"TVL\";\n\n  return (\n    <div css={{ fontSize: 12 }}>\n      <ResponsiveContainer width=\"100%\" height={180}>\n        <LineChart data={data}>\n          <XAxis\n            dataKey=\"date\"\n            type=\"number\"\n            scale=\"time\"\n            domain={[\"dataMin\", \"dataMax\"]}\n            tickFormatter={timeFormatter}\n            tickLine={false}\n            tickMargin={5}\n            tick={{ fill: theme.foreground }}\n            axisLine={{ stroke: theme.border }}\n            minTickGap={40}\n          />\n\n          <YAxis\n            yAxisId=\"left\"\n            dataKey={dataKey}\n            orientation=\"left\"\n            domain={[\n              (dataMin) => dataMin - priceDistance / 10,\n              (dataMax) => dataMax + priceDistance / 10,\n            ]}\n            tickFormatter={priceFormatter}\n            hide={true}\n          />\n\n          <Tooltip\n            cursor={false}\n            contentStyle={TooltipContainerStyles(theme)}\n            labelFormatter={(date) =>\n              formatDate(new Date(date), \"yyyy mmm dd H:MM\")\n            }\n            formatter={toolTipFormatter}\n            itemStyle={{ paddingBottom: 0 }}\n          />\n          <Line\n            yAxisId=\"left\"\n            dataKey={dataKey}\n            type=\"monotone\"\n            name={keyName}\n            dot={false}\n            strokeWidth={3}\n            stroke={theme.foreground}\n          />\n\n          <YAxis\n            yAxisId=\"right\"\n            dataKey=\"percentage\"\n            orientation=\"right\"\n            hide={true}\n          />\n          <Line\n            yAxisId=\"right\"\n            dataKey=\"percentage\"\n            type=\"monotone\"\n            name=\"Performance since genesis\"\n            dot={false}\n            activeDot={false}\n            strokeWidth={0}\n            stroke={theme.foreground}\n            hide={dataKey === \"tvl\"}\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default PerformanceLineChart;\n","import { Interpolation } from \"@emotion/serialize\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport { Device } from \"../../../../ui-library/design-tokens/media-queries\";\n\nconst headerContainer: Interpolation = {\n  marginBottom: grid(2),\n\n  [Device.DesktopTablet]: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n};\n\nconst itemPickerContainer: Interpolation = {\n  width: grid(12),\n};\n\nconst infoIcon: Interpolation = {\n  display: \"inline-block\",\n  textAlign: \"center\",\n  width: grid(3),\n};\n\nconst styles = {\n  headerContainer,\n  itemPickerContainer,\n  infoIcon,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport { WalletContext } from \"../../../../../site-context/dr-context/wallet-context\";\nimport {\n  getVaultPerformanceTimeline,\n  TokenValueTimeStep,\n} from \"../../../../../utils/web3/dr-vault/vault-performance-timeline\";\nimport InfoIcon from \"../../../../../images/icons/info-icon.svg\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport ItemPickerTabs from \"../../../../ui-library/item-picker-tabs/item-picker-tabs\";\nimport Loader from \"../../../../ui-library/loader/loader\";\nimport MarginBox from \"../../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../../ui-library/text/heading\";\nimport Text from \"../../../../ui-library/text/text\";\nimport Image from \"../../../../ui-library/image/image\";\nimport SlideOutNetAssetValue from \"../../../../ui-library/vault-components/slide-out-vault-info/slide-out-net-asset-value\";\nimport PerformanceLineChart from \"./performance-line-chart\";\nimport styles from \"./dr-performance-graph.styles\";\nimport { SetId } from \"../../../../../../types/dr-vault\";\n\ninterface DrPerformanceGraphProps {\n  setId: SetId;\n  contractAddress: string;\n}\n\ntype ChartTab = \"price\" | \"tvl\";\nconst items: { value: ChartTab; label: string }[] = [\n  { label: \"NAV\", value: \"price\" },\n  { label: \"TVL\", value: \"tvl\" },\n];\n\nconst DrPerformanceGraph: React.FC<DrPerformanceGraphProps> = ({\n  setId,\n  contractAddress,\n}) => {\n  const [isInfoOpen, setInfoOpen] = React.useState<boolean>(false);\n  const [activeTab, setActiveTab] = React.useState<ChartTab>(\"price\");\n  const [data, setData] = React.useState<TokenValueTimeStep[]>();\n  const [loading, setLoading] = React.useState<boolean>(false);\n\n  const context = React.useContext(WalletContext);\n  const web3 = !context.loading ? context.web3 : undefined;\n\n  React.useEffect(() => {\n    if (web3) {\n      setLoading(true);\n      getVaultPerformanceTimeline({ web3, contractAddress }).then((res) => {\n        setLoading(false);\n        if (res && res.length) {\n          setData(res);\n        }\n      });\n    }\n  }, [web3]);\n\n  if (loading) {\n    return (\n      <MarginBox\n        margin={{ desktop: { bottom: grid(8) }, mobile: { bottom: grid(7) } }}\n      >\n        <Loader />\n      </MarginBox>\n    );\n  }\n\n  if (!data) {\n    return null;\n  }\n\n  return (\n    <MarginBox\n      margin={{ desktop: { bottom: grid(8) }, mobile: { bottom: grid(7) } }}\n    >\n      <div css={styles.headerContainer}>\n        <div>\n          <Heading margin={{ bottom: grid(1) }}>\n            DR Vault {setId} performance\n          </Heading>\n          <Text\n            component=\"div\"\n            type=\"secondary\"\n            textSize={14}\n            margin={{ mobile: { bottom: grid(2) } }}\n          >\n            {activeTab === \"price\" ? (\n              <div\n                css={{ cursor: \"pointer\" }}\n                onClick={() => setInfoOpen(true)}\n              >\n                DR-POD's Net Asset Value{\" \"}\n                <span css={styles.infoIcon}>\n                  <Image src={InfoIcon} alt=\"Info\" />\n                </span>{\" \"}\n                performance since genesis deposit\n              </div>\n            ) : (\n              \"Total Value Locked since genesis deposit\"\n            )}\n          </Text>\n        </div>\n\n        <div css={styles.itemPickerContainer}>\n          <ItemPickerTabs\n            itemPickerName=\"drPerformanceChart\"\n            items={items}\n            activeItemValue={activeTab}\n            onItemClick={(value) => setActiveTab(value as ChartTab)}\n            isUniWidth={true}\n            size=\"small\"\n          />\n        </div>\n      </div>\n      <PerformanceLineChart data={data} dataKey={activeTab} />\n\n      <SlideOutNetAssetValue\n        isOpen={isInfoOpen}\n        onClose={() => setInfoOpen(false)}\n      />\n    </MarginBox>\n  );\n};\n\nexport default DrPerformanceGraph;\n","import { Interpolation } from \"@emotion/core\";\nimport { Theme } from \"../../../../../../types/theme\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport { Device } from \"../../../../ui-library/design-tokens/media-queries\";\n\nconst root = (theme: Theme): Interpolation => ({\n  display: \"flex\",\n  flexDirection: \"column\",\n  textAlign: \"center\",\n  padding: `${grid(3)} ${grid(2)} ${grid(1)}`,\n  border: `1px solid ${theme.border}`,\n\n  [Device.DesktopTablet]: {\n    padding: `${grid(3)} ${grid(4)}`,\n  },\n});\n\nconst shortDescription: Interpolation = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  cursor: \"pointer\",\n};\n\nconst text = (theme: Theme): Interpolation => ({\n  color: theme.text,\n});\n\nconst infoIcon: Interpolation = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  width: grid(3),\n  height: grid(3),\n  marginLeft: grid(0.5),\n};\n\nconst styles = {\n  root,\n  shortDescription,\n  text,\n  infoIcon,\n};\n\nexport default styles;\n","import * as React from \"react\";\nimport { DrVaultInfo } from \"../../../../../../types/dr-vault\";\nimport { SiteContext } from \"../../../../../site-context/site-context\";\nimport Column from \"../../../../ui-library/column-system/column\";\nimport Row from \"../../../../ui-library/column-system/row\";\nimport { grid } from \"../../../../ui-library/design-tokens/grid\";\nimport InfoCta from \"../../../../ui-library/info-cta/info-cta\";\nimport MarginBox from \"../../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../../ui-library/text/heading\";\nimport SlideOutVaultInfo from \"../../../../ui-library/vault-components/slide-out-vault-info/slide-out-vault-info\";\nimport VaultAssetItem from \"../../../../ui-library/vault-components/vault-asset-item/vault-asset-item\";\nimport VaultAssetStacked from \"../../../../ui-library/vault-components/vault-asset-stacked/vault-asset-stacked\";\nimport styles from \"./portfolio-allocation.styles\";\n\nconst PortfolioAllocation: React.FC<DrVaultInfo> = (vaultInfo) => {\n  const { shortDescription, allocations } = vaultInfo;\n\n  const [isInfoOpen, setInfoOpen] = React.useState<boolean>(false);\n\n  const { isMobile } = React.useContext(SiteContext);\n\n  return (\n    <div css={styles.root}>\n      <Heading margin={{ bottom: grid(1.5) }}>Portfolio Allocation</Heading>\n\n      <MarginBox margin={{ bottom: grid(3) }}>\n        <InfoCta onClick={() => setInfoOpen(true)}>\n          <span dangerouslySetInnerHTML={{ __html: shortDescription }} />\n        </InfoCta>\n      </MarginBox>\n\n      {isMobile &&\n        allocations.map((asset) => (\n          <VaultAssetStacked key={asset.name} {...asset} hasBorder={true} />\n        ))}\n\n      {!isMobile && (\n        <Row isCenter={true}>\n          {allocations.map((asset) => (\n            <Column\n              key={asset.name}\n              spanLg={4}\n              spanMd={4}\n              isNoMarginBottom={true}\n            >\n              <VaultAssetItem\n                key={asset.name}\n                {...asset}\n                showLiquidity={true}\n              />\n            </Column>\n          ))}\n        </Row>\n      )}\n\n      <SlideOutVaultInfo\n        isOpen={isInfoOpen}\n        onClose={() => setInfoOpen(false)}\n        {...vaultInfo}\n      />\n    </div>\n  );\n};\n\nexport default PortfolioAllocation;\n","import * as React from \"react\";\nimport { CurrencySymbol } from \"../../../../../types/currency\";\nimport { SetId, VaultAssetsInfo } from \"../../../../../types/dr-vault\";\nimport { DR_VAULTS } from \"../../../../data/dr/dr-vaults\";\nimport { WalletContext } from \"../../../../site-context/dr-context/wallet-context\";\nimport { SiteContext } from \"../../../../site-context/site-context\";\nimport { getAddressUrl } from \"../../../../utils/etherscan\";\nimport { formatCurrency, formatNumber } from \"../../../../utils/format-number\";\nimport { getVaultInfo } from \"../../../../utils/web3/dr-vault/vault-info\";\nimport DrDepositWarning from \"../../../modules/dr-deposit-warning/dr-deposit-warning\";\nimport Column from \"../../../ui-library/column-system/column\";\nimport Row from \"../../../ui-library/column-system/row\";\nimport { grid } from \"../../../ui-library/design-tokens/grid\";\nimport LinkOut from \"../../../ui-library/link-out/link-out\";\nimport MarginBox from \"../../../ui-library/margin-box/margin-box\";\nimport Heading from \"../../../ui-library/text/heading\";\nimport InfoCardSmall from \"../../../ui-library/vault-components/info-card/info-card-small\";\nimport SlideOutDrPodInfo from \"../../../ui-library/vault-components/slide-out-vault-info/slide-out-dr-pod-info\";\nimport AccessDr from \"./access-dr/access-dr\";\nimport ConnectWallet from \"./access-dr/connect-wallet\";\nimport DrMaintenance from \"./access-dr/dr-maintenance\";\nimport DrPerformanceGraph from \"./dr-performance-graph/dr-performance-graph\";\nimport PortfolioAllocation from \"./portfolio-allocation/portfolio-allocation\";\n\ninterface VaultLandingProps {\n  setId: SetId;\n}\n\nconst VaultLanding: React.FC<VaultLandingProps> = ({ setId }) => {\n  const [isInfoOpen, setInfoOpen] = React.useState<boolean>(false);\n\n  const { isMobile } = React.useContext(SiteContext);\n  const context = React.useContext(WalletContext);\n\n  const [vaultInfo, setVaultInfo] = React.useState<VaultAssetsInfo>();\n\n  const drVaultData = DR_VAULTS[setId];\n  const web3 = !context.loading ? context.web3 : undefined;\n  const chainId = !context.loading ? context.chainId : 1;\n  const networkKey = chainId === 3 ? \"ropsten\" : \"mainnet\";\n  const contractAddress = drVaultData.address[networkKey];\n\n  const fetchVaultInfo = async () => {\n    const info = await getVaultInfo({\n      web3,\n      contractAddress,\n    });\n    if (info) {\n      setVaultInfo(info);\n    }\n  };\n\n  React.useEffect(() => {\n    fetchVaultInfo();\n    const refetchTimer = setInterval(() => fetchVaultInfo(), 1000 * 60 * 5);\n\n    return () => {\n      clearInterval(refetchTimer);\n    };\n  }, []);\n\n  return (\n    <div>\n      <MarginBox margin={{ bottom: grid(4) }}>\n        {!context.isConnected && <ConnectWallet setId={setId} />}\n        {context.isConnected && <AccessDr setId={setId} />}\n      </MarginBox>\n\n      {/* {setId === \"s3\" && (\n        <MarginBox margin={{ bottom: grid(4) }}>\n          <DrDepositWarning />\n        </MarginBox>\n      )} */}\n\n      <MarginBox margin={{ bottom: grid(4) }}>\n        <PortfolioAllocation {...drVaultData} />\n      </MarginBox>\n\n      {vaultInfo && (\n        <MarginBox\n          margin={{ desktop: { bottom: grid(5) }, mobile: { bottom: grid(3) } }}\n        >\n          <Row>\n            <Column\n              spanLg={4}\n              spanMd={4}\n              spanSm={12}\n              isNoMarginBottom={!isMobile}\n              isNarrowMargin={isMobile}\n            >\n              <InfoCardSmall\n                label=\"Total USD Value Stored\"\n                value={\n                  formatCurrency({\n                    value: vaultInfo.totalWorth,\n                    currency: CurrencySymbol.USD,\n                  }) || \"-\"\n                }\n              />\n            </Column>\n            <Column\n              spanLg={4}\n              spanMd={4}\n              spanSm={12}\n              isNoMarginBottom={!isMobile}\n              isNarrowMargin={isMobile}\n            >\n              <InfoCardSmall\n                label=\"Total DR-POD\"\n                value={\n                  formatNumber({\n                    value: vaultInfo.podTotalSupply,\n                    round: 2,\n                  }) || \"-\"\n                }\n                info={{ onClick: () => setInfoOpen(true) }}\n              />\n            </Column>\n            <Column\n              spanLg={4}\n              spanMd={4}\n              spanSm={12}\n              isNoMarginBottom={!isMobile}\n              isNarrowMargin={isMobile}\n            >\n              <InfoCardSmall\n                label=\"Withdrawal Fee\"\n                value={\n                  `${formatNumber({\n                    value: vaultInfo.feePercentage,\n                    round: 1,\n                  })}%` || \"0%\"\n                }\n              />\n            </Column>\n          </Row>\n        </MarginBox>\n      )}\n\n      <DrPerformanceGraph setId={setId} contractAddress={contractAddress} />\n\n      {context.isConnected && (\n        <>\n          <Heading textAlign=\"center\" margin={{ bottom: grid(2) }}>\n            DR Smart Contract Address\n          </Heading>\n\n          <LinkOut\n            url={getAddressUrl(\n              contractAddress,\n              (!context.loading ? context.chainId : 1) || 1\n            )}\n            isCenter={true}\n          >\n            <span css={{ wordBreak: \"break-word\" }}>{contractAddress}</span>\n          </LinkOut>\n        </>\n      )}\n\n      <SlideOutDrPodInfo\n        isOpen={isInfoOpen}\n        onClose={() => setInfoOpen(false)}\n      />\n    </div>\n  );\n};\n\nexport default VaultLanding;\n","import * as React from \"react\";\nimport { SetId } from \"../../../../types/dr-vault\";\nimport { DR_VAULTS } from \"../../../data/dr/dr-vaults\";\nimport DrProvider from \"../../../site-context/dr-context/dr-provider\";\nimport { WalletContext } from \"../../../site-context/dr-context/wallet-context\";\nimport PageHeading from \"../../modules/page-heading/page-heading\";\nimport Container from \"../../ui-library/container/container\";\nimport { grid } from \"../../ui-library/design-tokens/grid\";\nimport Loader from \"../../ui-library/loader/loader\";\nimport MarginBox from \"../../ui-library/margin-box/margin-box\";\nimport VaultConnected from \"./vault-connected/vault-connected\";\nimport VaultLanding from \"./vault-landing/vault-landing\";\n\ninterface DrVaultProps {\n  setId: SetId;\n}\n\nconst DrVault: React.FC<DrVaultProps> = ({ setId }) => {\n  const context = React.useContext(WalletContext);\n\n  const isViewingVault =\n    context.isConnected && context.isViewingVault && context.isAllowedUser;\n\n  const showVaultLanding = !context.loading && !isViewingVault;\n  const { isArchived } = DR_VAULTS[setId];\n\n  return (\n    <>\n      <Container>\n        <MarginBox\n          margin={{ desktop: { bottom: grid(5) }, mobile: { bottom: grid(4) } }}\n        >\n          <PageHeading\n            heading={`DR VAULT ${setId.toUpperCase()}`}\n            subHeading={\n              !isArchived ? \"DEPOSIT DRC TOKENS INTO DR VAULTS\" : \"WITHDRAW DRC\"\n            }\n          />\n        </MarginBox>\n      </Container>\n\n      {context.loading && (\n        <Container>\n          <Loader height={160} />\n        </Container>\n      )}\n\n      {showVaultLanding && (\n        <Container>\n          <VaultLanding setId={setId} />\n        </Container>\n      )}\n\n      {context.isConnected && isViewingVault && (\n        <Container fullWidthOnMobile={true}>\n          <DrProvider setId={setId} {...context}>\n            <VaultConnected />\n          </DrProvider>\n        </Container>\n      )}\n    </>\n  );\n};\n\nexport default DrVault;\n","import * as React from \"react\";\nimport { SetId } from \"../../../../types/dr-vault\";\nimport WalletProvider from \"../../../site-context/dr-context/wallet-provider\";\nimport DrVault from \"./dr-vault\";\n\ninterface DrVaultAppProps {\n  setId: SetId;\n}\n\nconst DrVaultApp: React.FC<DrVaultAppProps> = ({ setId }) => {\n  return (\n    <WalletProvider>\n      <DrVault setId={setId} />\n    </WalletProvider>\n  );\n};\n\nexport default DrVaultApp;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // Simple abstraction for dragging events names.\n\n\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n}; // Default to mouse events.\n\nvar dragEventFor = eventsFor.mouse;\n/*:: type DraggableCoreState = {\n  dragging: boolean,\n  lastX: number,\n  lastY: number,\n  touchIdentifier: ?number\n};*/\n\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void;*/\n\n/*:: export type ControlPosition = {x: number, y: number};*/\n\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n\n/*:: export type DraggableCoreProps = {\n  allowAnyClick: boolean,\n  cancel: string,\n  children: ReactElement<any>,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\n\nvar DraggableCore = /*#__PURE__*/function (_React$Component) {\n  _inherits(DraggableCore, _React$Component);\n\n  var _super = _createSuper(DraggableCore);\n\n  function DraggableCore() {\n    var _this;\n\n    _classCallCheck(this, DraggableCore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      dragging: false,\n      // Used while dragging to determine deltas.\n      lastX: NaN,\n      lastY: NaN,\n      touchIdentifier: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStart\", function (e) {\n      // Make it possible to attach event handlers on top of this one.\n      _this.props.onMouseDown(e); // Only accept left-clicks.\n\n\n      if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false; // Get nodes. Be sure to grab relative document (could be iframed)\n\n      var thisNode = _this.findDOMNode();\n\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n\n      var ownerDocument = thisNode.ownerDocument; // Short circuit if handle or cancel prop was provided and selector doesn't match.\n\n      if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.handle, thisNode) || _this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.cancel, thisNode)) {\n        return;\n      } // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n\n\n      if (e.type === 'touchstart') e.preventDefault(); // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n\n      var touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n\n      _this.setState({\n        touchIdentifier: touchIdentifier\n      }); // Get the current drag point from the event. This is used as the offset.\n\n\n      var position = (0, _positionFns.getControlPosition)(e, touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return; // not possible but satisfies flow\n\n      var x = position.x,\n          y = position.y; // Create an event object with all the data parents need to make a decision here.\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent); // Call event handler. If it returns explicit false, cancel.\n\n      (0, _log.default)('calling', _this.props.onStart);\n\n      var shouldUpdate = _this.props.onStart(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) return; // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n\n      if (_this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument); // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n\n      _this.setState({\n        dragging: true,\n        lastX: x,\n        lastY: y\n      }); // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n\n\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, _this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, _this.handleDragStop);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrag\", function (e) {\n      // Get the current drag point from the event. This is used as the offset.\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y; // Snap to grid if prop has been provided\n\n      if (Array.isArray(_this.props.grid)) {\n        var deltaX = x - _this.state.lastX,\n            deltaY = y - _this.state.lastY;\n\n        var _snapToGrid = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n        var _snapToGrid2 = _slicedToArray(_snapToGrid, 2);\n\n        deltaX = _snapToGrid2[0];\n        deltaY = _snapToGrid2[1];\n        if (!deltaX && !deltaY) return; // skip useless drag\n\n        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n      }\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent); // Call event handler. If it returns explicit false, trigger end.\n\n      var shouldUpdate = _this.props.onDrag(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) {\n        try {\n          // $FlowIgnore\n          _this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          var event = document.createEvent('MouseEvents')\n          /*: any*/\n          ; // I see why this insanity was deprecated\n          // $FlowIgnore\n\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n          _this.handleDragStop(event);\n        }\n\n        return;\n      }\n\n      _this.setState({\n        lastX: x,\n        lastY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStop\", function (e) {\n      if (!_this.state.dragging) return;\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y;\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y); // Call event handler\n\n      var shouldContinue = _this.props.onStop(e, coreEvent);\n\n      if (shouldContinue === false || _this.mounted === false) return false;\n\n      var thisNode = _this.findDOMNode();\n\n      if (thisNode) {\n        // Remove user-select hack\n        if (_this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent); // Reset the el.\n\n      _this.setState({\n        dragging: false,\n        lastX: NaN,\n        lastY: NaN\n      });\n\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      dragEventFor = eventsFor.mouse;\n      return _this.handleDragStop(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStop(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(DraggableCore, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true; // Touch handlers must be added with {passive: false} to be cancelable.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false; // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n      // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        var ownerDocument = thisNode.ownerDocument;\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n      }\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n      return React.cloneElement(React.Children.only(this.props.children), {\n        // Note: mouseMove handler is attached to document so it will still function\n        // when the user drags quickly and leaves the bounds of the element.\n        onMouseDown: this.onMouseDown,\n        onMouseUp: this.onMouseUp,\n        // onTouchStart is added on `componentDidMount` so they can be added with\n        // {passive: false}, which allows it to cancel. See \n        // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n        onTouchEnd: this.onTouchEnd\n      });\n    }\n  }]);\n\n  return DraggableCore;\n}(React.Component);\n\nexports.default = DraggableCore;\n\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function offsetParent(props\n  /*: DraggableCoreProps*/\n  , propName\n  /*: $Keys<DraggableCoreProps>*/\n  ) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  cancel: null,\n  disabled: false,\n  enableUserSelectHack: true,\n  offsetParent: null,\n  handle: null,\n  grid: null,\n  transform: null,\n  onStart: function onStart() {},\n  onDrag: function onDrag() {},\n  onStop: function onStop() {},\n  onMouseDown: function onMouseDown() {},\n  scale: 1\n});","\"use strict\";\n\nvar _require = require('./Draggable'),\n    Draggable = _require.default,\n    DraggableCore = _require.DraggableCore; // Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\n\n\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBoundPosition = getBoundPosition;\nexports.snapToGrid = snapToGrid;\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.getControlPosition = getControlPosition;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\n\nvar _shims = require(\"./shims\");\n\nvar _domFns = require(\"./domFns\");\n\nfunction getBoundPosition(draggable\n/*: Draggable*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: [number, number]*/\n{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y]; // Clone new bounds\n\n  var bounds = draggable.props.bounds;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  var node = findDOMNode(draggable);\n\n  if (typeof bounds === 'string') {\n    var ownerDocument = node.ownerDocument;\n    var ownerWindow = ownerDocument.defaultView;\n    var boundNode;\n\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n\n    var nodeStyle = ownerWindow.getComputedStyle(node);\n    var boundNodeStyle = ownerWindow.getComputedStyle(boundNode); // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNode) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNode) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  } // Keep x and y below right and bottom limits...\n\n\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom); // But above left and top limits.\n\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\n\nfunction snapToGrid(grid\n/*: [number, number]*/\n, pendingX\n/*: number*/\n, pendingY\n/*: number*/\n)\n/*: [number, number]*/\n{\n  var x = Math.round(pendingX / grid[0]) * grid[0];\n  var y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\n\nfunction canDragX(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\n\nfunction canDragY(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n} // Get {x, y} positions from event.\n\n\nfunction getControlPosition(e\n/*: MouseTouchEvent*/\n, touchIdentifier\n/*: ?number*/\n, draggableCore\n/*: DraggableCore*/\n)\n/*: ?ControlPosition*/\n{\n  var touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n\n  var node = findDOMNode(draggableCore); // User can provide an offsetParent if desired.\n\n  var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n} // Create an data object exposed by <DraggableCore>'s events\n\n\nfunction createCoreData(draggable\n/*: DraggableCore*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: DraggableData*/\n{\n  var state = draggable.state;\n  var isStart = !(0, _shims.isNum)(state.lastX);\n  var node = findDOMNode(draggable);\n\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node: node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x: x,\n      y: y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node: node,\n      deltaX: x - state.lastX,\n      deltaY: y - state.lastY,\n      lastX: state.lastX,\n      lastY: state.lastY,\n      x: x,\n      y: y\n    };\n  }\n} // Create an data exposed by <Draggable>'s events\n\n\nfunction createDraggableData(draggable\n/*: Draggable*/\n, coreData\n/*: DraggableData*/\n)\n/*: DraggableData*/\n{\n  var scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n} // A lot faster than stringify/parse\n\n\nfunction cloneBounds(bounds\n/*: Bounds*/\n)\n/*: Bounds*/\n{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\n\nfunction findDOMNode(draggable\n/*: Draggable | DraggableCore*/\n)\n/*: HTMLElement*/\n{\n  var node = draggable.findDOMNode();\n\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  } // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n\n\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findInArray = findInArray;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\nexports.int = int;\nexports.dontSetMe = dontSetMe; // @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\n\nfunction findInArray(array\n/*: Array<any> | TouchList*/\n, callback\n/*: Function*/\n)\n/*: any*/\n{\n  for (var i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\n\nfunction isFunction(func\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\n\nfunction isNum(num\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof num === 'number' && !isNaN(num);\n}\n\nfunction int(a\n/*: string*/\n)\n/*: number*/\n{\n  return parseInt(a, 10);\n}\n\nfunction dontSetMe(props\n/*: Object*/\n, propName\n/*: string*/\n, componentName\n/*: string*/\n) {\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function get() {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} //\n// Define <Draggable>\n//\n\n\nvar Draggable = /*#__PURE__*/function (_React$Component) {\n  _inherits(Draggable, _React$Component);\n\n  var _super = _createSuper(Draggable);\n\n  _createClass(Draggable, null, [{\n    key: \"getDerivedStateFromProps\",\n    // React 16.3+\n    // Arity (props, state)\n    value: function getDerivedStateFromProps(_ref, _ref2) {\n      var position = _ref.position;\n      var prevPropsPosition = _ref2.prevPropsPosition; // Set x/y if a new position is provided in props that is different than the previous.\n\n      if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n        (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n          position: position,\n          prevPropsPosition: prevPropsPosition\n        });\n        return {\n          x: position.x,\n          y: position.y,\n          prevPropsPosition: _objectSpread({}, position)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  function Draggable(props\n  /*: DraggableProps*/\n  ) {\n    var _this;\n\n    _classCallCheck(this, Draggable);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, coreData) {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData); // Short-circuit if user's callback killed it.\n\n      var shouldStart = _this.props.onStart(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData)); // Kills start event on core as well, so move handlers are never bound.\n\n\n      if (shouldStart === false) return false;\n\n      _this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, coreData) {\n      if (!_this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      var uiData = (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        x: uiData.x,\n        y: uiData.y\n      }; // Keep within bounds.\n\n      if (_this.props.bounds) {\n        // Save original x and y.\n        var x = newState.x,\n            y = newState.y; // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n\n        newState.x += _this.state.slackX;\n        newState.y += _this.state.slackY; // Get bound position. This will ceil/floor the x and y within the boundaries.\n\n        var _getBoundPosition = (0, _positionFns.getBoundPosition)(_assertThisInitialized(_this), newState.x, newState.y),\n            _getBoundPosition2 = _slicedToArray(_getBoundPosition, 2),\n            newStateX = _getBoundPosition2[0],\n            newStateY = _getBoundPosition2[1];\n\n        newState.x = newStateX;\n        newState.y = newStateY; // Recalculate slack by noting how much was shaved by the boundPosition handler.\n\n        newState.slackX = _this.state.slackX + (x - newState.x);\n        newState.slackY = _this.state.slackY + (y - newState.y); // Update the event we fire to reflect what really happened after bounds took effect.\n\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - _this.state.x;\n        uiData.deltaY = newState.y - _this.state.y;\n      } // Short-circuit if user's callback killed it.\n\n\n      var shouldUpdate = _this.props.onDrag(e, uiData);\n\n      if (shouldUpdate === false) return false;\n\n      _this.setState(newState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, coreData) {\n      if (!_this.state.dragging) return false; // Short-circuit if user's callback killed it.\n\n      var shouldContinue = _this.props.onStop(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData));\n\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      }; // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n\n      var controlled = Boolean(_this.props.position);\n\n      if (controlled) {\n        var _this$props$position = _this.props.position,\n            x = _this$props$position.x,\n            y = _this$props$position.y;\n        newState.x = x;\n        newState.y = y;\n      }\n\n      _this.setState(newState);\n    });\n\n    _this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: _objectSpread({}, props.position),\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n\n    return _this;\n  }\n\n  _createClass(Draggable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Check to see if the element passed is an instanceof SVGElement\n      if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n        this.setState({\n          isElementSVG: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        dragging: false\n      }); // prevents invariant if unmounted while dragging\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactElement<any>*/\n    {\n      var _classNames;\n\n      var _this$props = this.props,\n          axis = _this$props.axis,\n          bounds = _this$props.bounds,\n          children = _this$props.children,\n          defaultPosition = _this$props.defaultPosition,\n          defaultClassName = _this$props.defaultClassName,\n          defaultClassNameDragging = _this$props.defaultClassNameDragging,\n          defaultClassNameDragged = _this$props.defaultClassNameDragged,\n          position = _this$props.position,\n          positionOffset = _this$props.positionOffset,\n          scale = _this$props.scale,\n          draggableCoreProps = _objectWithoutProperties(_this$props, [\"axis\", \"bounds\", \"children\", \"defaultPosition\", \"defaultClassName\", \"defaultClassNameDragging\", \"defaultClassNameDragged\", \"position\", \"positionOffset\", \"scale\"]);\n\n      var style = {};\n      var svgTransform = null; // If this is controlled, we don't want to move it - unless it's dragging.\n\n      var controlled = Boolean(position);\n      var draggable = !controlled || this.state.dragging;\n      var validPosition = position || defaultPosition;\n      var transformOpts = {\n        // Set left if horizontal drag is enabled\n        x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n        // Set top if vertical drag is enabled\n        y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n      }; // If this element was SVG, we use the `transform` attribute.\n\n      if (this.state.isElementSVG) {\n        svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n      } else {\n        // Add a CSS transform to move the element around. This allows us to move the element around\n        // without worrying about whether or not it is relatively or absolutely positioned.\n        // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n        // has a clean slate.\n        style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n      } // Mark with class while dragging\n\n\n      var className = (0, _classnames.default)(children.props.className || '', defaultClassName, (_classNames = {}, _defineProperty(_classNames, defaultClassNameDragging, this.state.dragging), _defineProperty(_classNames, defaultClassNameDragged, this.state.dragged), _classNames)); // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\n      return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop\n      }), React.cloneElement(React.Children.only(children), {\n        className: className,\n        style: _objectSpread(_objectSpread({}, children.props.style), style),\n        transform: svgTransform\n      }));\n    }\n  }]);\n\n  return Draggable;\n}(React.Component);\n\nexports.default = Draggable;\n\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n\n_defineProperty(Draggable, \"propTypes\", _objectSpread(_objectSpread({}, _DraggableCore.default.propTypes), {}, {\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n}));\n\n_defineProperty(Draggable, \"defaultProps\", _objectSpread(_objectSpread({}, _DraggableCore.default.defaultProps), {}, {\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  position: null,\n  scale: 1\n}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n/*eslint no-console:0*/\n\nfunction log() {\n  var _console;\n\n  if (undefined) (_console = console).log.apply(_console, arguments);\n}"],"sourceRoot":""}